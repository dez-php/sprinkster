Number.prototype.number_format=function(c,h,e){var f=((typeof this!=="number"?new Number(this):this)+"").replace(/[^0-9+\-Ee.]/g,""),b=!isFinite(+f)?0:+f,a=!isFinite(+c)?0:Math.abs(c),k=(typeof e==="undefined")?",":e,d=(typeof h==="undefined")?".":h,j="",g=function(o,m){var l=Math.pow(10,m);return""+(Math.round(o*l)/l).toFixed(m)};j=(a?g(b,a):""+Math.round(b)).split(".");if(j[0].length>3){j[0]=j[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,k)}if((j[1]||"").length<a){j[1]=j[1]||"";j[1]+=new Array(a-j[1].length+1).join("0")}return j.join(d)};Number.prototype.money_format=function(b,c,a,g,f){var d=(typeof this!=="number"?new Number(this):this),g=g||null,f=f||null,d=d.number_format(b,c,a),e=(g?g+" ":"");e+=d;e+=(f?" "+f:"");return e};var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(j,x,r){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(j)=="[object String]"&&!/\d/.test(j)){x=j;j=undefined}j=j?new Date(j):new Date;if(isNaN(j)){throw SyntaxError("invalid date")}x=String(g.masks[x]||x||g.masks["default"]);if(x.slice(0,4)=="UTC:"){x=x.slice(4);r=true}var v=r?"getUTC":"get",n=j[v+"Date"](),e=j[v+"Day"](),k=j[v+"Month"](),q=j[v+"FullYear"](),u=j[v+"Hours"](),l=j[v+"Minutes"](),w=j[v+"Seconds"](),p=j[v+"Milliseconds"](),f=r?0:j.getTimezoneOffset(),h={d:n,dd:c(n),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:k+1,mm:c(k+1),mmm:g.i18n.monthNames[k],mmmm:g.i18n.monthNames[k+12],yy:String(q).slice(2),yyyy:q,h:u%12||12,hh:c(u%12||12),H:u,HH:c(u),M:l,MM:c(l),s:w,ss:c(w),l:c(p,3),L:c(p>99?Math.round(p/10):p),t:u<12?"a":"p",tt:u<12?"am":"pm",T:u<12?"A":"P",TT:u<12?"AM":"PM",Z:r?"UTC":(String(j).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!=10)*n%10]};return x.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};(function(){var w=this;var l=w._;var J=Array.prototype,g=Object.prototype,o=Function.prototype;var M=J.push,m=J.slice,c=g.toString,k=g.hasOwnProperty;var u=Array.isArray,e=Object.keys,K=o.bind,C=Object.create;var F=function(){};var O=function(P){if(P instanceof O){return P}if(!(this instanceof O)){return new O(P)}this._wrapped=P};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=O}exports._=O}else{w._=O}O.VERSION="1.8.2";var b=function(Q,P,R){if(P===void 0){return Q}switch(R==null?3:R){case 1:return function(S){return Q.call(P,S)};case 2:return function(T,S){return Q.call(P,T,S)};case 3:return function(T,S,U){return Q.call(P,T,S,U)};case 4:return function(S,U,T,V){return Q.call(P,S,U,T,V)}}return function(){return Q.apply(P,arguments)}};var G=function(Q,P,R){if(Q==null){return O.identity}if(O.isFunction(Q)){return b(Q,P,R)}if(O.isObject(Q)){return O.matcher(Q)}return O.property(Q)};O.iteratee=function(Q,P){return G(Q,P,Infinity)};var q=function(Q,P){return function(Y){var W=arguments.length;if(W<2||Y==null){return Y}for(var S=1;S<W;S++){var X=arguments[S],V=Q(X),R=V.length;for(var U=0;U<R;U++){var T=V[U];if(!P||Y[T]===void 0){Y[T]=X[T]}}}return Y}};var D=function(Q){if(!O.isObject(Q)){return{}}if(C){return C(Q)}F.prototype=Q;var P=new F;F.prototype=null;return P};var L=Math.pow(2,53)-1;var E=function(Q){var P=Q&&Q.length;return typeof P=="number"&&P>=0&&P<=L};O.each=O.forEach=function(T,U,Q){U=b(U,Q);var P,S;if(E(T)){for(P=0,S=T.length;P<S;P++){U(T[P],P,T)}}else{var R=O.keys(T);for(P=0,S=R.length;P<S;P++){U(T[R[P]],R[P],T)}}return T};O.map=O.collect=function(U,W,R){W=G(W,R);var T=!E(U)&&O.keys(U),S=(T||U).length,Q=Array(S);for(var P=0;P<S;P++){var V=T?T[P]:P;Q[P]=W(U[V],V,U)}return Q};function A(P){function Q(V,X,R,U,S,T){for(;S>=0&&S<T;S+=P){var W=U?U[S]:S;R=X(R,V[W],W,V)}return R}return function(W,X,R,T){X=b(X,T,4);var V=!E(W)&&O.keys(W),U=(V||W).length,S=P>0?0:U-1;if(arguments.length<3){R=W[V?V[S]:S];S+=P}return Q(W,X,R,V,S,U)}}O.reduce=O.foldl=O.inject=A(1);O.reduceRight=O.foldr=A(-1);O.find=O.detect=function(S,P,R){var Q;if(E(S)){Q=O.findIndex(S,P,R)}else{Q=O.findKey(S,P,R)}if(Q!==void 0&&Q!==-1){return S[Q]}};O.filter=O.select=function(S,P,R){var Q=[];P=G(P,R);O.each(S,function(V,T,U){if(P(V,T,U)){Q.push(V)}});return Q};O.reject=function(R,P,Q){return O.filter(R,O.negate(G(P)),Q)};O.every=O.all=function(U,P,R){P=G(P,R);var T=!E(U)&&O.keys(U),S=(T||U).length;for(var Q=0;Q<S;Q++){var V=T?T[Q]:Q;if(!P(U[V],V,U)){return false}}return true};O.some=O.any=function(U,P,R){P=G(P,R);var T=!E(U)&&O.keys(U),S=(T||U).length;for(var Q=0;Q<S;Q++){var V=T?T[Q]:Q;if(P(U[V],V,U)){return true}}return false};O.contains=O.includes=O.include=function(R,Q,P){if(!E(R)){R=O.values(R)}return O.indexOf(R,Q,typeof P=="number"&&P)>=0};O.invoke=function(R,S){var P=m.call(arguments,2);var Q=O.isFunction(S);return O.map(R,function(U){var T=Q?S:U[S];return T==null?T:T.apply(U,P)})};O.pluck=function(Q,P){return O.map(Q,O.property(P))};O.where=function(Q,P){return O.filter(Q,O.matcher(P))};O.findWhere=function(Q,P){return O.find(Q,O.matcher(P))};O.max=function(S,U,P){var X=-Infinity,V=-Infinity,W,R;if(U==null&&S!=null){S=E(S)?S:O.values(S);for(var T=0,Q=S.length;T<Q;T++){W=S[T];if(W>X){X=W}}}else{U=G(U,P);O.each(S,function(aa,Y,Z){R=U(aa,Y,Z);if(R>V||R===-Infinity&&X===-Infinity){X=aa;V=R}})}return X};O.min=function(S,U,P){var X=Infinity,V=Infinity,W,R;if(U==null&&S!=null){S=E(S)?S:O.values(S);for(var T=0,Q=S.length;T<Q;T++){W=S[T];if(W<X){X=W}}}else{U=G(U,P);O.each(S,function(aa,Y,Z){R=U(aa,Y,Z);if(R<V||R===Infinity&&X===Infinity){X=aa;V=R}})}return X};O.shuffle=function(T){var U=E(T)?T:O.values(T);var S=U.length;var P=Array(S);for(var Q=0,R;Q<S;Q++){R=O.random(0,Q);if(R!==Q){P[Q]=P[R]}P[R]=U[Q]}return P};O.sample=function(Q,R,P){if(R==null||P){if(!E(Q)){Q=O.values(Q)}return Q[O.random(Q.length-1)]}return O.shuffle(Q).slice(0,Math.max(0,R))};O.sortBy=function(Q,R,P){R=G(R,P);return O.pluck(O.map(Q,function(U,S,T){return{value:U,index:S,criteria:R(U,S,T)}}).sort(function(V,U){var T=V.criteria;var S=U.criteria;if(T!==S){if(T>S||T===void 0){return 1}if(T<S||S===void 0){return -1}}return V.index-U.index}),"value")};var r=function(P){return function(S,T,R){var Q={};T=G(T,R);O.each(S,function(W,U){var V=T(W,U,S);P(Q,W,V)});return Q}};O.groupBy=r(function(P,R,Q){if(O.has(P,Q)){P[Q].push(R)}else{P[Q]=[R]}});O.indexBy=r(function(P,R,Q){P[Q]=R});O.countBy=r(function(P,R,Q){if(O.has(P,Q)){P[Q]++}else{P[Q]=1}});O.toArray=function(P){if(!P){return[]}if(O.isArray(P)){return m.call(P)}if(E(P)){return O.map(P,O.identity)}return O.values(P)};O.size=function(P){if(P==null){return 0}return E(P)?P.length:O.keys(P).length};O.partition=function(T,P,R){P=G(P,R);var S=[],Q=[];O.each(T,function(V,U,W){(P(V,U,W)?S:Q).push(V)});return[S,Q]};O.first=O.head=O.take=function(R,Q,P){if(R==null){return void 0}if(Q==null||P){return R[0]}return O.initial(R,R.length-Q)};O.initial=function(R,Q,P){return m.call(R,0,Math.max(0,R.length-(Q==null||P?1:Q)))};O.last=function(R,Q,P){if(R==null){return void 0}if(Q==null||P){return R[R.length-1]}return O.rest(R,Math.max(0,R.length-Q))};O.rest=O.tail=O.drop=function(R,Q,P){return m.call(R,Q==null||P?1:Q)};O.compact=function(P){return O.filter(P,O.identity)};var x=function(V,R,W,Z){var Q=[],Y=0;for(var T=Z||0,P=V&&V.length;T<P;T++){var X=V[T];if(E(X)&&(O.isArray(X)||O.isArguments(X))){if(!R){X=x(X,R,W)}var S=0,U=X.length;Q.length+=U;while(S<U){Q[Y++]=X[S++]}}else{if(!W){Q[Y++]=X}}}return Q};O.flatten=function(Q,P){return x(Q,P,false)};O.without=function(P){return O.difference(P,m.call(arguments,1))};O.uniq=O.unique=function(W,S,V,Q){if(W==null){return[]}if(!O.isBoolean(S)){Q=V;V=S;S=false}if(V!=null){V=G(V,Q)}var Y=[];var P=[];for(var U=0,R=W.length;U<R;U++){var X=W[U],T=V?V(X,U,W):X;if(S){if(!U||P!==T){Y.push(X)}P=T}else{if(V){if(!O.contains(P,T)){P.push(T);Y.push(X)}}else{if(!O.contains(Y,X)){Y.push(X)}}}}return Y};O.union=function(){return O.uniq(x(arguments,true,true))};O.intersection=function(V){if(V==null){return[]}var P=[];var U=arguments.length;for(var R=0,T=V.length;R<T;R++){var S=V[R];if(O.contains(P,S)){continue}for(var Q=1;Q<U;Q++){if(!O.contains(arguments[Q],S)){break}}if(Q===U){P.push(S)}}return P};O.difference=function(Q){var P=x(arguments,true,true,1);return O.filter(Q,function(R){return !O.contains(P,R)})};O.zip=function(){return O.unzip(arguments)};O.unzip=function(S){var R=S&&O.max(S,"length").length||0;var P=Array(R);for(var Q=0;Q<R;Q++){P[Q]=O.pluck(S,Q)}return P};O.object=function(T,Q){var P={};for(var R=0,S=T&&T.length;R<S;R++){if(Q){P[T[R]]=Q[R]}else{P[T[R][0]]=T[R][1]}}return P};O.indexOf=function(T,R,S){var P=0,Q=T&&T.length;if(typeof S=="number"){P=S<0?Math.max(0,Q+S):S}else{if(S&&Q){P=O.sortedIndex(T,R);return T[P]===R?P:-1}}if(R!==R){return O.findIndex(m.call(T,P),O.isNaN)}for(;P<Q;P++){if(T[P]===R){return P}}return -1};O.lastIndexOf=function(S,Q,R){var P=S?S.length:0;if(typeof R=="number"){P=R<0?P+R+1:Math.min(P,R+1)}if(Q!==Q){return O.findLastIndex(m.call(S,0,P),O.isNaN)}while(--P>=0){if(S[P]===Q){return P}}return -1};function f(P){return function(U,Q,S){Q=G(Q,S);var T=U!=null&&U.length;var R=P>0?0:T-1;for(;R>=0&&R<T;R+=P){if(Q(U[R],R,U)){return R}}return -1}}O.findIndex=f(1);O.findLastIndex=f(-1);O.sortedIndex=function(W,U,V,R){V=G(V,R,1);var T=V(U);var P=0,S=W.length;while(P<S){var Q=Math.floor((P+S)/2);if(V(W[Q])<T){P=Q+1}else{S=Q}}return P};O.range=function(U,R,T){if(arguments.length<=1){R=U||0;U=0}T=T||1;var S=Math.max(Math.ceil((R-U)/T),0);var Q=Array(S);for(var P=0;P<S;P++,U+=T){Q[P]=U}return Q};var z=function(U,R,T,V,S){if(!(V instanceof R)){return U.apply(T,S)}var Q=D(U.prototype);var P=U.apply(Q,S);if(O.isObject(P)){return P}return Q};O.bind=function(S,Q){if(K&&S.bind===K){return K.apply(S,m.call(arguments,1))}if(!O.isFunction(S)){throw new TypeError("Bind must be called on a function")}var P=m.call(arguments,2);var R=function(){return z(S,R,Q,this,P.concat(m.call(arguments)))};return R};O.partial=function(Q){var R=m.call(arguments,1);var P=function(){var S=0,V=R.length;var T=Array(V);for(var U=0;U<V;U++){T[U]=R[U]===O?arguments[S++]:R[U]}while(S<arguments.length){T.push(arguments[S++])}return z(Q,P,this,this,T)};return P};O.bindAll=function(S){var Q,R=arguments.length,P;if(R<=1){throw new Error("bindAll must be passed function names")}for(Q=1;Q<R;Q++){P=arguments[Q];S[P]=O.bind(S[P],S)}return S};O.memoize=function(Q,P){var R=function(U){var T=R.cache;var S=""+(P?P.apply(this,arguments):U);if(!O.has(T,S)){T[S]=Q.apply(this,arguments)}return T[S]};R.cache={};return R};O.delay=function(Q,R){var P=m.call(arguments,2);return setTimeout(function(){return Q.apply(null,P)},R)};O.defer=O.partial(O.delay,O,1);O.throttle=function(Q,S,W){var P,U,X;var V=null;var T=0;if(!W){W={}}var R=function(){T=W.leading===false?0:O.now();V=null;X=Q.apply(P,U);if(!V){P=U=null}};return function(){var Y=O.now();if(!T&&W.leading===false){T=Y}var Z=S-(Y-T);P=this;U=arguments;if(Z<=0||Z>S){if(V){clearTimeout(V);V=null}T=Y;X=Q.apply(P,U);if(!V){P=U=null}}else{if(!V&&W.trailing!==false){V=setTimeout(R,Z)}}return X}};O.debounce=function(R,T,Q){var W,V,P,U,X;var S=function(){var Y=O.now()-U;if(Y<T&&Y>=0){W=setTimeout(S,T-Y)}else{W=null;if(!Q){X=R.apply(P,V);if(!W){P=V=null}}}};return function(){P=this;V=arguments;U=O.now();var Y=Q&&!W;if(!W){W=setTimeout(S,T)}if(Y){X=R.apply(P,V);P=V=null}return X}};O.wrap=function(P,Q){return O.partial(Q,P)};O.negate=function(P){return function(){return !P.apply(this,arguments)}};O.compose=function(){var P=arguments;var Q=P.length-1;return function(){var S=Q;var R=P[Q].apply(this,arguments);while(S--){R=P[S].call(this,R)}return R}};O.after=function(Q,P){return function(){if(--Q<1){return P.apply(this,arguments)}}};O.before=function(R,Q){var P;return function(){if(--R>0){P=Q.apply(this,arguments)}if(R<=1){Q=null}return P}};O.once=O.partial(O.before,2);var H=!{toString:null}.propertyIsEnumerable("toString");var a=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function d(T,S){var P=a.length;var Q=T.constructor;var R=(O.isFunction(Q)&&Q.prototype)||g;var U="constructor";if(O.has(T,U)&&!O.contains(S,U)){S.push(U)}while(P--){U=a[P];if(U in T&&T[U]!==R[U]&&!O.contains(S,U)){S.push(U)}}}O.keys=function(R){if(!O.isObject(R)){return[]}if(e){return e(R)}var Q=[];for(var P in R){if(O.has(R,P)){Q.push(P)}}if(H){d(R,Q)}return Q};O.allKeys=function(R){if(!O.isObject(R)){return[]}var Q=[];for(var P in R){Q.push(P)}if(H){d(R,Q)}return Q};O.values=function(T){var S=O.keys(T);var R=S.length;var P=Array(R);for(var Q=0;Q<R;Q++){P[Q]=T[S[Q]]}return P};O.mapObject=function(U,W,R){W=G(W,R);var T=O.keys(U),S=T.length,Q={},V;for(var P=0;P<S;P++){V=T[P];Q[V]=W(U[V],V,U)}return Q};O.pairs=function(T){var R=O.keys(T);var Q=R.length;var S=Array(Q);for(var P=0;P<Q;P++){S[P]=[R[P],T[R[P]]]}return S};O.invert=function(T){var P={};var S=O.keys(T);for(var Q=0,R=S.length;Q<R;Q++){P[T[S[Q]]]=S[Q]}return P};O.functions=O.methods=function(R){var Q=[];for(var P in R){if(O.isFunction(R[P])){Q.push(P)}}return Q.sort()};O.extend=q(O.allKeys);O.extendOwn=O.assign=q(O.keys);O.findKey=function(V,P,S){P=G(P,S);var U=O.keys(V),R;for(var Q=0,T=U.length;Q<T;Q++){R=U[Q];if(P(V[R],R,V)){return R}}};O.pick=function(R,V,P){var Z={},S=R,U,Y;if(S==null){return Z}if(O.isFunction(V)){Y=O.allKeys(S);U=b(V,P)}else{Y=x(arguments,false,false,1);U=function(ab,aa,ac){return aa in ac};S=Object(S)}for(var T=0,Q=Y.length;T<Q;T++){var X=Y[T];var W=S[X];if(U(W,X,S)){Z[X]=W}}return Z};O.omit=function(R,S,P){if(O.isFunction(S)){S=O.negate(S)}else{var Q=O.map(x(arguments,false,false,1),String);S=function(U,T){return !O.contains(Q,T)}}return O.pick(R,S,P)};O.defaults=q(O.allKeys,true);O.clone=function(P){if(!O.isObject(P)){return P}return O.isArray(P)?P.slice():O.extend({},P)};O.tap=function(Q,P){P(Q);return Q};O.isMatch=function(Q,P){var U=O.keys(P),T=U.length;if(Q==null){return !T}var V=Object(Q);for(var S=0;S<T;S++){var R=U[S];if(P[R]!==V[R]||!(R in V)){return false}}return true};var N=function(X,W,Q,S){if(X===W){return X!==0||1/X===1/W}if(X==null||W==null){return X===W}if(X instanceof O){X=X._wrapped}if(W instanceof O){W=W._wrapped}var U=c.call(X);if(U!==c.call(W)){return false}switch(U){case"[object RegExp]":case"[object String]":return""+X===""+W;case"[object Number]":if(+X!==+X){return +W!==+W}return +X===0?1/+X===1/W:+X===+W;case"[object Date]":case"[object Boolean]":return +X===+W}var R=U==="[object Array]";if(!R){if(typeof X!="object"||typeof W!="object"){return false}var V=X.constructor,T=W.constructor;if(V!==T&&!(O.isFunction(V)&&V instanceof V&&O.isFunction(T)&&T instanceof T)&&("constructor" in X&&"constructor" in W)){return false}}Q=Q||[];S=S||[];var P=Q.length;while(P--){if(Q[P]===X){return S[P]===W}}Q.push(X);S.push(W);if(R){P=X.length;if(P!==W.length){return false}while(P--){if(!N(X[P],W[P],Q,S)){return false}}}else{var Z=O.keys(X),Y;P=Z.length;if(O.keys(W).length!==P){return false}while(P--){Y=Z[P];if(!(O.has(W,Y)&&N(X[Y],W[Y],Q,S))){return false}}}Q.pop();S.pop();return true};O.isEqual=function(Q,P){return N(Q,P)};O.isEmpty=function(P){if(P==null){return true}if(E(P)&&(O.isArray(P)||O.isString(P)||O.isArguments(P))){return P.length===0}return O.keys(P).length===0};O.isElement=function(P){return !!(P&&P.nodeType===1)};O.isArray=u||function(P){return c.call(P)==="[object Array]"};O.isObject=function(Q){var P=typeof Q;return P==="function"||P==="object"&&!!Q};O.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(P){O["is"+P]=function(Q){return c.call(Q)==="[object "+P+"]"}});if(!O.isArguments(arguments)){O.isArguments=function(P){return O.has(P,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){O.isFunction=function(P){return typeof P=="function"||false}}O.isFinite=function(P){return isFinite(P)&&!isNaN(parseFloat(P))};O.isNaN=function(P){return O.isNumber(P)&&P!==+P};O.isBoolean=function(P){return P===true||P===false||c.call(P)==="[object Boolean]"};O.isNull=function(P){return P===null};O.isUndefined=function(P){return P===void 0};O.has=function(Q,P){return Q!=null&&k.call(Q,P)};O.noConflict=function(){w._=l;return this};O.identity=function(P){return P};O.constant=function(P){return function(){return P}};O.noop=function(){};O.property=function(P){return function(Q){return Q==null?void 0:Q[P]}};O.propertyOf=function(P){return P==null?function(){}:function(Q){return P[Q]}};O.matcher=O.matches=function(P){P=O.extendOwn({},P);return function(Q){return O.isMatch(Q,P)}};O.times=function(T,S,R){var P=Array(Math.max(0,T));S=b(S,R,1);for(var Q=0;Q<T;Q++){P[Q]=S(Q)}return P};O.random=function(Q,P){if(P==null){P=Q;Q=0}return Q+Math.floor(Math.random()*(P-Q+1))};O.now=Date.now||function(){return new Date().getTime()};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var n=O.invert(s);var y=function(T){var Q=function(U){return T[U]};var S="(?:"+O.keys(T).join("|")+")";var R=RegExp(S);var P=RegExp(S,"g");return function(U){U=U==null?"":""+U;return R.test(U)?U.replace(P,Q):U}};O.escape=y(s);O.unescape=y(n);O.result=function(P,R,S){var Q=P==null?void 0:P[R];if(Q===void 0){Q=S}return O.isFunction(Q)?Q.call(P):Q};var B=0;O.uniqueId=function(P){var Q=++B+"";return P?P+Q:Q};O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var j=/\\|'|\r|\n|\u2028|\u2029/g;var I=function(P){return"\\"+h[P]};O.template=function(Y,S,V){if(!S&&V){S=V}S=O.defaults({},S,O.templateSettings);var T=RegExp([(S.escape||v).source,(S.interpolate||v).source,(S.evaluate||v).source].join("|")+"|$","g");var U=0;var P="__p+='";Y.replace(T,function(aa,ab,Z,ad,ac){P+=Y.slice(U,ac).replace(j,I);U=ac+aa.length;if(ab){P+="'+\n((__t=("+ab+"))==null?'':_.escape(__t))+\n'"}else{if(Z){P+="'+\n((__t=("+Z+"))==null?'':__t)+\n'"}else{if(ad){P+="';\n"+ad+"\n__p+='"}}}return aa});P+="';\n";if(!S.variable){P="with(obj||{}){\n"+P+"}\n"}P="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+P+"return __p;\n";try{var R=new Function(S.variable||"obj","_",P)}catch(W){W.source=P;throw W}var X=function(Z){return R.call(this,Z,O)};var Q=S.variable||"obj";X.source="function("+Q+"){\n"+P+"}";return X};O.chain=function(Q){var P=O(Q);P._chain=true;return P};var p=function(P,Q){return P._chain?O(Q).chain():Q};O.mixin=function(P){O.each(O.functions(P),function(Q){var R=O[Q]=P[Q];O.prototype[Q]=function(){var S=[this._wrapped];M.apply(S,arguments);return p(this,R.apply(O,S))}})};O.mixin(O);O.each(["pop","push","reverse","shift","sort","splice","unshift"],function(P){var Q=J[P];O.prototype[P]=function(){var R=this._wrapped;Q.apply(R,arguments);if((P==="shift"||P==="splice")&&R.length===0){delete R[0]}return p(this,R)}});O.each(["concat","join","slice"],function(P){var Q=J[P];O.prototype[P]=function(){return p(this,Q.apply(this._wrapped,arguments))}});O.prototype.value=function(){return this._wrapped};O.prototype.valueOf=O.prototype.toJSON=O.prototype.value;O.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return O})}}.call(this));(function(b,a){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b.document?a(b,true):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return a(c)}}else{a(b)}}(typeof window!=="undefined"?window:this,function(a5,av){var aP=[];var P=aP.slice;var az=aP.concat;var x=aP.push;var bU=aP.indexOf;var ac={};var y=ac.toString;var K=ac.hasOwnProperty;var D={};var ai="1.11.2",bI=function(e,b6){return new bI.fn.init(e,b6)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bS=/^-ms-/,aW=/-([\da-z])/gi,O=function(e,b6){return b6.toUpperCase()};bI.fn=bI.prototype={jquery:ai,constructor:bI,selector:"",length:0,toArray:function(){return P.call(this)},get:function(e){return e!=null?(e<0?this[e+this.length]:this[e]):P.call(this)},pushStack:function(e){var b6=bI.merge(this.constructor(),e);b6.prevObject=this;b6.context=this.context;return b6},each:function(b6,e){return bI.each(this,b6,e)},map:function(e){return this.pushStack(bI.map(this,function(b7,b6){return e.call(b7,b6,b7)}))},slice:function(){return this.pushStack(P.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b7){var e=this.length,b6=+b7+(b7<0?e:0);return this.pushStack(b6>=0&&b6<e?[this[b6]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:x,sort:aP.sort,splice:aP.splice};bI.extend=bI.fn.extend=function(){var e,cb,b6,b7,ce,cc,ca=arguments[0]||{},b9=1,b8=arguments.length,cd=false;if(typeof ca==="boolean"){cd=ca;ca=arguments[b9]||{};b9++}if(typeof ca!=="object"&&!bI.isFunction(ca)){ca={}}if(b9===b8){ca=this;b9--}for(;b9<b8;b9++){if((ce=arguments[b9])!=null){for(b7 in ce){e=ca[b7];b6=ce[b7];if(ca===b6){continue}if(cd&&b6&&(bI.isPlainObject(b6)||(cb=bI.isArray(b6)))){if(cb){cb=false;cc=e&&bI.isArray(e)?e:[]}else{cc=e&&bI.isPlainObject(e)?e:{}}ca[b7]=bI.extend(cd,cc,b6)}else{if(b6!==undefined){ca[b7]=b6}}}}}return ca};bI.extend({expando:"jQuery"+(ai+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return bI.type(e)==="function"},isArray:Array.isArray||function(e){return bI.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !bI.isArray(e)&&(e-parseFloat(e)+1)>=0},isEmptyObject:function(b6){var e;for(e in b6){return false}return true},isPlainObject:function(b8){var b6;if(!b8||bI.type(b8)!=="object"||b8.nodeType||bI.isWindow(b8)){return false}try{if(b8.constructor&&!K.call(b8,"constructor")&&!K.call(b8.constructor.prototype,"isPrototypeOf")){return false}}catch(b7){return false}if(D.ownLast){for(b6 in b8){return K.call(b8,b6)}}for(b6 in b8){}return b6===undefined||K.call(b8,b6)},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?ac[y.call(e)]||"object":typeof e},globalEval:function(e){if(e&&bI.trim(e)){(a5.execScript||function(b6){a5["eval"].call(a5,b6)})(e)}},camelCase:function(e){return e.replace(bS,"ms-").replace(aW,O)},nodeName:function(b6,e){return b6.nodeName&&b6.nodeName.toLowerCase()===e.toLowerCase()},each:function(ca,cb,b6){var b9,b7=0,b8=ca.length,e=ad(ca);if(b6){if(e){for(;b7<b8;b7++){b9=cb.apply(ca[b7],b6);if(b9===false){break}}}else{for(b7 in ca){b9=cb.apply(ca[b7],b6);if(b9===false){break}}}}else{if(e){for(;b7<b8;b7++){b9=cb.call(ca[b7],b7,ca[b7]);if(b9===false){break}}}else{for(b7 in ca){b9=cb.call(ca[b7],b7,ca[b7]);if(b9===false){break}}}}return ca},trim:function(e){return e==null?"":(e+"").replace(E,"")},makeArray:function(e,b7){var b6=b7||[];if(e!=null){if(ad(Object(e))){bI.merge(b6,typeof e==="string"?[e]:e)}else{x.call(b6,e)}}return b6},inArray:function(b8,b6,b7){var e;if(b6){if(bU){return bU.call(b6,b8,b7)}e=b6.length;b7=b7?b7<0?Math.max(0,e+b7):b7:0;for(;b7<e;b7++){if(b7 in b6&&b6[b7]===b8){return b7}}}return -1},merge:function(b9,b7){var e=+b7.length,b6=0,b8=b9.length;while(b6<e){b9[b8++]=b7[b6++]}if(e!==e){while(b7[b6]!==undefined){b9[b8++]=b7[b6++]}}b9.length=b8;return b9},grep:function(e,cc,b9){var cb,b8=[],b6=0,b7=e.length,ca=!b9;for(;b6<b7;b6++){cb=!cc(e[b6],b6);if(cb!==ca){b8.push(e[b6])}}return b8},map:function(b7,cc,e){var cb,b9=0,ca=b7.length,b6=ad(b7),b8=[];if(b6){for(;b9<ca;b9++){cb=cc(b7[b9],b9,e);if(cb!=null){b8.push(cb)}}}else{for(b9 in b7){cb=cc(b7[b9],b9,e);if(cb!=null){b8.push(cb)}}}return az.apply([],b8)},guid:1,proxy:function(b9,b8){var e,b7,b6;if(typeof b8==="string"){b6=b9[b8];b8=b9;b9=b6}if(!bI.isFunction(b9)){return undefined}e=P.call(arguments,2);b7=function(){return b9.apply(b8||this,e.concat(P.call(arguments)))};b7.guid=b9.guid=b9.guid||bI.guid++;return b7},now:function(){return +(new Date())},support:D});bI.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b6,e){ac["[object "+e+"]"]=e.toLowerCase()});function ad(b7){var b6=b7.length,e=bI.type(b7);if(e==="function"||bI.isWindow(b7)){return false}if(b7.nodeType===1&&b6){return true}return e==="array"||b6===0||typeof b6==="number"&&b6>0&&(b6-1) in b7}var m=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function(de){var cy,dh,cn,cH,cK,ci,cW,dg,dm,cI,cX,cZ,cC,co,c8,c3,df,ce,cF,da="sizzle"+1*new Date(),cJ=de.document,di=0,c4=0,b9=cA(),c9=cA(),cG=cA(),cE=function(dn,e){if(dn===e){cX=true}return 0},cQ=1<<31,cO=({}).hasOwnProperty,dc=[],dd=dc.pop,cM=dc.push,b7=dc.push,cm=dc.slice,cd=function(dq,dp){var dn=0,e=dq.length;for(;dn<e;dn++){if(dq[dn]===dp){return dn}}return -1},b8="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cp="[\\x20\\t\\r\\n\\f]",b6="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cL=b6.replace("w","w#"),c6="\\["+cp+"*("+b6+")(?:"+cp+"*([*^$|!~]?=)"+cp+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+cL+"))|)"+cp+"*\\]",ck=":("+b6+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+c6+")*)|.*)\\)|)",cu=new RegExp(cp+"+","g"),cr=new RegExp("^"+cp+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cp+"+$","g"),cv=new RegExp("^"+cp+"*,"+cp+"*"),cB=new RegExp("^"+cp+"*([>+~]|"+cp+")"+cp+"*"),ct=new RegExp("="+cp+"*([^\\]'\"]*?)"+cp+"*\\]","g"),cS=new RegExp(ck),cU=new RegExp("^"+cL+"$"),c2={ID:new RegExp("^#("+b6+")"),CLASS:new RegExp("^\\.("+b6+")"),TAG:new RegExp("^("+b6.replace("w","w*")+")"),ATTR:new RegExp("^"+c6),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cp+"*(even|odd|(([+-]|)(\\d*)n|)"+cp+"*(?:([+-]|)"+cp+"*(\\d+)|))"+cp+"*\\)|)","i"),bool:new RegExp("^(?:"+b8+")$","i"),needsContext:new RegExp("^"+cp+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cp+"*((?:-\\d)?\\d*)"+cp+"*\\)|)(?=[^-]|$)","i")},cc=/^(?:input|select|textarea|button)$/i,cl=/^h\d$/i,cP=/^[^{]+\{\s*\[native \w/,cR=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,c1=/[+~]/,cN=/'|\\/g,cs=new RegExp("\\\\([\\da-f]{1,6}"+cp+"?|("+cp+")|.)","ig"),c5=function(e,dq,dn){var dp="0x"+dq-65536;return dp!==dp||dn?dq:dp<0?String.fromCharCode(dp+65536):String.fromCharCode(dp>>10|55296,dp&1023|56320)},dl=function(){cZ()};try{b7.apply((dc=cm.call(cJ.childNodes)),cJ.childNodes);dc[cJ.childNodes.length].nodeType}catch(cD){b7={apply:dc.length?function(dn,e){cM.apply(dn,cm.call(e))}:function(dq,dp){var e=dq.length,dn=0;while((dq[e++]=dp[dn++])){}dq.length=e-1}}}function cw(dv,dn,dz,dB){var dA,ds,dt,dx,dy,dr,dq,e,dp,dw;if((dn?dn.ownerDocument||dn:cJ)!==cC){cZ(dn)}dn=dn||cC;dz=dz||[];dx=dn.nodeType;if(typeof dv!=="string"||!dv||dx!==1&&dx!==9&&dx!==11){return dz}if(!dB&&c8){if(dx!==11&&(dA=cR.exec(dv))){if((dt=dA[1])){if(dx===9){ds=dn.getElementById(dt);if(ds&&ds.parentNode){if(ds.id===dt){dz.push(ds);return dz}}else{return dz}}else{if(dn.ownerDocument&&(ds=dn.ownerDocument.getElementById(dt))&&cF(dn,ds)&&ds.id===dt){dz.push(ds);return dz}}}else{if(dA[2]){b7.apply(dz,dn.getElementsByTagName(dv));return dz}else{if((dt=dA[3])&&dh.getElementsByClassName){b7.apply(dz,dn.getElementsByClassName(dt));return dz}}}}if(dh.qsa&&(!c3||!c3.test(dv))){e=dq=da;dp=dn;dw=dx!==1&&dv;if(dx===1&&dn.nodeName.toLowerCase()!=="object"){dr=ci(dv);if((dq=dn.getAttribute("id"))){e=dq.replace(cN,"\\$&")}else{dn.setAttribute("id",e)}e="[id='"+e+"'] ";dy=dr.length;while(dy--){dr[dy]=e+ch(dr[dy])}dp=c1.test(dv)&&cT(dn.parentNode)||dn;dw=dr.join(",")}if(dw){try{b7.apply(dz,dp.querySelectorAll(dw));return dz}catch(du){}finally{if(!dq){dn.removeAttribute("id")}}}}}return dg(dv.replace(cr,"$1"),dn,dz,dB)}function cA(){var dn=[];function e(dp,dq){if(dn.push(dp+" ")>cn.cacheLength){delete e[dn.shift()]}return(e[dp+" "]=dq)}return e}function cj(e){e[da]=true;return e}function cf(dn){var dq=cC.createElement("div");try{return !!dn(dq)}catch(dp){return false}finally{if(dq.parentNode){dq.parentNode.removeChild(dq)}dq=null}}function dj(dn,dq){var e=dn.split("|"),dp=dn.length;while(dp--){cn.attrHandle[e[dp]]=dq}}function ca(dn,e){var dq=e&&dn,dp=dq&&dn.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||cQ)-(~dn.sourceIndex||cQ);if(dp){return dp}if(dq){while((dq=dq.nextSibling)){if(dq===e){return -1}}}return dn?1:-1}function cx(e){return function(dp){var dn=dp.nodeName.toLowerCase();return dn==="input"&&dp.type===e}}function cb(e){return function(dp){var dn=dp.nodeName.toLowerCase();return(dn==="input"||dn==="button")&&dp.type===e}}function c7(e){return cj(function(dn){dn=+dn;return cj(function(dp,dt){var dr,dq=e([],dp.length,dn),ds=dq.length;while(ds--){if(dp[(dr=dq[ds])]){dp[dr]=!(dt[dr]=dp[dr])}}})})}function cT(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}dh=cw.support={};cK=cw.isXML=function(e){var dn=e&&(e.ownerDocument||e).documentElement;return dn?dn.nodeName!=="HTML":false};cZ=cw.setDocument=function(dp){var e,dn,dq=dp?dp.ownerDocument||dp:cJ;if(dq===cC||dq.nodeType!==9||!dq.documentElement){return cC}cC=dq;co=dq.documentElement;dn=dq.defaultView;if(dn&&dn!==dn.top){if(dn.addEventListener){dn.addEventListener("unload",dl,false)}else{if(dn.attachEvent){dn.attachEvent("onunload",dl)}}}c8=!cK(dq);dh.attributes=cf(function(dr){dr.className="i";return !dr.getAttribute("className")});dh.getElementsByTagName=cf(function(dr){dr.appendChild(dq.createComment(""));return !dr.getElementsByTagName("*").length});dh.getElementsByClassName=cP.test(dq.getElementsByClassName);dh.getById=cf(function(dr){co.appendChild(dr).id=da;return !dq.getElementsByName||!dq.getElementsByName(da).length});if(dh.getById){cn.find.ID=function(dt,ds){if(typeof ds.getElementById!=="undefined"&&c8){var dr=ds.getElementById(dt);return dr&&dr.parentNode?[dr]:[]}};cn.filter.ID=function(ds){var dr=ds.replace(cs,c5);return function(dt){return dt.getAttribute("id")===dr}}}else{delete cn.find.ID;cn.filter.ID=function(ds){var dr=ds.replace(cs,c5);return function(du){var dt=typeof du.getAttributeNode!=="undefined"&&du.getAttributeNode("id");return dt&&dt.value===dr}}}cn.find.TAG=dh.getElementsByTagName?function(dr,ds){if(typeof ds.getElementsByTagName!=="undefined"){return ds.getElementsByTagName(dr)}else{if(dh.qsa){return ds.querySelectorAll(dr)}}}:function(dr,dv){var dw,du=[],dt=0,ds=dv.getElementsByTagName(dr);if(dr==="*"){while((dw=ds[dt++])){if(dw.nodeType===1){du.push(dw)}}return du}return ds};cn.find.CLASS=dh.getElementsByClassName&&function(ds,dr){if(c8){return dr.getElementsByClassName(ds)}};df=[];c3=[];if((dh.qsa=cP.test(dq.querySelectorAll))){cf(function(dr){co.appendChild(dr).innerHTML="<a id='"+da+"'></a><select id='"+da+"-\f]' msallowcapture=''><option selected=''></option></select>";if(dr.querySelectorAll("[msallowcapture^='']").length){c3.push("[*^$]="+cp+"*(?:''|\"\")")}if(!dr.querySelectorAll("[selected]").length){c3.push("\\["+cp+"*(?:value|"+b8+")")}if(!dr.querySelectorAll("[id~="+da+"-]").length){c3.push("~=")}if(!dr.querySelectorAll(":checked").length){c3.push(":checked")}if(!dr.querySelectorAll("a#"+da+"+*").length){c3.push(".#.+[+~]")}});cf(function(ds){var dr=dq.createElement("input");dr.setAttribute("type","hidden");ds.appendChild(dr).setAttribute("name","D");if(ds.querySelectorAll("[name=d]").length){c3.push("name"+cp+"*[*^$|!~]?=")}if(!ds.querySelectorAll(":enabled").length){c3.push(":enabled",":disabled")}ds.querySelectorAll("*,:x");c3.push(",.*:")})}if((dh.matchesSelector=cP.test((ce=co.matches||co.webkitMatchesSelector||co.mozMatchesSelector||co.oMatchesSelector||co.msMatchesSelector)))){cf(function(dr){dh.disconnectedMatch=ce.call(dr,"div");ce.call(dr,"[s!='']:x");df.push("!=",ck)})}c3=c3.length&&new RegExp(c3.join("|"));df=df.length&&new RegExp(df.join("|"));e=cP.test(co.compareDocumentPosition);cF=e||cP.test(co.contains)?function(ds,dr){var du=ds.nodeType===9?ds.documentElement:ds,dt=dr&&dr.parentNode;return ds===dt||!!(dt&&dt.nodeType===1&&(du.contains?du.contains(dt):ds.compareDocumentPosition&&ds.compareDocumentPosition(dt)&16))}:function(ds,dr){if(dr){while((dr=dr.parentNode)){if(dr===ds){return true}}}return false};cE=e?function(ds,dr){if(ds===dr){cX=true;return 0}var dt=!ds.compareDocumentPosition-!dr.compareDocumentPosition;if(dt){return dt}dt=(ds.ownerDocument||ds)===(dr.ownerDocument||dr)?ds.compareDocumentPosition(dr):1;if(dt&1||(!dh.sortDetached&&dr.compareDocumentPosition(ds)===dt)){if(ds===dq||ds.ownerDocument===cJ&&cF(cJ,ds)){return -1}if(dr===dq||dr.ownerDocument===cJ&&cF(cJ,dr)){return 1}return cI?(cd(cI,ds)-cd(cI,dr)):0}return dt&4?-1:1}:function(ds,dr){if(ds===dr){cX=true;return 0}var dy,dv=0,dx=ds.parentNode,du=dr.parentNode,dt=[ds],dw=[dr];if(!dx||!du){return ds===dq?-1:dr===dq?1:dx?-1:du?1:cI?(cd(cI,ds)-cd(cI,dr)):0}else{if(dx===du){return ca(ds,dr)}}dy=ds;while((dy=dy.parentNode)){dt.unshift(dy)}dy=dr;while((dy=dy.parentNode)){dw.unshift(dy)}while(dt[dv]===dw[dv]){dv++}return dv?ca(dt[dv],dw[dv]):dt[dv]===cJ?-1:dw[dv]===cJ?1:0};return dq};cw.matches=function(dn,e){return cw(dn,null,null,e)};cw.matchesSelector=function(dp,dr){if((dp.ownerDocument||dp)!==cC){cZ(dp)}dr=dr.replace(ct,"='$1']");if(dh.matchesSelector&&c8&&(!df||!df.test(dr))&&(!c3||!c3.test(dr))){try{var dn=ce.call(dp,dr);if(dn||dh.disconnectedMatch||dp.document&&dp.document.nodeType!==11){return dn}}catch(dq){}}return cw(dr,cC,null,[dp]).length>0};cw.contains=function(e,dn){if((e.ownerDocument||e)!==cC){cZ(e)}return cF(e,dn)};cw.attr=function(dp,e){if((dp.ownerDocument||dp)!==cC){cZ(dp)}var dn=cn.attrHandle[e.toLowerCase()],dq=dn&&cO.call(cn.attrHandle,e.toLowerCase())?dn(dp,e,!c8):undefined;return dq!==undefined?dq:dh.attributes||!c8?dp.getAttribute(e):(dq=dp.getAttributeNode(e))&&dq.specified?dq.value:null};cw.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cw.uniqueSort=function(dp){var dq,dr=[],e=0,dn=0;cX=!dh.detectDuplicates;cI=!dh.sortStable&&dp.slice(0);dp.sort(cE);if(cX){while((dq=dp[dn++])){if(dq===dp[dn]){e=dr.push(dn)}}while(e--){dp.splice(dr[e],1)}}cI=null;return dp};cH=cw.getText=function(dr){var dq,dn="",dp=0,e=dr.nodeType;if(!e){while((dq=dr[dp++])){dn+=cH(dq)}}else{if(e===1||e===9||e===11){if(typeof dr.textContent==="string"){return dr.textContent}else{for(dr=dr.firstChild;dr;dr=dr.nextSibling){dn+=cH(dr)}}}else{if(e===3||e===4){return dr.nodeValue}}}return dn};cn=cw.selectors={cacheLength:50,createPseudo:cj,match:c2,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cs,c5);e[3]=(e[3]||e[4]||e[5]||"").replace(cs,c5);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cw.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cw.error(e[0])}}return e},PSEUDO:function(dn){var e,dp=!dn[6]&&dn[2];if(c2.CHILD.test(dn[0])){return null}if(dn[3]){dn[2]=dn[4]||dn[5]||""}else{if(dp&&cS.test(dp)&&(e=ci(dp,true))&&(e=dp.indexOf(")",dp.length-e)-dp.length)){dn[0]=dn[0].slice(0,e);dn[2]=dp.slice(0,e)}}return dn.slice(0,3)}},filter:{TAG:function(dn){var e=dn.replace(cs,c5).toLowerCase();return dn==="*"?function(){return true}:function(dp){return dp.nodeName&&dp.nodeName.toLowerCase()===e}},CLASS:function(e){var dn=b9[e+" "];return dn||(dn=new RegExp("(^|"+cp+")"+e+"("+cp+"|$)"))&&b9(e,function(dp){return dn.test(typeof dp.className==="string"&&dp.className||typeof dp.getAttribute!=="undefined"&&dp.getAttribute("class")||"")})},ATTR:function(dp,dn,e){return function(dr){var dq=cw.attr(dr,dp);if(dq==null){return dn==="!="}if(!dn){return true}dq+="";return dn==="="?dq===e:dn==="!="?dq!==e:dn==="^="?e&&dq.indexOf(e)===0:dn==="*="?e&&dq.indexOf(e)>-1:dn==="$="?e&&dq.slice(-e.length)===e:dn==="~="?(" "+dq.replace(cu," ")+" ").indexOf(e)>-1:dn==="|="?dq===e||dq.slice(0,e.length+1)===e+"-":false}},CHILD:function(dn,dr,dq,ds,dp){var du=dn.slice(0,3)!=="nth",e=dn.slice(-4)!=="last",dt=dr==="of-type";return ds===1&&dp===0?function(dv){return !!dv.parentNode}:function(dB,dz,dE){var dv,dH,dC,dG,dD,dy,dA=du!==e?"nextSibling":"previousSibling",dF=dB.parentNode,dx=dt&&dB.nodeName.toLowerCase(),dw=!dE&&!dt;if(dF){if(du){while(dA){dC=dB;while((dC=dC[dA])){if(dt?dC.nodeName.toLowerCase()===dx:dC.nodeType===1){return false}}dy=dA=dn==="only"&&!dy&&"nextSibling"}return true}dy=[e?dF.firstChild:dF.lastChild];if(e&&dw){dH=dF[da]||(dF[da]={});dv=dH[dn]||[];dD=dv[0]===di&&dv[1];dG=dv[0]===di&&dv[2];dC=dD&&dF.childNodes[dD];while((dC=++dD&&dC&&dC[dA]||(dG=dD=0)||dy.pop())){if(dC.nodeType===1&&++dG&&dC===dB){dH[dn]=[di,dD,dG];break}}}else{if(dw&&(dv=(dB[da]||(dB[da]={}))[dn])&&dv[0]===di){dG=dv[1]}else{while((dC=++dD&&dC&&dC[dA]||(dG=dD=0)||dy.pop())){if((dt?dC.nodeName.toLowerCase()===dx:dC.nodeType===1)&&++dG){if(dw){(dC[da]||(dC[da]={}))[dn]=[di,dG]}if(dC===dB){break}}}}}dG-=dp;return dG===ds||(dG%ds===0&&dG/ds>=0)}}},PSEUDO:function(dq,dp){var e,dn=cn.pseudos[dq]||cn.setFilters[dq.toLowerCase()]||cw.error("unsupported pseudo: "+dq);if(dn[da]){return dn(dp)}if(dn.length>1){e=[dq,dq,"",dp];return cn.setFilters.hasOwnProperty(dq.toLowerCase())?cj(function(dt,dv){var ds,dr=dn(dt,dp),du=dr.length;while(du--){ds=cd(dt,dr[du]);dt[ds]=!(dv[ds]=dr[du])}}):function(dr){return dn(dr,0,e)}}return dn}},pseudos:{not:cj(function(e){var dn=[],dp=[],dq=cW(e.replace(cr,"$1"));return dq[da]?cj(function(ds,dx,dv,dt){var dw,dr=dq(ds,null,dt,[]),du=ds.length;while(du--){if((dw=dr[du])){ds[du]=!(dx[du]=dw)}}}):function(dt,ds,dr){dn[0]=dt;dq(dn,null,dr,dp);dn[0]=null;return !dp.pop()}}),has:cj(function(e){return function(dn){return cw(e,dn).length>0}}),contains:cj(function(e){e=e.replace(cs,c5);return function(dn){return(dn.textContent||dn.innerText||cH(dn)).indexOf(e)>-1}}),lang:cj(function(e){if(!cU.test(e||"")){cw.error("unsupported lang: "+e)}e=e.replace(cs,c5).toLowerCase();return function(dp){var dn;do{if((dn=c8?dp.lang:dp.getAttribute("xml:lang")||dp.getAttribute("lang"))){dn=dn.toLowerCase();return dn===e||dn.indexOf(e+"-")===0}}while((dp=dp.parentNode)&&dp.nodeType===1);return false}}),target:function(e){var dn=de.location&&de.location.hash;return dn&&dn.slice(1)===e.id},root:function(e){return e===co},focus:function(e){return e===cC.activeElement&&(!cC.hasFocus||cC.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dn=e.nodeName.toLowerCase();return(dn==="input"&&!!e.checked)||(dn==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return !cn.pseudos.empty(e)},header:function(e){return cl.test(e.nodeName)},input:function(e){return cc.test(e.nodeName)},button:function(dn){var e=dn.nodeName.toLowerCase();return e==="input"&&dn.type==="button"||e==="button"},text:function(dn){var e;return dn.nodeName.toLowerCase()==="input"&&dn.type==="text"&&((e=dn.getAttribute("type"))==null||e.toLowerCase()==="text")},first:c7(function(){return[0]}),last:c7(function(e,dn){return[dn-1]}),eq:c7(function(e,dp,dn){return[dn<0?dn+dp:dn]}),even:c7(function(e,dp){var dn=0;for(;dn<dp;dn+=2){e.push(dn)}return e}),odd:c7(function(e,dp){var dn=1;for(;dn<dp;dn+=2){e.push(dn)}return e}),lt:c7(function(e,dq,dp){var dn=dp<0?dp+dq:dp;for(;--dn>=0;){e.push(dn)}return e}),gt:c7(function(e,dq,dp){var dn=dp<0?dp+dq:dp;for(;++dn<dq;){e.push(dn)}return e})}};cn.pseudos.nth=cn.pseudos.eq;for(cy in {radio:true,checkbox:true,file:true,password:true,image:true}){cn.pseudos[cy]=cx(cy)}for(cy in {submit:true,reset:true}){cn.pseudos[cy]=cb(cy)}function cV(){}cV.prototype=cn.filters=cn.pseudos;cn.setFilters=new cV();ci=cw.tokenize=function(dr,dw){var dn,ds,du,dv,dt,dp,e,dq=c9[dr+" "];if(dq){return dw?0:dq.slice(0)}dt=dr;dp=[];e=cn.preFilter;while(dt){if(!dn||(ds=cv.exec(dt))){if(ds){dt=dt.slice(ds[0].length)||dt}dp.push((du=[]))}dn=false;if((ds=cB.exec(dt))){dn=ds.shift();du.push({value:dn,type:ds[0].replace(cr," ")});dt=dt.slice(dn.length)}for(dv in cn.filter){if((ds=c2[dv].exec(dt))&&(!e[dv]||(ds=e[dv](ds)))){dn=ds.shift();du.push({value:dn,type:dv,matches:ds});dt=dt.slice(dn.length)}}if(!dn){break}}return dw?dt.length:dt?cw.error(dr):c9(dr,dp).slice(0)};function ch(dq){var dp=0,dn=dq.length,e="";for(;dp<dn;dp++){e+=dq[dp].value}return e}function cq(dr,dp,dq){var e=dp.dir,ds=dq&&e==="parentNode",dn=c4++;return dp.first?function(dv,du,dt){while((dv=dv[e])){if(dv.nodeType===1||ds){return dr(dv,du,dt)}}}:function(dx,dv,du){var dy,dw,dt=[di,dn];if(du){while((dx=dx[e])){if(dx.nodeType===1||ds){if(dr(dx,dv,du)){return true}}}}else{while((dx=dx[e])){if(dx.nodeType===1||ds){dw=dx[da]||(dx[da]={});if((dy=dw[e])&&dy[0]===di&&dy[1]===dn){return(dt[2]=dy[2])}else{dw[e]=dt;if((dt[2]=dr(dx,dv,du))){return true}}}}}}}function dk(e){return e.length>1?function(dr,dq,dn){var dp=e.length;while(dp--){if(!e[dp](dr,dq,dn)){return false}}return true}:e[0]}function cz(dn,dr,dq){var dp=0,e=dr.length;for(;dp<e;dp++){cw(dn,dr[dp],dq)}return dq}function c0(e,dn,dp,dq,dt){var dr,dw=[],ds=0,du=e.length,dv=dn!=null;for(;ds<du;ds++){if((dr=e[ds])){if(!dp||dp(dr,dq,dt)){dw.push(dr);if(dv){dn.push(ds)}}}}return dw}function cg(dp,dn,dr,dq,ds,e){if(dq&&!dq[da]){dq=cg(dq)}if(ds&&!ds[da]){ds=cg(ds,e)}return cj(function(dD,dA,dv,dC){var dF,dB,dx,dw=[],dE=[],du=dA.length,dt=dD||cz(dn||"*",dv.nodeType?[dv]:dv,[]),dy=dp&&(dD||!dn)?c0(dt,dw,dp,dv,dC):dt,dz=dr?ds||(dD?dp:du||dq)?[]:dA:dy;if(dr){dr(dy,dz,dv,dC)}if(dq){dF=c0(dz,dE);dq(dF,[],dv,dC);dB=dF.length;while(dB--){if((dx=dF[dB])){dz[dE[dB]]=!(dy[dE[dB]]=dx)}}}if(dD){if(ds||dp){if(ds){dF=[];dB=dz.length;while(dB--){if((dx=dz[dB])){dF.push((dy[dB]=dx))}}ds(null,(dz=[]),dF,dC)}dB=dz.length;while(dB--){if((dx=dz[dB])&&(dF=ds?cd(dD,dx):dw[dB])>-1){dD[dF]=!(dA[dF]=dx)}}}}else{dz=c0(dz===dA?dz.splice(du,dz.length):dz);if(ds){ds(null,dA,dz,dC)}else{b7.apply(dA,dz)}}})}function db(dt){var dn,dr,dp,ds=dt.length,dw=cn.relative[dt[0].type],dx=dw||cn.relative[" "],dq=dw?1:0,du=cq(function(dy){return dy===dn},dx,true),dv=cq(function(dy){return cd(dn,dy)>-1},dx,true),e=[function(dB,dA,dz){var dy=(!dw&&(dz||dA!==dm))||((dn=dA).nodeType?du(dB,dA,dz):dv(dB,dA,dz));dn=null;return dy}];for(;dq<ds;dq++){if((dr=cn.relative[dt[dq].type])){e=[cq(dk(e),dr)]}else{dr=cn.filter[dt[dq].type].apply(null,dt[dq].matches);if(dr[da]){dp=++dq;for(;dp<ds;dp++){if(cn.relative[dt[dp].type]){break}}return cg(dq>1&&dk(e),dq>1&&ch(dt.slice(0,dq-1).concat({value:dt[dq-2].type===" "?"*":""})).replace(cr,"$1"),dr,dq<dp&&db(dt.slice(dq,dp)),dp<ds&&db((dt=dt.slice(dp))),dp<ds&&ch(dt))}e.push(dr)}}return dk(e)}function cY(dq,dp){var e=dp.length>0,dr=dq.length>0,dn=function(dB,dv,dA,dz,dE){var dw,dx,dC,dG=0,dy="0",ds=dB&&[],dH=[],dF=dm,du=dB||dr&&cn.find.TAG("*",dE),dt=(di+=dF==null?1:Math.random()||0.1),dD=du.length;if(dE){dm=dv!==cC&&dv}for(;dy!==dD&&(dw=du[dy])!=null;dy++){if(dr&&dw){dx=0;while((dC=dq[dx++])){if(dC(dw,dv,dA)){dz.push(dw);break}}if(dE){di=dt}}if(e){if((dw=!dC&&dw)){dG--}if(dB){ds.push(dw)}}}dG+=dy;if(e&&dy!==dG){dx=0;while((dC=dp[dx++])){dC(ds,dH,dv,dA)}if(dB){if(dG>0){while(dy--){if(!(ds[dy]||dH[dy])){dH[dy]=dd.call(dz)}}}dH=c0(dH)}b7.apply(dz,dH);if(dE&&!dB&&dH.length>0&&(dG+dp.length)>1){cw.uniqueSort(dz)}}if(dE){di=dt;dm=dF}return ds};return e?cj(dn):dn}cW=cw.compile=function(e,dp){var dq,dn=[],ds=[],dr=cG[e+" "];if(!dr){if(!dp){dp=ci(e)}dq=dp.length;while(dq--){dr=db(dp[dq]);if(dr[da]){dn.push(dr)}else{ds.push(dr)}}dr=cG(e,cY(ds,dn));dr.selector=e}return dr};dg=cw.select=function(dp,e,dq,dt){var dr,dw,dn,dx,du,dv=typeof dp==="function"&&dp,ds=!dt&&ci((dp=dv.selector||dp));dq=dq||[];if(ds.length===1){dw=ds[0]=ds[0].slice(0);if(dw.length>2&&(dn=dw[0]).type==="ID"&&dh.getById&&e.nodeType===9&&c8&&cn.relative[dw[1].type]){e=(cn.find.ID(dn.matches[0].replace(cs,c5),e)||[])[0];if(!e){return dq}else{if(dv){e=e.parentNode}}dp=dp.slice(dw.shift().value.length)}dr=c2.needsContext.test(dp)?0:dw.length;while(dr--){dn=dw[dr];if(cn.relative[(dx=dn.type)]){break}if((du=cn.find[dx])){if((dt=du(dn.matches[0].replace(cs,c5),c1.test(dw[0].type)&&cT(e.parentNode)||e))){dw.splice(dr,1);dp=dt.length&&ch(dw);if(!dp){b7.apply(dq,dt);return dq}break}}}}(dv||cW(dp,ds))(dt,e,!c8,dq,c1.test(dp)&&cT(e.parentNode)||e);return dq};dh.sortStable=da.split("").sort(cE).join("")===da;dh.detectDuplicates=!!cX;cZ();dh.sortDetached=cf(function(e){return e.compareDocumentPosition(cC.createElement("div"))&1});if(!cf(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){dj("type|href|height|width",function(dn,e,dp){if(!dp){return dn.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!dh.attributes||!cf(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){dj("value",function(dn,e,dp){if(!dp&&dn.nodeName.toLowerCase()==="input"){return dn.defaultValue}})}if(!cf(function(e){return e.getAttribute("disabled")==null})){dj(b8,function(dn,e,dq){var dp;if(!dq){return dn[e]===true?e.toLowerCase():(dp=dn.getAttributeNode(e))&&dp.specified?dp.value:null}})}return cw})(a5);bI.find=m;bI.expr=m.selectors;bI.expr[":"]=bI.expr.pseudos;bI.unique=m.uniqueSort;bI.text=m.getText;bI.isXMLDoc=m.isXML;bI.contains=m.contains;var A=bI.expr.match.needsContext;var a=(/^<(\w+)\s*\/?>(?:<\/\1>|)$/);var aL=/^.[^:#\[\.,]*$/;function aR(b7,e,b6){if(bI.isFunction(e)){return bI.grep(b7,function(b9,b8){return !!e.call(b9,b8,b9)!==b6})}if(e.nodeType){return bI.grep(b7,function(b8){return(b8===e)!==b6})}if(typeof e==="string"){if(aL.test(e)){return bI.filter(e,b7,b6)}e=bI.filter(e,b7)}return bI.grep(b7,function(b8){return(bI.inArray(b8,e)>=0)!==b6})}bI.filter=function(b8,e,b7){var b6=e[0];if(b7){b8=":not("+b8+")"}return e.length===1&&b6.nodeType===1?bI.find.matchesSelector(b6,b8)?[b6]:[]:bI.find.matches(b8,bI.grep(e,function(b9){return b9.nodeType===1}))};bI.fn.extend({find:function(b6){var b9,b8=[],b7=this,e=b7.length;if(typeof b6!=="string"){return this.pushStack(bI(b6).filter(function(){for(b9=0;b9<e;b9++){if(bI.contains(b7[b9],this)){return true}}}))}for(b9=0;b9<e;b9++){bI.find(b6,b7[b9],b8)}b8=this.pushStack(e>1?bI.unique(b8):b8);b8.selector=this.selector?this.selector+" "+b6:b6;return b8},filter:function(e){return this.pushStack(aR(this,e||[],false))},not:function(e){return this.pushStack(aR(this,e||[],true))},is:function(e){return !!aR(this,typeof e==="string"&&A.test(e)?bI(e):e||[],false).length}});var z,n=a5.document,bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bV=bI.fn.init=function(e,b7){var b6,b8;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b6=[null,e,null]}else{b6=bt.exec(e)}if(b6&&(b6[1]||!b7)){if(b6[1]){b7=b7 instanceof bI?b7[0]:b7;bI.merge(this,bI.parseHTML(b6[1],b7&&b7.nodeType?b7.ownerDocument||b7:n,true));if(a.test(b6[1])&&bI.isPlainObject(b7)){for(b6 in b7){if(bI.isFunction(this[b6])){this[b6](b7[b6])}else{this.attr(b6,b7[b6])}}}return this}else{b8=n.getElementById(b6[2]);if(b8&&b8.parentNode){if(b8.id!==b6[2]){return z.find(e)}this.length=1;this[0]=b8}this.context=n;this.selector=e;return this}}else{if(!b7||b7.jquery){return(b7||z).find(e)}else{return this.constructor(b7).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bI.isFunction(e)){return typeof z.ready!=="undefined"?z.ready(e):e(bI)}}}if(e.selector!==undefined){this.selector=e.selector;this.context=e.context}return bI.makeArray(e,this)};bV.prototype=bI.fn;z=bI(n);var bv=/^(?:parents|prev(?:Until|All))/,bz={children:true,contents:true,next:true,prev:true};bI.extend({dir:function(b7,b6,b9){var e=[],b8=b7[b6];while(b8&&b8.nodeType!==9&&(b9===undefined||b8.nodeType!==1||!bI(b8).is(b9))){if(b8.nodeType===1){e.push(b8)}b8=b8[b6]}return e},sibling:function(b7,b6){var e=[];for(;b7;b7=b7.nextSibling){if(b7.nodeType===1&&b7!==b6){e.push(b7)}}return e}});bI.fn.extend({has:function(b8){var b7,b6=bI(b8,this),e=b6.length;return this.filter(function(){for(b7=0;b7<e;b7++){if(bI.contains(this,b6[b7])){return true}}})},closest:function(b9,b8){var ca,b7=0,b6=this.length,e=[],cb=A.test(b9)||typeof b9!=="string"?bI(b9,b8||this.context):0;for(;b7<b6;b7++){for(ca=this[b7];ca&&ca!==b8;ca=ca.parentNode){if(ca.nodeType<11&&(cb?cb.index(ca)>-1:ca.nodeType===1&&bI.find.matchesSelector(ca,b9))){e.push(ca);break}}}return this.pushStack(e.length>1?bI.unique(e):e)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bI.inArray(this[0],bI(e))}return bI.inArray(e.jquery?e[0]:e,this)},add:function(e,b6){return this.pushStack(bI.unique(bI.merge(this.get(),bI(e,b6))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function aY(b6,e){do{b6=b6[e]}while(b6&&b6.nodeType!==1);return b6}bI.each({parent:function(b6){var e=b6.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bI.dir(e,"parentNode")},parentsUntil:function(b6,e,b7){return bI.dir(b6,"parentNode",b7)},next:function(e){return aY(e,"nextSibling")},prev:function(e){return aY(e,"previousSibling")},nextAll:function(e){return bI.dir(e,"nextSibling")},prevAll:function(e){return bI.dir(e,"previousSibling")},nextUntil:function(b6,e,b7){return bI.dir(b6,"nextSibling",b7)},prevUntil:function(b6,e,b7){return bI.dir(b6,"previousSibling",b7)},siblings:function(e){return bI.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bI.sibling(e.firstChild)},contents:function(e){return bI.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bI.merge([],e.childNodes)}},function(e,b6){bI.fn[e]=function(b9,b7){var b8=bI.map(this,b6,b9);if(e.slice(-5)!=="Until"){b7=b9}if(b7&&typeof b7==="string"){b8=bI.filter(b7,b8)}if(this.length>1){if(!bz[e]){b8=bI.unique(b8)}if(bv.test(e)){b8=b8.reverse()}}return this.pushStack(b8)}});var aF=(/\S+/g);var b2={};function af(b6){var e=b2[b6]={};bI.each(b6.match(aF)||[],function(b8,b7){e[b7]=true});return e}bI.Callbacks=function(cf){cf=typeof cf==="string"?(b2[cf]||af(cf)):bI.extend({},cf);var b9,b8,e,ca,cb,b7,cc=[],cd=!cf.once&&[],b6=function(cg){b8=cf.memory&&cg;e=true;cb=b7||0;b7=0;ca=cc.length;b9=true;for(;cc&&cb<ca;cb++){if(cc[cb].apply(cg[0],cg[1])===false&&cf.stopOnFalse){b8=false;break}}b9=false;if(cc){if(cd){if(cd.length){b6(cd.shift())}}else{if(b8){cc=[]}else{ce.disable()}}}},ce={add:function(){if(cc){var ch=cc.length;(function cg(ci){bI.each(ci,function(ck,cj){var cl=bI.type(cj);if(cl==="function"){if(!cf.unique||!ce.has(cj)){cc.push(cj)}}else{if(cj&&cj.length&&cl!=="string"){cg(cj)}}})})(arguments);if(b9){ca=cc.length}else{if(b8){b7=ch;b6(b8)}}}return this},remove:function(){if(cc){bI.each(arguments,function(ci,cg){var ch;while((ch=bI.inArray(cg,cc,ch))>-1){cc.splice(ch,1);if(b9){if(ch<=ca){ca--}if(ch<=cb){cb--}}}})}return this},has:function(cg){return cg?bI.inArray(cg,cc)>-1:!!(cc&&cc.length)},empty:function(){cc=[];ca=0;return this},disable:function(){cc=cd=b8=undefined;return this},disabled:function(){return !cc},lock:function(){cd=undefined;if(!b8){ce.disable()}return this},locked:function(){return !cd},fireWith:function(ch,cg){if(cc&&(!e||cd)){cg=cg||[];cg=[ch,cg.slice?cg.slice():cg];if(b9){cd.push(cg)}else{b6(cg)}}return this},fire:function(){ce.fireWith(this,arguments);return this},fired:function(){return !!e}};return ce};bI.extend({Deferred:function(b7){var b6=[["resolve","done",bI.Callbacks("once memory"),"resolved"],["reject","fail",bI.Callbacks("once memory"),"rejected"],["notify","progress",bI.Callbacks("memory")]],b8="pending",b9={state:function(){return b8},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var ca=arguments;return bI.Deferred(function(cb){bI.each(b6,function(cd,cc){var ce=bI.isFunction(ca[cd])&&ca[cd];e[cc[1]](function(){var cf=ce&&ce.apply(this,arguments);if(cf&&bI.isFunction(cf.promise)){cf.promise().done(cb.resolve).fail(cb.reject).progress(cb.notify)}else{cb[cc[0]+"With"](this===b9?cb.promise():this,ce?[cf]:arguments)}})});ca=null}).promise()},promise:function(ca){return ca!=null?bI.extend(ca,b9):b9}},e={};b9.pipe=b9.then;bI.each(b6,function(cb,ca){var cd=ca[2],cc=ca[3];b9[ca[1]]=cd.add;if(cc){cd.add(function(){b8=cc},b6[cb^1][2].disable,b6[2][2].lock)}e[ca[0]]=function(){e[ca[0]+"With"](this===e?b9:this,arguments);return this};e[ca[0]+"With"]=cd.fireWith});b9.promise(e);if(b7){b7.call(e,e)}return e},when:function(b9){var b7=0,cb=P.call(arguments),e=cb.length,b6=e!==1||(b9&&bI.isFunction(b9.promise))?e:0,ce=b6===1?b9:bI.Deferred(),b8=function(cg,ch,cf){return function(ci){ch[cg]=this;cf[cg]=arguments.length>1?P.call(arguments):ci;if(cf===cd){ce.notifyWith(ch,cf)}else{if(!(--b6)){ce.resolveWith(ch,cf)}}}},cd,ca,cc;if(e>1){cd=new Array(e);ca=new Array(e);cc=new Array(e);for(;b7<e;b7++){if(cb[b7]&&bI.isFunction(cb[b7].promise)){cb[b7].promise().done(b8(b7,cc,cb)).fail(ce.reject).progress(b8(b7,ca,cd))}else{--b6}}}if(!b6){ce.resolveWith(cc,cb)}return ce.promise()}});var ak;bI.fn.ready=function(e){bI.ready.promise().done(e);return this};bI.extend({isReady:false,readyWait:1,holdReady:function(e){if(e){bI.readyWait++}else{bI.ready(true)}},ready:function(e){if(e===true?--bI.readyWait:bI.isReady){return}if(!n.body){return setTimeout(bI.ready)}bI.isReady=true;if(e!==true&&--bI.readyWait>0){return}ak.resolveWith(n,[bI]);if(bI.fn.triggerHandler){bI(n).triggerHandler("ready");bI(n).off("ready")}}});function bm(){if(n.addEventListener){n.removeEventListener("DOMContentLoaded",bZ,false);a5.removeEventListener("load",bZ,false)}else{n.detachEvent("onreadystatechange",bZ);a5.detachEvent("onload",bZ)}}function bZ(){if(n.addEventListener||event.type==="load"||n.readyState==="complete"){bm();bI.ready()}}bI.ready.promise=function(b9){if(!ak){ak=bI.Deferred();if(n.readyState==="complete"){setTimeout(bI.ready)}else{if(n.addEventListener){n.addEventListener("DOMContentLoaded",bZ,false);a5.addEventListener("load",bZ,false)}else{n.attachEvent("onreadystatechange",bZ);a5.attachEvent("onload",bZ);var b8=false;try{b8=a5.frameElement==null&&n.documentElement}catch(b7){}if(b8&&b8.doScroll){(function b6(){if(!bI.isReady){try{b8.doScroll("left")}catch(ca){return setTimeout(b6,50)}bm();bI.ready()}})()}}}}return ak.promise(b9)};var aC=typeof undefined;var bh;for(bh in bI(D)){break}D.ownLast=bh!=="0";D.inlineBlockNeedsLayout=false;bI(function(){var b7,b8,e,b6;e=n.getElementsByTagName("body")[0];if(!e||!e.style){return}b8=n.createElement("div");b6=n.createElement("div");b6.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";e.appendChild(b6).appendChild(b8);if(typeof b8.style.zoom!==aC){b8.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";D.inlineBlockNeedsLayout=b7=b8.offsetWidth===3;if(b7){e.style.zoom=1}}e.removeChild(b6)});(function(){var b7=n.createElement("div");if(D.deleteExpando==null){D.deleteExpando=true;try{delete b7.test}catch(b6){D.deleteExpando=false}}b7=null})();bI.acceptData=function(b7){var b6=bI.noData[(b7.nodeName+" ").toLowerCase()],e=+b7.nodeType||1;return e!==1&&e!==9?false:!b6||b6!==true&&b7.getAttribute("classid")===b6};var by=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,aQ=/([A-Z])/g;function bA(b8,b7,b9){if(b9===undefined&&b8.nodeType===1){var b6="data-"+b7.replace(aQ,"-$1").toLowerCase();b9=b8.getAttribute(b6);if(typeof b9==="string"){try{b9=b9==="true"?true:b9==="false"?false:b9==="null"?null:+b9+""===b9?+b9:by.test(b9)?bI.parseJSON(b9):b9}catch(ca){}bI.data(b8,b7,b9)}else{b9=undefined}}return b9}function Q(b6){var e;for(e in b6){if(e==="data"&&bI.isEmptyObject(b6[e])){continue}if(e!=="toJSON"){return false}}return true}function bc(b8,b6,ca,b9){if(!bI.acceptData(b8)){return}var cc,cb,cd=bI.expando,ce=b8.nodeType,e=ce?bI.cache:b8,b7=ce?b8[cd]:b8[cd]&&cd;if((!b7||!e[b7]||(!b9&&!e[b7].data))&&ca===undefined&&typeof b6==="string"){return}if(!b7){if(ce){b7=b8[cd]=aP.pop()||bI.guid++}else{b7=cd}}if(!e[b7]){e[b7]=ce?{}:{toJSON:bI.noop}}if(typeof b6==="object"||typeof b6==="function"){if(b9){e[b7]=bI.extend(e[b7],b6)}else{e[b7].data=bI.extend(e[b7].data,b6)}}cb=e[b7];if(!b9){if(!cb.data){cb.data={}}cb=cb.data}if(ca!==undefined){cb[bI.camelCase(b6)]=ca}if(typeof b6==="string"){cc=cb[b6];if(cc==null){cc=cb[bI.camelCase(b6)]}}else{cc=cb}return cc}function ab(b9,b7,e){if(!bI.acceptData(b9)){return}var cb,b8,ca=b9.nodeType,b6=ca?bI.cache:b9,cc=ca?b9[bI.expando]:bI.expando;if(!b6[cc]){return}if(b7){cb=e?b6[cc]:b6[cc].data;if(cb){if(!bI.isArray(b7)){if(b7 in cb){b7=[b7]}else{b7=bI.camelCase(b7);if(b7 in cb){b7=[b7]}else{b7=b7.split(" ")}}}else{b7=b7.concat(bI.map(b7,bI.camelCase))}b8=b7.length;while(b8--){delete cb[b7[b8]]}if(e?!Q(cb):!bI.isEmptyObject(cb)){return}}}if(!e){delete b6[cc].data;if(!Q(b6[cc])){return}}if(ca){bI.cleanData([b9],true)}else{if(D.deleteExpando||b6!=b6.window){delete b6[cc]}else{b6[cc]=null}}}bI.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?bI.cache[e[bI.expando]]:e[bI.expando];return !!e&&!Q(e)},data:function(b6,e,b7){return bc(b6,e,b7)},removeData:function(b6,e){return ab(b6,e)},_data:function(b6,e,b7){return bc(b6,e,b7,true)},_removeData:function(b6,e){return ab(b6,e,true)}});bI.fn.extend({data:function(b8,cb){var b7,b6,ca,b9=this[0],e=b9&&b9.attributes;if(b8===undefined){if(this.length){ca=bI.data(b9);if(b9.nodeType===1&&!bI._data(b9,"parsedAttrs")){b7=e.length;while(b7--){if(e[b7]){b6=e[b7].name;if(b6.indexOf("data-")===0){b6=bI.camelCase(b6.slice(5));bA(b9,b6,ca[b6])}}}bI._data(b9,"parsedAttrs",true)}}return ca}if(typeof b8==="object"){return this.each(function(){bI.data(this,b8)})}return arguments.length>1?this.each(function(){bI.data(this,b8,cb)}):b9?bA(b9,b8,bI.data(b9,b8)):undefined},removeData:function(e){return this.each(function(){bI.removeData(this,e)})}});bI.extend({queue:function(b7,b6,b8){var e;if(b7){b6=(b6||"fx")+"queue";e=bI._data(b7,b6);if(b8){if(!e||bI.isArray(b8)){e=bI._data(b7,b6,bI.makeArray(b8))}else{e.push(b8)}}return e||[]}},dequeue:function(ca,b9){b9=b9||"fx";var b6=bI.queue(ca,b9),cb=b6.length,b8=b6.shift(),e=bI._queueHooks(ca,b9),b7=function(){bI.dequeue(ca,b9)};if(b8==="inprogress"){b8=b6.shift();cb--}if(b8){if(b9==="fx"){b6.unshift("inprogress")}delete e.stop;b8.call(ca,b7,e)}if(!cb&&e){e.empty.fire()}},_queueHooks:function(b7,b6){var e=b6+"queueHooks";return bI._data(b7,e)||bI._data(b7,e,{empty:bI.Callbacks("once memory").add(function(){bI._removeData(b7,b6+"queue");bI._removeData(b7,e)})})}});bI.fn.extend({queue:function(e,b6){var b7=2;if(typeof e!=="string"){b6=e;e="fx";b7--}if(arguments.length<b7){return bI.queue(this[0],e)}return b6===undefined?this:this.each(function(){var b8=bI.queue(this,e,b6);bI._queueHooks(this,e);if(e==="fx"&&b8[0]!=="inprogress"){bI.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bI.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b7,cb){var b6,b8=1,cc=bI.Deferred(),ca=this,e=this.length,b9=function(){if(!(--b8)){cc.resolveWith(ca,[ca])}};if(typeof b7!=="string"){cb=b7;b7=undefined}b7=b7||"fx";while(e--){b6=bI._data(ca[e],b7+"queueHooks");if(b6&&b6.empty){b8++;b6.empty.add(b9)}}b9();return cc.promise(cb)}});var aE=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var bT=["Top","Right","Bottom","Left"];var S=function(b6,e){b6=e||b6;return bI.css(b6,"display")==="none"||!bI.contains(b6.ownerDocument,b6)};var aB=bI.access=function(e,ca,cc,cb,b8,ce,cd){var b7=0,b6=e.length,b9=cc==null;if(bI.type(cc)==="object"){b8=true;for(b7 in cc){bI.access(e,ca,b7,cc[b7],true,ce,cd)}}else{if(cb!==undefined){b8=true;if(!bI.isFunction(cb)){cd=true}if(b9){if(cd){ca.call(e,cb);ca=null}else{b9=ca;ca=function(cg,cf,ch){return b9.call(bI(cg),ch)}}}if(ca){for(;b7<b6;b7++){ca(e[b7],cc,cd?cb:cb.call(e[b7],b7,ca(e[b7],cc)))}}}}return b8?e:b9?ca.call(e):b6?ca(e[0],cc):ce};var aM=(/^(?:checkbox|radio)$/i);(function(){var b6=n.createElement("input"),b9=n.createElement("div"),b7=n.createDocumentFragment();b9.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";D.leadingWhitespace=b9.firstChild.nodeType===3;D.tbody=!b9.getElementsByTagName("tbody").length;D.htmlSerialize=!!b9.getElementsByTagName("link").length;D.html5Clone=n.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";b6.type="checkbox";b6.checked=true;b7.appendChild(b6);D.appendChecked=b6.checked;b9.innerHTML="<textarea>x</textarea>";D.noCloneChecked=!!b9.cloneNode(true).lastChild.defaultValue;b7.appendChild(b9);b9.innerHTML="<input type='radio' checked='checked' name='t'/>";D.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;D.noCloneEvent=true;if(b9.attachEvent){b9.attachEvent("onclick",function(){D.noCloneEvent=false});b9.cloneNode(true).click()}if(D.deleteExpando==null){D.deleteExpando=true;try{delete b9.test}catch(b8){D.deleteExpando=false}}})();(function(){var b6,e,b7=n.createElement("div");for(b6 in {submit:true,change:true,focusin:true}){e="on"+b6;if(!(D[b6+"Bubbles"]=e in a5)){b7.setAttribute(e,"t");D[b6+"Bubbles"]=b7.attributes[e].expando===false}}b7=null})();var bG=/^(?:input|select|textarea)$/i,a6=/^key/,bM=/^(?:mouse|pointer|contextmenu)|click/,bC=/^(?:focusinfocus|focusoutblur)$/,bx=/^([^.]*)(?:\.(.+)|)$/;function U(){return true}function Z(){return false}function am(){try{return n.activeElement}catch(e){}}bI.event={global:{},add:function(b9,ce,cj,cb,ca){var cc,ck,cl,b7,cg,cd,ci,b8,ch,e,b6,cf=bI._data(b9);if(!cf){return}if(cj.handler){b7=cj;cj=b7.handler;ca=b7.selector}if(!cj.guid){cj.guid=bI.guid++}if(!(ck=cf.events)){ck=cf.events={}}if(!(cd=cf.handle)){cd=cf.handle=function(cm){return typeof bI!==aC&&(!cm||bI.event.triggered!==cm.type)?bI.event.dispatch.apply(cd.elem,arguments):undefined};cd.elem=b9}ce=(ce||"").match(aF)||[""];cl=ce.length;while(cl--){cc=bx.exec(ce[cl])||[];ch=b6=cc[1];e=(cc[2]||"").split(".").sort();if(!ch){continue}cg=bI.event.special[ch]||{};ch=(ca?cg.delegateType:cg.bindType)||ch;cg=bI.event.special[ch]||{};ci=bI.extend({type:ch,origType:b6,data:cb,handler:cj,guid:cj.guid,selector:ca,needsContext:ca&&bI.expr.match.needsContext.test(ca),namespace:e.join(".")},b7);if(!(b8=ck[ch])){b8=ck[ch]=[];b8.delegateCount=0;if(!cg.setup||cg.setup.call(b9,cb,e,cd)===false){if(b9.addEventListener){b9.addEventListener(ch,cd,false)}else{if(b9.attachEvent){b9.attachEvent("on"+ch,cd)}}}}if(cg.add){cg.add.call(b9,ci);if(!ci.handler.guid){ci.handler.guid=cj.guid}}if(ca){b8.splice(b8.delegateCount++,0,ci)}else{b8.push(ci)}bI.event.global[ch]=true}b9=null},remove:function(b8,ce,cl,b9,cd){var cb,ci,cc,ca,ck,cj,cg,b7,ch,e,b6,cf=bI.hasData(b8)&&bI._data(b8);if(!cf||!(cj=cf.events)){return}ce=(ce||"").match(aF)||[""];ck=ce.length;while(ck--){cc=bx.exec(ce[ck])||[];ch=b6=cc[1];e=(cc[2]||"").split(".").sort();if(!ch){for(ch in cj){bI.event.remove(b8,ch+ce[ck],cl,b9,true)}continue}cg=bI.event.special[ch]||{};ch=(b9?cg.delegateType:cg.bindType)||ch;b7=cj[ch]||[];cc=cc[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");ca=cb=b7.length;while(cb--){ci=b7[cb];if((cd||b6===ci.origType)&&(!cl||cl.guid===ci.guid)&&(!cc||cc.test(ci.namespace))&&(!b9||b9===ci.selector||b9==="**"&&ci.selector)){b7.splice(cb,1);if(ci.selector){b7.delegateCount--}if(cg.remove){cg.remove.call(b8,ci)}}}if(ca&&!b7.length){if(!cg.teardown||cg.teardown.call(b8,e,cf.handle)===false){bI.removeEvent(b8,ch,cf.handle)}delete cj[ch]}}if(bI.isEmptyObject(cj)){delete cf.handle;bI._removeData(b8,"events")}},trigger:function(b6,cd,b9,ck){var ce,b8,ci,cj,cg,cc,cb,ca=[b9||n],ch=K.call(b6,"type")?b6.type:b6,b7=K.call(b6,"namespace")?b6.namespace.split("."):[];ci=cc=b9=b9||n;if(b9.nodeType===3||b9.nodeType===8){return}if(bC.test(ch+bI.event.triggered)){return}if(ch.indexOf(".")>=0){b7=ch.split(".");ch=b7.shift();b7.sort()}b8=ch.indexOf(":")<0&&"on"+ch;b6=b6[bI.expando]?b6:new bI.Event(ch,typeof b6==="object"&&b6);b6.isTrigger=ck?2:3;b6.namespace=b7.join(".");b6.namespace_re=b6.namespace?new RegExp("(^|\\.)"+b7.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b6.result=undefined;if(!b6.target){b6.target=b9}cd=cd==null?[b6]:bI.makeArray(cd,[b6]);cg=bI.event.special[ch]||{};if(!ck&&cg.trigger&&cg.trigger.apply(b9,cd)===false){return}if(!ck&&!cg.noBubble&&!bI.isWindow(b9)){cj=cg.delegateType||ch;if(!bC.test(cj+ch)){ci=ci.parentNode}for(;ci;ci=ci.parentNode){ca.push(ci);cc=ci}if(cc===(b9.ownerDocument||n)){ca.push(cc.defaultView||cc.parentWindow||a5)}}cb=0;while((ci=ca[cb++])&&!b6.isPropagationStopped()){b6.type=cb>1?cj:cg.bindType||ch;ce=(bI._data(ci,"events")||{})[b6.type]&&bI._data(ci,"handle");if(ce){ce.apply(ci,cd)}ce=b8&&ci[b8];if(ce&&ce.apply&&bI.acceptData(ci)){b6.result=ce.apply(ci,cd);if(b6.result===false){b6.preventDefault()}}}b6.type=ch;if(!ck&&!b6.isDefaultPrevented()){if((!cg._default||cg._default.apply(ca.pop(),cd)===false)&&bI.acceptData(b9)){if(b8&&b9[ch]&&!bI.isWindow(b9)){cc=b9[b8];if(cc){b9[b8]=null}bI.event.triggered=ch;try{b9[ch]()}catch(cf){}bI.event.triggered=undefined;if(cc){b9[b8]=cc}}}}return b6.result},dispatch:function(e){e=bI.event.fix(e);var b9,ca,ce,b6,b8,cd=[],cc=P.call(arguments),b7=(bI._data(this,"events")||{})[e.type]||[],cb=bI.event.special[e.type]||{};cc[0]=e;e.delegateTarget=this;if(cb.preDispatch&&cb.preDispatch.call(this,e)===false){return}cd=bI.event.handlers.call(this,e,b7);b9=0;while((b6=cd[b9++])&&!e.isPropagationStopped()){e.currentTarget=b6.elem;b8=0;while((ce=b6.handlers[b8++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(ce.namespace)){e.handleObj=ce;e.data=ce.data;ca=((bI.event.special[ce.origType]||{}).handle||ce.handler).apply(b6.elem,cc);if(ca!==undefined){if((e.result=ca)===false){e.preventDefault();e.stopPropagation()}}}}}if(cb.postDispatch){cb.postDispatch.call(this,e)}return e.result},handlers:function(e,b7){var b6,cc,ca,b9,cb=[],b8=b7.delegateCount,cd=e.target;if(b8&&cd.nodeType&&(!e.button||e.type!=="click")){for(;cd!=this;cd=cd.parentNode||this){if(cd.nodeType===1&&(cd.disabled!==true||e.type!=="click")){ca=[];for(b9=0;b9<b8;b9++){cc=b7[b9];b6=cc.selector+" ";if(ca[b6]===undefined){ca[b6]=cc.needsContext?bI(b6,this).index(cd)>=0:bI.find(b6,this,null,[cd]).length}if(ca[b6]){ca.push(cc)}}if(ca.length){cb.push({elem:cd,handlers:ca})}}}}if(b8<b7.length){cb.push({elem:this,handlers:b7.slice(b8)})}return cb},fix:function(b8){if(b8[bI.expando]){return b8}var b6,cb,ca,b7=b8.type,e=b8,b9=this.fixHooks[b7];if(!b9){this.fixHooks[b7]=b9=bM.test(b7)?this.mouseHooks:a6.test(b7)?this.keyHooks:{}}ca=b9.props?this.props.concat(b9.props):this.props;b8=new bI.Event(e);b6=ca.length;while(b6--){cb=ca[b6];b8[cb]=e[cb]}if(!b8.target){b8.target=e.srcElement||n}if(b8.target.nodeType===3){b8.target=b8.target.parentNode}b8.metaKey=!!b8.metaKey;return b9.filter?b9.filter(b8,e):b8},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b6,e){if(b6.which==null){b6.which=e.charCode!=null?e.charCode:e.keyCode}return b6}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b8,b7){var e,b9,ca,b6=b7.button,cb=b7.fromElement;if(b8.pageX==null&&b7.clientX!=null){b9=b8.target.ownerDocument||n;ca=b9.documentElement;e=b9.body;b8.pageX=b7.clientX+(ca&&ca.scrollLeft||e&&e.scrollLeft||0)-(ca&&ca.clientLeft||e&&e.clientLeft||0);b8.pageY=b7.clientY+(ca&&ca.scrollTop||e&&e.scrollTop||0)-(ca&&ca.clientTop||e&&e.clientTop||0)}if(!b8.relatedTarget&&cb){b8.relatedTarget=cb===b8.target?b7.toElement:cb}if(!b8.which&&b6!==undefined){b8.which=(b6&1?1:(b6&2?3:(b6&4?2:0)))}return b8}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==am()&&this.focus){try{this.focus();return false}catch(b6){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===am()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(bI.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(e){return bI.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}},simulate:function(b7,b9,b8,b6){var ca=bI.extend(new bI.Event(),b8,{type:b7,isSimulated:true,originalEvent:{}});if(b6){bI.event.trigger(ca,null,b9)}else{bI.event.dispatch.call(b9,ca)}if(ca.isDefaultPrevented()){b8.preventDefault()}}};bI.removeEvent=n.removeEventListener?function(b6,e,b7){if(b6.removeEventListener){b6.removeEventListener(e,b7,false)}}:function(b7,b6,b8){var e="on"+b6;if(b7.detachEvent){if(typeof b7[e]===aC){b7[e]=null}b7.detachEvent(e,b8)}};bI.Event=function(b6,e){if(!(this instanceof bI.Event)){return new bI.Event(b6,e)}if(b6&&b6.type){this.originalEvent=b6;this.type=b6.type;this.isDefaultPrevented=b6.defaultPrevented||b6.defaultPrevented===undefined&&b6.returnValue===false?U:Z}else{this.type=b6}if(e){bI.extend(this,e)}this.timeStamp=b6&&b6.timeStamp||bI.now();this[bI.expando]=true};bI.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var b6=this.originalEvent;this.isDefaultPrevented=U;if(!b6){return}if(b6.preventDefault){b6.preventDefault()}else{b6.returnValue=false}},stopPropagation:function(){var b6=this.originalEvent;this.isPropagationStopped=U;if(!b6){return}if(b6.stopPropagation){b6.stopPropagation()}b6.cancelBubble=true},stopImmediatePropagation:function(){var b6=this.originalEvent;this.isImmediatePropagationStopped=U;if(b6&&b6.stopImmediatePropagation){b6.stopImmediatePropagation()}this.stopPropagation()}};bI.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b6,e){bI.event.special[b6]={delegateType:e,bindType:e,handle:function(b9){var b7,cb=this,ca=b9.relatedTarget,b8=b9.handleObj;if(!ca||(ca!==cb&&!bI.contains(cb,ca))){b9.type=b8.origType;b7=b8.handler.apply(this,arguments);b9.type=e}return b7}}});if(!D.submitBubbles){bI.event.special.submit={setup:function(){if(bI.nodeName(this,"form")){return false}bI.event.add(this,"click._submit keypress._submit",function(b8){var b7=b8.target,b6=bI.nodeName(b7,"input")||bI.nodeName(b7,"button")?b7.form:undefined;if(b6&&!bI._data(b6,"submitBubbles")){bI.event.add(b6,"submit._submit",function(e){e._submit_bubble=true});bI._data(b6,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bI.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bI.nodeName(this,"form")){return false}bI.event.remove(this,"._submit")}}}if(!D.changeBubbles){bI.event.special.change={setup:function(){if(bG.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bI.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bI.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bI.event.simulate("change",this,e,true)})}return false}bI.event.add(this,"beforeactivate._change",function(b7){var b6=b7.target;if(bG.test(b6.nodeName)&&!bI._data(b6,"changeBubbles")){bI.event.add(b6,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bI.event.simulate("change",this.parentNode,e,true)}});bI._data(b6,"changeBubbles",true)}})},handle:function(b6){var e=b6.target;if(this!==e||b6.isSimulated||b6.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b6.handleObj.handler.apply(this,arguments)}},teardown:function(){bI.event.remove(this,"._change");return !bG.test(this.nodeName)}}}if(!D.focusinBubbles){bI.each({focus:"focusin",blur:"focusout"},function(b7,e){var b6=function(b8){bI.event.simulate(e,b8.target,bI.event.fix(b8),true)};bI.event.special[e]={setup:function(){var b9=this.ownerDocument||this,b8=bI._data(b9,e);if(!b8){b9.addEventListener(b7,b6,true)}bI._data(b9,e,(b8||0)+1)},teardown:function(){var b9=this.ownerDocument||this,b8=bI._data(b9,e)-1;if(!b8){b9.removeEventListener(b7,b6,true);bI._removeData(b9,e)}else{bI._data(b9,e,b8)}}}})}bI.fn.extend({on:function(b7,e,ca,b9,b6){var b8,cb;if(typeof b7==="object"){if(typeof e!=="string"){ca=ca||e;e=undefined}for(b8 in b7){this.on(b8,e,ca,b7[b8],b6)}return this}if(ca==null&&b9==null){b9=e;ca=e=undefined}else{if(b9==null){if(typeof e==="string"){b9=ca;ca=undefined}else{b9=ca;ca=e;e=undefined}}}if(b9===false){b9=Z}else{if(!b9){return this}}if(b6===1){cb=b9;b9=function(cc){bI().off(cc);return cb.apply(this,arguments)};b9.guid=cb.guid||(cb.guid=bI.guid++)}return this.each(function(){bI.event.add(this,b7,b9,ca,e)})},one:function(b6,e,b8,b7){return this.on(b6,e,b8,b7,1)},off:function(b7,e,b9){var b6,b8;if(b7&&b7.preventDefault&&b7.handleObj){b6=b7.handleObj;bI(b7.delegateTarget).off(b6.namespace?b6.origType+"."+b6.namespace:b6.origType,b6.selector,b6.handler);return this}if(typeof b7==="object"){for(b8 in b7){this.off(b8,e,b7[b8])}return this}if(e===false||typeof e==="function"){b9=e;e=undefined}if(b9===false){b9=Z}return this.each(function(){bI.event.remove(this,b7,b9,e)})},trigger:function(e,b6){return this.each(function(){bI.event.trigger(e,b6,this)})},triggerHandler:function(e,b7){var b6=this[0];if(b6){return bI.event.trigger(e,b7,b6,true)}}});function B(e){var b7=d.split("|"),b6=e.createDocumentFragment();if(b6.createElement){while(b7.length){b6.createElement(b7.pop())}}return b6}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aD=/ jQuery\d+="(?:null|\d+)"/g,M=new RegExp("<(?:"+d+")[\\s/>]","i"),b5=/^\s+/,aH=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,o=/<([\w:]+)/,b0=/<tbody/i,L=/<|&#?\w+;/,an=/<(?:script|style|link)/i,bW=/checked\s*(?:[^=]|=\s*.checked.)/i,bB=/^$|\/(?:java|ecma)script/i,ar=/^true\/(.*)/,aO=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:D.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aT=B(n),k=aT.appendChild(n.createElement("div"));W.optgroup=W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;function l(b8,e){var b6,b9,b7=0,ca=typeof b8.getElementsByTagName!==aC?b8.getElementsByTagName(e||"*"):typeof b8.querySelectorAll!==aC?b8.querySelectorAll(e||"*"):undefined;if(!ca){for(ca=[],b6=b8.childNodes||b8;(b9=b6[b7])!=null;b7++){if(!e||bI.nodeName(b9,e)){ca.push(b9)}else{bI.merge(ca,l(b9,e))}}}return e===undefined||e&&bI.nodeName(b8,e)?bI.merge([b8],ca):ca}function bY(e){if(aM.test(e.type)){e.defaultChecked=e.checked}}function a3(b6,e){return bI.nodeName(b6,"table")&&bI.nodeName(e.nodeType!==11?e:e.firstChild,"tr")?b6.getElementsByTagName("tbody")[0]||b6.appendChild(b6.ownerDocument.createElement("tbody")):b6}function u(e){e.type=(bI.find.attr(e,"type")!==null)+"/"+e.type;return e}function bf(b6){var e=ar.exec(b6.type);if(e){b6.type=e[1]}else{b6.removeAttribute("type")}return b6}function bu(e,b7){var b8,b6=0;for(;(b8=e[b6])!=null;b6++){bI._data(b8,"globalEval",!b7||bI._data(b7[b6],"globalEval"))}}function at(cc,b6){if(b6.nodeType!==1||!bI.hasData(cc)){return}var b9,b8,e,cb=bI._data(cc),ca=bI._data(b6,cb),b7=cb.events;if(b7){delete ca.handle;ca.events={};for(b9 in b7){for(b8=0,e=b7[b9].length;b8<e;b8++){bI.event.add(b6,b9,b7[b9][b8])}}}if(ca.data){ca.data=bI.extend({},ca.data)}}function T(b9,b6){var ca,b8,b7;if(b6.nodeType!==1){return}ca=b6.nodeName.toLowerCase();if(!D.noCloneEvent&&b6[bI.expando]){b7=bI._data(b6);for(b8 in b7.events){bI.removeEvent(b6,b8,b7.handle)}b6.removeAttribute(bI.expando)}if(ca==="script"&&b6.text!==b9.text){u(b6).text=b9.text;bf(b6)}else{if(ca==="object"){if(b6.parentNode){b6.outerHTML=b9.outerHTML}if(D.html5Clone&&(b9.innerHTML&&!bI.trim(b6.innerHTML))){b6.innerHTML=b9.innerHTML}}else{if(ca==="input"&&aM.test(b9.type)){b6.defaultChecked=b6.checked=b9.checked;if(b6.value!==b9.value){b6.value=b9.value}}else{if(ca==="option"){b6.defaultSelected=b6.selected=b9.defaultSelected}else{if(ca==="input"||ca==="textarea"){b6.defaultValue=b9.defaultValue}}}}}}bI.extend({clone:function(b6,b8,e){var ca,b7,cd,b9,cb,cc=bI.contains(b6.ownerDocument,b6);if(D.html5Clone||bI.isXMLDoc(b6)||!M.test("<"+b6.nodeName+">")){cd=b6.cloneNode(true)}else{k.innerHTML=b6.outerHTML;k.removeChild(cd=k.firstChild)}if((!D.noCloneEvent||!D.noCloneChecked)&&(b6.nodeType===1||b6.nodeType===11)&&!bI.isXMLDoc(b6)){ca=l(cd);cb=l(b6);for(b9=0;(b7=cb[b9])!=null;++b9){if(ca[b9]){T(b7,ca[b9])}}}if(b8){if(e){cb=cb||l(b6);ca=ca||l(cd);for(b9=0;(b7=cb[b9])!=null;b9++){at(b7,ca[b9])}}else{at(b6,cd)}}ca=l(cd,"script");if(ca.length>0){bu(ca,!cc&&l(b6,"script"))}ca=cb=b7=null;return cd},buildFragment:function(b6,b8,cd,ci){var ce,ca,cc,ch,cj,cg,b7,cb=b6.length,b9=B(b8),e=[],cf=0;for(;cf<cb;cf++){ca=b6[cf];if(ca||ca===0){if(bI.type(ca)==="object"){bI.merge(e,ca.nodeType?[ca]:ca)}else{if(!L.test(ca)){e.push(b8.createTextNode(ca))}else{ch=ch||b9.appendChild(b8.createElement("div"));cj=(o.exec(ca)||["",""])[1].toLowerCase();b7=W[cj]||W._default;ch.innerHTML=b7[1]+ca.replace(aH,"<$1></$2>")+b7[2];ce=b7[0];while(ce--){ch=ch.lastChild}if(!D.leadingWhitespace&&b5.test(ca)){e.push(b8.createTextNode(b5.exec(ca)[0]))}if(!D.tbody){ca=cj==="table"&&!b0.test(ca)?ch.firstChild:b7[1]==="<table>"&&!b0.test(ca)?ch:0;ce=ca&&ca.childNodes.length;while(ce--){if(bI.nodeName((cg=ca.childNodes[ce]),"tbody")&&!cg.childNodes.length){ca.removeChild(cg)}}}bI.merge(e,ch.childNodes);ch.textContent="";while(ch.firstChild){ch.removeChild(ch.firstChild)}ch=b9.lastChild}}}}if(ch){b9.removeChild(ch)}if(!D.appendChecked){bI.grep(l(e,"input"),bY)}cf=0;while((ca=e[cf++])){if(ci&&bI.inArray(ca,ci)!==-1){continue}cc=bI.contains(ca.ownerDocument,ca);ch=l(b9.appendChild(ca),"script");if(cc){bu(ch)}if(cd){ce=0;while((ca=ch[ce++])){if(bB.test(ca.type||"")){cd.push(ca)}}}}ch=null;return b9},cleanData:function(b6,ce){var b8,cd,b7,b9,ca=0,cf=bI.expando,e=bI.cache,cb=D.deleteExpando,cc=bI.event.special;for(;(b8=b6[ca])!=null;ca++){if(ce||bI.acceptData(b8)){b7=b8[cf];b9=b7&&e[b7];if(b9){if(b9.events){for(cd in b9.events){if(cc[cd]){bI.event.remove(b8,cd)}else{bI.removeEvent(b8,cd,b9.handle)}}}if(e[b7]){delete e[b7];if(cb){delete b8[cf]}else{if(typeof b8.removeAttribute!==aC){b8.removeAttribute(cf)}else{b8[cf]=null}}aP.push(b7)}}}}}});bI.fn.extend({text:function(e){return aB(this,function(b6){return b6===undefined?bI.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(b6))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b6=a3(this,e);b6.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b6=a3(this,e);b6.insertBefore(e,b6.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b9){var b8,b6=e?bI.filter(e,this):this,b7=0;for(;(b8=b6[b7])!=null;b7++){if(!b9&&b8.nodeType===1){bI.cleanData(l(b8))}if(b8.parentNode){if(b9&&bI.contains(b8.ownerDocument,b8)){bu(l(b8,"script"))}b8.parentNode.removeChild(b8)}}return this},empty:function(){var b6,e=0;for(;(b6=this[e])!=null;e++){if(b6.nodeType===1){bI.cleanData(l(b6,false))}while(b6.firstChild){b6.removeChild(b6.firstChild)}if(b6.options&&bI.nodeName(b6,"select")){b6.options.length=0}}return this},clone:function(b6,e){b6=b6==null?false:b6;e=e==null?b6:e;return this.map(function(){return bI.clone(this,b6,e)})},html:function(e){return aB(this,function(b9){var b8=this[0]||{},b7=0,b6=this.length;if(b9===undefined){return b8.nodeType===1?b8.innerHTML.replace(aD,""):undefined}if(typeof b9==="string"&&!an.test(b9)&&(D.htmlSerialize||!M.test(b9))&&(D.leadingWhitespace||!b5.test(b9))&&!W[(o.exec(b9)||["",""])[1].toLowerCase()]){b9=b9.replace(aH,"<$1></$2>");try{for(;b7<b6;b7++){b8=this[b7]||{};if(b8.nodeType===1){bI.cleanData(l(b8,false));b8.innerHTML=b9}}b8=0}catch(ca){}}if(b8){this.empty().append(b9)}},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];this.domManip(arguments,function(b6){e=this.parentNode;bI.cleanData(l(this));if(e){e.replaceChild(b6,this)}});return e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(cd,ci){cd=az.apply([],cd);var cb,b7,e,b9,cg,cc,ca=0,b8=this.length,cf=this,ch=b8-1,ce=cd[0],b6=bI.isFunction(ce);if(b6||(b8>1&&typeof ce==="string"&&!D.checkClone&&bW.test(ce))){return this.each(function(ck){var cj=cf.eq(ck);if(b6){cd[0]=ce.call(this,ck,cj.html())}cj.domManip(cd,ci)})}if(b8){cc=bI.buildFragment(cd,this[0].ownerDocument,false,this);cb=cc.firstChild;if(cc.childNodes.length===1){cc=cb}if(cb){b9=bI.map(l(cc,"script"),u);e=b9.length;for(;ca<b8;ca++){b7=cc;if(ca!==ch){b7=bI.clone(b7,true,true);if(e){bI.merge(b9,l(b7,"script"))}}ci.call(this[ca],b7,ca)}if(e){cg=b9[b9.length-1].ownerDocument;bI.map(b9,bf);for(ca=0;ca<e;ca++){b7=b9[ca];if(bB.test(b7.type||"")&&!bI._data(b7,"globalEval")&&bI.contains(cg,b7)){if(b7.src){if(bI._evalUrl){bI._evalUrl(b7.src)}}else{bI.globalEval((b7.text||b7.textContent||b7.innerHTML||"").replace(aO,""))}}}}cc=cb=null}}return this}});bI.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b6){bI.fn[e]=function(b7){var b8,ca=0,b9=[],cc=bI(b7),cb=cc.length-1;for(;ca<=cb;ca++){b8=ca===cb?this:this.clone(true);bI(cc[ca])[b6](b8);x.apply(b9,b8.get())}return this.pushStack(b9)}});var aI,bl={};function a4(e,b9){var b6,b7=bI(b9.createElement(e)).appendTo(b9.body),b8=a5.getDefaultComputedStyle&&(b6=a5.getDefaultComputedStyle(b7[0]))?b6.display:bI.css(b7[0],"display");b7.detach();return b8}function a0(b7){var b6=n,e=bl[b7];if(!e){e=a4(b7,b6);if(e==="none"||!e){aI=(aI||bI("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b6.documentElement);b6=(aI[0].contentWindow||aI[0].contentDocument).document;b6.write();b6.close();e=a4(b7,b6);aI.detach()}bl[b7]=e}return e}(function(){var e;D.shrinkWrapBlocks=function(){if(e!=null){return e}e=false;var b8,b6,b7;b6=n.getElementsByTagName("body")[0];if(!b6||!b6.style){return}b8=n.createElement("div");b7=n.createElement("div");b7.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b6.appendChild(b7).appendChild(b8);if(typeof b8.style.zoom!==aC){b8.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1";b8.appendChild(n.createElement("div")).style.width="5px";e=b8.offsetWidth!==3}b6.removeChild(b7);return e}})();var aZ=(/^margin/);var Y=new RegExp("^("+aE+")(?!px)[a-z%]+$","i");var bq,G,bo=/^(top|right|bottom|left)$/;if(a5.getComputedStyle){bq=function(e){if(e.ownerDocument.defaultView.opener){return e.ownerDocument.defaultView.getComputedStyle(e,null)}return a5.getComputedStyle(e,null)};G=function(cc,b6,cb){var b9,b8,ca,e,b7=cc.style;cb=cb||bq(cc);e=cb?cb.getPropertyValue(b6)||cb[b6]:undefined;if(cb){if(e===""&&!bI.contains(cc.ownerDocument,cc)){e=bI.style(cc,b6)}if(Y.test(e)&&aZ.test(b6)){b9=b7.width;b8=b7.minWidth;ca=b7.maxWidth;b7.minWidth=b7.maxWidth=b7.width=e;e=cb.width;b7.width=b9;b7.minWidth=b8;b7.maxWidth=ca}}return e===undefined?e:e+""}}else{if(n.documentElement.currentStyle){bq=function(e){return e.currentStyle};G=function(cb,b8,ca){var cc,b6,e,b7,b9=cb.style;ca=ca||bq(cb);b7=ca?ca[b8]:undefined;if(b7==null&&b9&&b9[b8]){b7=b9[b8]}if(Y.test(b7)&&!bo.test(b8)){cc=b9.left;b6=cb.runtimeStyle;e=b6&&b6.left;if(e){b6.left=cb.currentStyle.left}b9.left=b8==="fontSize"?"1em":b7;b7=b9.pixelLeft+"px";b9.left=cc;if(e){b6.left=e}}return b7===undefined?b7:b7+""||"auto"}}}function a7(e,b6){return{get:function(){var b7=e();if(b7==null){return}if(b7){delete this.get;return}return(this.get=b6).apply(this,arguments)}}}(function(){var cc,ca,b8,cb,b7,b9,b6;cc=n.createElement("div");cc.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b8=cc.getElementsByTagName("a")[0];ca=b8&&b8.style;if(!ca){return}ca.cssText="float:left;opacity:.5";D.opacity=ca.opacity==="0.5";D.cssFloat=!!ca.cssFloat;cc.style.backgroundClip="content-box";cc.cloneNode(true).style.backgroundClip="";D.clearCloneStyle=cc.style.backgroundClip==="content-box";D.boxSizing=ca.boxSizing===""||ca.MozBoxSizing===""||ca.WebkitBoxSizing==="";bI.extend(D,{reliableHiddenOffsets:function(){if(b9==null){e()}return b9},boxSizingReliable:function(){if(b7==null){e()}return b7},pixelPosition:function(){if(cb==null){e()}return cb},reliableMarginRight:function(){if(b6==null){e()}return b6}});function e(){var cg,cd,ce,cf;cd=n.getElementsByTagName("body")[0];if(!cd||!cd.style){return}cg=n.createElement("div");ce=n.createElement("div");ce.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";cd.appendChild(ce).appendChild(cg);cg.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";cb=b7=false;b6=true;if(a5.getComputedStyle){cb=(a5.getComputedStyle(cg,null)||{}).top!=="1%";b7=(a5.getComputedStyle(cg,null)||{width:"4px"}).width==="4px";cf=cg.appendChild(n.createElement("div"));cf.style.cssText=cg.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";cf.style.marginRight=cf.style.width="0";cg.style.width="1px";b6=!parseFloat((a5.getComputedStyle(cf,null)||{}).marginRight);cg.removeChild(cf)}cg.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cf=cg.getElementsByTagName("td");cf[0].style.cssText="margin:0;border:0;padding:0;display:none";b9=cf[0].offsetHeight===0;if(b9){cf[0].style.display="";cf[1].style.display="none";b9=cf[0].offsetHeight===0}cd.removeChild(ce)}})();bI.swap=function(ca,b9,cb,b8){var b7,b6,e={};for(b6 in b9){e[b6]=ca.style[b6];ca.style[b6]=b9[b6]}b7=cb.apply(ca,b8||[]);for(b6 in b9){ca.style[b6]=e[b6]}return b7};var bj=/alpha\([^)]*\)/i,aU=/opacity\s*=\s*([^)]*)/,H=/^(none|table(?!-c[ea]).+)/,bb=new RegExp("^("+aE+")(.*)$","i"),V=new RegExp("^([+-])=("+aE+")","i"),be={position:"absolute",visibility:"hidden",display:"block"},bD={letterSpacing:"0",fontWeight:"400"},aw=["Webkit","O","Moz","ms"];function c(b8,b6){if(b6 in b8){return b6}var b9=b6.charAt(0).toUpperCase()+b6.slice(1),e=b6,b7=aw.length;while(b7--){b6=aw[b7]+b9;if(b6 in b8){return b6}}return e}function r(cb,e){var cc,b9,ca,b6=[],b7=0,b8=cb.length;for(;b7<b8;b7++){b9=cb[b7];if(!b9.style){continue}b6[b7]=bI._data(b9,"olddisplay");cc=b9.style.display;if(e){if(!b6[b7]&&cc==="none"){b9.style.display=""}if(b9.style.display===""&&S(b9)){b6[b7]=bI._data(b9,"olddisplay",a0(b9.nodeName))}}else{ca=S(b9);if(cc&&cc!=="none"||!ca){bI._data(b9,"olddisplay",ca?cc:bI.css(b9,"display"))}}}for(b7=0;b7<b8;b7++){b9=cb[b7];if(!b9.style){continue}if(!e||b9.style.display==="none"||b9.style.display===""){b9.style.display=e?b6[b7]||"":"none"}}return cb}function aN(e,b7,b8){var b6=bb.exec(b7);return b6?Math.max(0,b6[1]-(b8||0))+(b6[2]||"px"):b7}function ax(b9,b6,e,cb,b8){var b7=e===(cb?"border":"content")?4:b6==="width"?1:0,ca=0;for(;b7<4;b7+=2){if(e==="margin"){ca+=bI.css(b9,e+bT[b7],true,b8)}if(cb){if(e==="content"){ca-=bI.css(b9,"padding"+bT[b7],true,b8)}if(e!=="margin"){ca-=bI.css(b9,"border"+bT[b7]+"Width",true,b8)}}else{ca+=bI.css(b9,"padding"+bT[b7],true,b8);if(e!=="padding"){ca+=bI.css(b9,"border"+bT[b7]+"Width",true,b8)}}}return ca}function v(b9,b6,e){var b8=true,ca=b6==="width"?b9.offsetWidth:b9.offsetHeight,b7=bq(b9),cb=D.boxSizing&&bI.css(b9,"boxSizing",false,b7)==="border-box";if(ca<=0||ca==null){ca=G(b9,b6,b7);if(ca<0||ca==null){ca=b9.style[b6]}if(Y.test(ca)){return ca}b8=cb&&(D.boxSizingReliable()||ca===b9.style[b6]);ca=parseFloat(ca)||0}return(ca+ax(b9,b6,e||(cb?"border":"content"),b8,b7))+"px"}bI.extend({cssHooks:{opacity:{get:function(b7,b6){if(b6){var e=G(b7,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":D.cssFloat?"cssFloat":"styleFloat"},style:function(b8,b7,ce,b9){if(!b8||b8.nodeType===3||b8.nodeType===8||!b8.style){return}var cc,cd,cf,ca=bI.camelCase(b7),b6=b8.style;b7=bI.cssProps[ca]||(bI.cssProps[ca]=c(b6,ca));cf=bI.cssHooks[b7]||bI.cssHooks[ca];if(ce!==undefined){cd=typeof ce;if(cd==="string"&&(cc=V.exec(ce))){ce=(cc[1]+1)*cc[2]+parseFloat(bI.css(b8,b7));cd="number"}if(ce==null||ce!==ce){return}if(cd==="number"&&!bI.cssNumber[ca]){ce+="px"}if(!D.clearCloneStyle&&ce===""&&b7.indexOf("background")===0){b6[b7]="inherit"}if(!cf||!("set" in cf)||(ce=cf.set(b8,ce,b9))!==undefined){try{b6[b7]=ce}catch(cb){}}}else{if(cf&&"get" in cf&&(cc=cf.get(b8,false,b9))!==undefined){return cc}return b6[b7]}},css:function(cb,b9,b6,ca){var b8,cc,e,b7=bI.camelCase(b9);b9=bI.cssProps[b7]||(bI.cssProps[b7]=c(cb.style,b7));e=bI.cssHooks[b9]||bI.cssHooks[b7];if(e&&"get" in e){cc=e.get(cb,true,b6)}if(cc===undefined){cc=G(cb,b9,ca)}if(cc==="normal"&&b9 in bD){cc=bD[b9]}if(b6===""||b6){b8=parseFloat(cc);return b6===true||bI.isNumeric(b8)?b8||0:cc}return cc}});bI.each(["height","width"],function(b6,e){bI.cssHooks[e]={get:function(b9,b8,b7){if(b8){return H.test(bI.css(b9,"display"))&&b9.offsetWidth===0?bI.swap(b9,be,function(){return v(b9,e,b7)}):v(b9,e,b7)}},set:function(b9,ca,b7){var b8=b7&&bq(b9);return aN(b9,ca,b7?ax(b9,e,b7,D.boxSizing&&bI.css(b9,"boxSizing",false,b8)==="border-box",b8):0)}}});if(!D.opacity){bI.cssHooks.opacity={get:function(b6,e){return aU.test((e&&b6.currentStyle?b6.currentStyle.filter:b6.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b9,ca){var b8=b9.style,b6=b9.currentStyle,e=bI.isNumeric(ca)?"alpha(opacity="+ca*100+")":"",b7=b6&&b6.filter||b8.filter||"";b8.zoom=1;if((ca>=1||ca==="")&&bI.trim(b7.replace(bj,""))===""&&b8.removeAttribute){b8.removeAttribute("filter");if(ca===""||b6&&!b6.filter){return}}b8.filter=bj.test(b7)?b7.replace(bj,e):b7+" "+e}}}bI.cssHooks.marginRight=a7(D.reliableMarginRight,function(b6,e){if(e){return bI.swap(b6,{display:"inline-block"},G,[b6,"marginRight"])}});bI.each({margin:"",padding:"",border:"Width"},function(e,b6){bI.cssHooks[e+b6]={expand:function(b9){var b8=0,b7={},ca=typeof b9==="string"?b9.split(" "):[b9];for(;b8<4;b8++){b7[e+bT[b8]+b6]=ca[b8]||ca[b8-2]||ca[0]}return b7}};if(!aZ.test(e)){bI.cssHooks[e+b6].set=aN}});bI.fn.extend({css:function(e,b6){return aB(this,function(cb,b8,cc){var ca,b7,cd={},b9=0;if(bI.isArray(b8)){ca=bq(cb);b7=b8.length;for(;b9<b7;b9++){cd[b8[b9]]=bI.css(cb,b8[b9],false,ca)}return cd}return cc!==undefined?bI.style(cb,b8,cc):bI.css(cb,b8)},e,b6,arguments.length>1)},show:function(){return r(this,true)},hide:function(){return r(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(S(this)){bI(this).show()}else{bI(this).hide()}})}});function J(b7,b6,b9,e,b8){return new J.prototype.init(b7,b6,b9,e,b8)}bI.Tween=J;J.prototype={constructor:J,init:function(b8,b6,ca,e,b9,b7){this.elem=b8;this.prop=ca;this.easing=b9||"swing";this.options=b6;this.start=this.now=this.cur();this.end=e;this.unit=b7||(bI.cssNumber[ca]?"":"px")},cur:function(){var e=J.propHooks[this.prop];return e&&e.get?e.get(this):J.propHooks._default.get(this)},run:function(b7){var b6,e=J.propHooks[this.prop];if(this.options.duration){this.pos=b6=bI.easing[this.easing](b7,this.options.duration*b7,0,1,this.options.duration)}else{this.pos=b6=b7}this.now=(this.end-this.start)*b6+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{J.propHooks._default.set(this)}return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(b6){var e;if(b6.elem[b6.prop]!=null&&(!b6.elem.style||b6.elem.style[b6.prop]==null)){return b6.elem[b6.prop]}e=bI.css(b6.elem,b6.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bI.fx.step[e.prop]){bI.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bI.cssProps[e.prop]]!=null||bI.cssHooks[e.prop])){bI.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bI.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bI.fx=J.prototype.init;bI.fx.step={};var N,ae,bR=/^(?:toggle|show|hide)$/,bJ=new RegExp("^(?:([+-])=|)("+aE+")([a-z%]*)$","i"),bP=/queueHooks$/,aG=[h],a2={"*":[function(e,cb){var cd=this.createTween(e,cb),b9=cd.cur(),b8=bJ.exec(cb),cc=b8&&b8[3]||(bI.cssNumber[e]?"":"px"),b6=(bI.cssNumber[e]||cc!=="px"&&+b9)&&bJ.exec(bI.css(cd.elem,e)),b7=1,ca=20;if(b6&&b6[3]!==cc){cc=cc||b6[3];b8=b8||[];b6=+b9||1;do{b7=b7||".5";b6=b6/b7;bI.style(cd.elem,e,b6+cc)}while(b7!==(b7=cd.cur()/b9)&&b7!==1&&--ca)}if(b8){b6=cd.start=+b6||+b9||0;cd.unit=cc;cd.end=b8[1]?b6+(b8[1]+1)*b8[2]:+b8[2]}return cd}]};function bn(){setTimeout(function(){N=undefined});return(N=bI.now())}function bH(b7,b9){var b8,e={height:b7},b6=0;b9=b9?1:0;for(;b6<4;b6+=2-b9){b8=bT[b6];e["margin"+b8]=e["padding"+b8]=b7}if(b9){e.opacity=e.width=b7}return e}function bd(b9,cb,b8){var b6,ca=(a2[cb]||[]).concat(a2["*"]),e=0,b7=ca.length;for(;e<b7;e++){if((b6=ca[e].call(b8,cb,b9))){return b6}}}function h(b8,cd,e){var b7,cg,ca,cj,ck,ch,cc,cf,b9=this,ce={},b6=b8.style,cb=b8.nodeType&&S(b8),ci=bI._data(b8,"fxshow");if(!e.queue){ck=bI._queueHooks(b8,"fx");if(ck.unqueued==null){ck.unqueued=0;ch=ck.empty.fire;ck.empty.fire=function(){if(!ck.unqueued){ch()}}}ck.unqueued++;b9.always(function(){b9.always(function(){ck.unqueued--;if(!bI.queue(b8,"fx").length){ck.empty.fire()}})})}if(b8.nodeType===1&&("height" in cd||"width" in cd)){e.overflow=[b6.overflow,b6.overflowX,b6.overflowY];cc=bI.css(b8,"display");cf=cc==="none"?bI._data(b8,"olddisplay")||a0(b8.nodeName):cc;if(cf==="inline"&&bI.css(b8,"float")==="none"){if(!D.inlineBlockNeedsLayout||a0(b8.nodeName)==="inline"){b6.display="inline-block"}else{b6.zoom=1}}}if(e.overflow){b6.overflow="hidden";if(!D.shrinkWrapBlocks()){b9.always(function(){b6.overflow=e.overflow[0];b6.overflowX=e.overflow[1];b6.overflowY=e.overflow[2]})}}for(b7 in cd){cg=cd[b7];if(bR.exec(cg)){delete cd[b7];ca=ca||cg==="toggle";if(cg===(cb?"hide":"show")){if(cg==="show"&&ci&&ci[b7]!==undefined){cb=true}else{continue}}ce[b7]=ci&&ci[b7]||bI.style(b8,b7)}else{cc=undefined}}if(!bI.isEmptyObject(ce)){if(ci){if("hidden" in ci){cb=ci.hidden}}else{ci=bI._data(b8,"fxshow",{})}if(ca){ci.hidden=!cb}if(cb){bI(b8).show()}else{b9.done(function(){bI(b8).hide()})}b9.done(function(){var cl;bI._removeData(b8,"fxshow");for(cl in ce){bI.style(b8,cl,ce[cl])}});for(b7 in ce){cj=bd(cb?ci[b7]:0,b7,b9);if(!(b7 in ci)){ci[b7]=cj.start;if(cb){cj.end=cj.start;cj.start=b7==="width"||b7==="height"?1:0}}}}else{if((cc==="none"?a0(b8.nodeName):cc)==="inline"){b6.display=cc}}}function ao(b8,ca){var b7,b6,cb,b9,e;for(b7 in b8){b6=bI.camelCase(b7);cb=ca[b6];b9=b8[b7];if(bI.isArray(b9)){cb=b9[1];b9=b8[b7]=b9[0]}if(b7!==b6){b8[b6]=b9;delete b8[b7]}e=bI.cssHooks[b6];if(e&&"expand" in e){b9=e.expand(b9);delete b8[b6];for(b7 in b9){if(!(b7 in b8)){b8[b7]=b9[b7];ca[b7]=cb}}}else{ca[b6]=cb}}}function f(b7,cb,ce){var cf,e,ca=0,b6=aG.length,cd=bI.Deferred().always(function(){delete b9.elem}),b9=function(){if(e){return false}var cl=N||bn(),ci=Math.max(0,b8.startTime+b8.duration-cl),cg=ci/b8.duration||0,ck=1-cg,ch=0,cj=b8.tweens.length;for(;ch<cj;ch++){b8.tweens[ch].run(ck)}cd.notifyWith(b7,[b8,ck,ci]);if(ck<1&&cj){return ci}else{cd.resolveWith(b7,[b8]);return false}},b8=cd.promise({elem:b7,props:bI.extend({},cb),opts:bI.extend(true,{specialEasing:{}},ce),originalProperties:cb,originalOptions:ce,startTime:N||bn(),duration:ce.duration,tweens:[],createTween:function(ci,cg){var ch=bI.Tween(b7,b8.opts,ci,cg,b8.opts.specialEasing[ci]||b8.opts.easing);b8.tweens.push(ch);return ch},stop:function(ch){var cg=0,ci=ch?b8.tweens.length:0;if(e){return this}e=true;for(;cg<ci;cg++){b8.tweens[cg].run(1)}if(ch){cd.resolveWith(b7,[b8,ch])}else{cd.rejectWith(b7,[b8,ch])}return this}}),cc=b8.props;ao(cc,b8.opts.specialEasing);for(;ca<b6;ca++){cf=aG[ca].call(b8,b7,cc,b8.opts);if(cf){return cf}}bI.map(cc,bd,b8);if(bI.isFunction(b8.opts.start)){b8.opts.start.call(b7,b8)}bI.fx.timer(bI.extend(b9,{elem:b7,anim:b8,queue:b8.opts.queue}));return b8.progress(b8.opts.progress).done(b8.opts.done,b8.opts.complete).fail(b8.opts.fail).always(b8.opts.always)}bI.Animation=bI.extend(f,{tweener:function(b6,b9){if(bI.isFunction(b6)){b9=b6;b6=["*"]}else{b6=b6.split(" ")}var b8,e=0,b7=b6.length;for(;e<b7;e++){b8=b6[e];a2[b8]=a2[b8]||[];a2[b8].unshift(b9)}},prefilter:function(b6,e){if(e){aG.unshift(b6)}else{aG.push(b6)}}});bI.speed=function(b7,b8,b6){var e=b7&&typeof b7==="object"?bI.extend({},b7):{complete:b6||!b6&&b8||bI.isFunction(b7)&&b7,duration:b7,easing:b6&&b8||b8&&!bI.isFunction(b8)&&b8};e.duration=bI.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bI.fx.speeds?bI.fx.speeds[e.duration]:bI.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bI.isFunction(e.old)){e.old.call(this)}if(e.queue){bI.dequeue(this,e.queue)}};return e};bI.fn.extend({fadeTo:function(e,b8,b7,b6){return this.filter(S).css("opacity",0).show().end().animate({opacity:b8},e,b7,b6)},animate:function(cb,b8,ca,b9){var b7=bI.isEmptyObject(cb),e=bI.speed(b8,ca,b9),b6=function(){var cc=f(this,bI.extend({},cb),e);if(b7||bI._data(this,"finish")){cc.stop(true)}};b6.finish=b6;return b7||e.queue===false?this.each(b6):this.queue(e.queue,b6)},stop:function(b7,b6,e){var b8=function(b9){var ca=b9.stop;delete b9.stop;ca(e)};if(typeof b7!=="string"){e=b6;b6=b7;b7=undefined}if(b6&&b7!==false){this.queue(b7||"fx",[])}return this.each(function(){var cc=true,b9=b7!=null&&b7+"queueHooks",cb=bI.timers,ca=bI._data(this);if(b9){if(ca[b9]&&ca[b9].stop){b8(ca[b9])}}else{for(b9 in ca){if(ca[b9]&&ca[b9].stop&&bP.test(b9)){b8(ca[b9])}}}for(b9=cb.length;b9--;){if(cb[b9].elem===this&&(b7==null||cb[b9].queue===b7)){cb[b9].anim.stop(e);cc=false;cb.splice(b9,1)}}if(cc||!e){bI.dequeue(this,b7)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b8,cb=bI._data(this),b7=cb[e+"queue"],b6=cb[e+"queueHooks"],ca=bI.timers,b9=b7?b7.length:0;cb.finish=true;bI.queue(this,e,[]);if(b6&&b6.stop){b6.stop.call(this,true)}for(b8=ca.length;b8--;){if(ca[b8].elem===this&&ca[b8].queue===e){ca[b8].anim.stop(true);ca.splice(b8,1)}}for(b8=0;b8<b9;b8++){if(b7[b8]&&b7[b8].finish){b7[b8].finish.call(this)}}delete cb.finish})}});bI.each(["toggle","show","hide"],function(b6,e){var b7=bI.fn[e];bI.fn[e]=function(b8,ca,b9){return b8==null||typeof b8==="boolean"?b7.apply(this,arguments):this.animate(bH(e,true),b8,ca,b9)}});bI.each({slideDown:bH("show"),slideUp:bH("hide"),slideToggle:bH("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b6){bI.fn[e]=function(b7,b9,b8){return this.animate(b6,b7,b9,b8)}});bI.timers=[];bI.fx.tick=function(){var b7,b6=bI.timers,e=0;N=bI.now();for(;e<b6.length;e++){b7=b6[e];if(!b7()&&b6[e]===b7){b6.splice(e--,1)}}if(!b6.length){bI.fx.stop()}N=undefined};bI.fx.timer=function(e){bI.timers.push(e);if(e()){bI.fx.start()}else{bI.timers.pop()}};bI.fx.interval=13;bI.fx.start=function(){if(!ae){ae=setInterval(bI.fx.tick,bI.fx.interval)}};bI.fx.stop=function(){clearInterval(ae);ae=null};bI.fx.speeds={slow:600,fast:200,_default:400};bI.fn.delay=function(b6,e){b6=bI.fx?bI.fx.speeds[b6]||b6:b6;e=e||"fx";return this.queue(e,function(b8,b7){var b9=setTimeout(b8,b6);b7.stop=function(){clearTimeout(b9)}})};(function(){var b7,b9,e,b6,b8;b9=n.createElement("div");b9.setAttribute("className","t");b9.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b6=b9.getElementsByTagName("a")[0];e=n.createElement("select");b8=e.appendChild(n.createElement("option"));b7=b9.getElementsByTagName("input")[0];b6.style.cssText="top:1px";D.getSetAttribute=b9.className!=="t";D.style=/top/.test(b6.getAttribute("style"));D.hrefNormalized=b6.getAttribute("href")==="/a";D.checkOn=!!b7.value;D.optSelected=b8.selected;D.enctype=!!n.createElement("form").enctype;e.disabled=true;D.optDisabled=!b8.disabled;b7=n.createElement("input");b7.setAttribute("value","");D.input=b7.getAttribute("value")==="";b7.value="t";b7.setAttribute("type","radio");D.radioValue=b7.value==="t"})();var al=/\r/g;bI.fn.extend({val:function(b8){var e,b6,b9,b7=this[0];if(!arguments.length){if(b7){e=bI.valHooks[b7.type]||bI.valHooks[b7.nodeName.toLowerCase()];if(e&&"get" in e&&(b6=e.get(b7,"value"))!==undefined){return b6}b6=b7.value;return typeof b6==="string"?b6.replace(al,""):b6==null?"":b6}return}b9=bI.isFunction(b8);return this.each(function(ca){var cb;if(this.nodeType!==1){return}if(b9){cb=b8.call(this,ca,bI(this).val())}else{cb=b8}if(cb==null){cb=""}else{if(typeof cb==="number"){cb+=""}else{if(bI.isArray(cb)){cb=bI.map(cb,function(cc){return cc==null?"":cc+""})}}}e=bI.valHooks[this.type]||bI.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,cb,"value")===undefined){this.value=cb}})}});bI.extend({valHooks:{option:{get:function(e){var b6=bI.find.attr(e,"value");return b6!=null?b6:bI.trim(bI.text(e))}},select:{get:function(e){var cb,b7,cd=e.options,b9=e.selectedIndex,b8=e.type==="select-one"||b9<0,cc=b8?null:[],ca=b8?b9+1:cd.length,b6=b9<0?ca:b8?b9:0;for(;b6<ca;b6++){b7=cd[b6];if((b7.selected||b6===b9)&&(D.optDisabled?!b7.disabled:b7.getAttribute("disabled")===null)&&(!b7.parentNode.disabled||!bI.nodeName(b7.parentNode,"optgroup"))){cb=bI(b7).val();if(b8){return cb}cc.push(cb)}}return cc},set:function(ca,cb){var cc,b9,b7=ca.options,e=bI.makeArray(cb),b8=b7.length;while(b8--){b9=b7[b8];if(bI.inArray(bI.valHooks.option.get(b9),e)>=0){try{b9.selected=cc=true}catch(b6){b9.scrollHeight}}else{b9.selected=false}}if(!cc){ca.selectedIndex=-1}return b7}}}});bI.each(["radio","checkbox"],function(){bI.valHooks[this]={set:function(e,b6){if(bI.isArray(b6)){return(e.checked=bI.inArray(bI(e).val(),b6)>=0)}}};if(!D.checkOn){bI.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var ba,b3,bO=bI.expr.attrHandle,aq=/^(?:checked|selected)$/i,bN=D.getSetAttribute,bF=D.input;bI.fn.extend({attr:function(e,b6){return aB(this,bI.attr,e,b6,arguments.length>1)},removeAttr:function(e){return this.each(function(){bI.removeAttr(this,e)})}});bI.extend({attr:function(b9,b8,ca){var e,b7,b6=b9.nodeType;if(!b9||b6===3||b6===8||b6===2){return}if(typeof b9.getAttribute===aC){return bI.prop(b9,b8,ca)}if(b6!==1||!bI.isXMLDoc(b9)){b8=b8.toLowerCase();e=bI.attrHooks[b8]||(bI.expr.match.bool.test(b8)?b3:ba)}if(ca!==undefined){if(ca===null){bI.removeAttr(b9,b8)}else{if(e&&"set" in e&&(b7=e.set(b9,ca,b8))!==undefined){return b7}else{b9.setAttribute(b8,ca+"");return ca}}}else{if(e&&"get" in e&&(b7=e.get(b9,b8))!==null){return b7}else{b7=bI.find.attr(b9,b8);return b7==null?undefined:b7}}},removeAttr:function(b7,b9){var e,b8,b6=0,ca=b9&&b9.match(aF);if(ca&&b7.nodeType===1){while((e=ca[b6++])){b8=bI.propFix[e]||e;if(bI.expr.match.bool.test(e)){if(bF&&bN||!aq.test(e)){b7[b8]=false}else{b7[bI.camelCase("default-"+e)]=b7[b8]=false}}else{bI.attr(b7,e,"")}b7.removeAttribute(bN?e:b8)}}},attrHooks:{type:{set:function(e,b6){if(!D.radioValue&&b6==="radio"&&bI.nodeName(e,"input")){var b7=e.value;e.setAttribute("type",b6);if(b7){e.value=b7}return b6}}}}});b3={set:function(b6,b7,e){if(b7===false){bI.removeAttr(b6,e)}else{if(bF&&bN||!aq.test(e)){b6.setAttribute(!bN&&bI.propFix[e]||e,e)}else{b6[bI.camelCase("default-"+e)]=b6[e]=true}}return e}};bI.each(bI.expr.match.bool.source.match(/\w+/g),function(b7,b6){var e=bO[b6]||bI.find.attr;bO[b6]=bF&&bN||!aq.test(b6)?function(ca,b9,cc){var b8,cb;if(!cc){cb=bO[b9];bO[b9]=b8;b8=e(ca,b9,cc)!=null?b9.toLowerCase():null;bO[b9]=cb}return b8}:function(b9,b8,ca){if(!ca){return b9[bI.camelCase("default-"+b8)]?b8.toLowerCase():null}}});if(!bF||!bN){bI.attrHooks.value={set:function(b6,b7,e){if(bI.nodeName(b6,"input")){b6.defaultValue=b7}else{return ba&&ba.set(b6,b7,e)}}}}if(!bN){ba={set:function(b7,b8,b6){var e=b7.getAttributeNode(b6);if(!e){b7.setAttributeNode((e=b7.ownerDocument.createAttribute(b6)))}e.value=b8+="";if(b6==="value"||b8===b7.getAttribute(b6)){return b8}}};bO.id=bO.name=bO.coords=function(b7,b6,b8){var e;if(!b8){return(e=b7.getAttributeNode(b6))&&e.value!==""?e.value:null}};bI.valHooks.button={get:function(b7,b6){var e=b7.getAttributeNode(b6);if(e&&e.specified){return e.value}},set:ba.set};bI.attrHooks.contenteditable={set:function(b6,b7,e){ba.set(b6,b7===""?false:b7,e)}};bI.each(["width","height"],function(b6,e){bI.attrHooks[e]={set:function(b7,b8){if(b8===""){b7.setAttribute(e,"auto");return b8}}}})}if(!D.style){bI.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,b6){return(e.style.cssText=b6+"")}}}var aJ=/^(?:input|select|textarea|button|object)$/i,F=/^(?:a|area)$/i;bI.fn.extend({prop:function(e,b6){return aB(this,bI.prop,e,b6,arguments.length>1)},removeProp:function(e){e=bI.propFix[e]||e;return this.each(function(){try{this[e]=undefined;delete this[e]}catch(b6){}})}});bI.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(ca,b8,cb){var b7,e,b9,b6=ca.nodeType;if(!ca||b6===3||b6===8||b6===2){return}b9=b6!==1||!bI.isXMLDoc(ca);if(b9){b8=bI.propFix[b8]||b8;e=bI.propHooks[b8]}if(cb!==undefined){return e&&"set" in e&&(b7=e.set(ca,cb,b8))!==undefined?b7:(ca[b8]=cb)}else{return e&&"get" in e&&(b7=e.get(ca,b8))!==null?b7:ca[b8]}},propHooks:{tabIndex:{get:function(b6){var e=bI.find.attr(b6,"tabindex");return e?parseInt(e,10):aJ.test(b6.nodeName)||F.test(b6.nodeName)&&b6.href?0:-1}}}});if(!D.hrefNormalized){bI.each(["href","src"],function(b6,e){bI.propHooks[e]={get:function(b7){return b7.getAttribute(e,4)}}})}if(!D.optSelected){bI.propHooks.selected={get:function(b6){var e=b6.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}}}bI.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bI.propFix[this.toLowerCase()]=this});if(!D.enctype){bI.propFix.enctype="encoding"}var bL=/[\t\r\n\f]/g;bI.fn.extend({addClass:function(cd){var b7,b6,ce,cb,b8,e,b9=0,ca=this.length,cc=typeof cd==="string"&&cd;if(bI.isFunction(cd)){return this.each(function(cf){bI(this).addClass(cd.call(this,cf,this.className))})}if(cc){b7=(cd||"").match(aF)||[];for(;b9<ca;b9++){b6=this[b9];ce=b6.nodeType===1&&(b6.className?(" "+b6.className+" ").replace(bL," "):" ");if(ce){b8=0;while((cb=b7[b8++])){if(ce.indexOf(" "+cb+" ")<0){ce+=cb+" "}}e=bI.trim(ce);if(b6.className!==e){b6.className=e}}}}return this},removeClass:function(cd){var b7,b6,ce,cb,b8,e,b9=0,ca=this.length,cc=arguments.length===0||typeof cd==="string"&&cd;if(bI.isFunction(cd)){return this.each(function(cf){bI(this).removeClass(cd.call(this,cf,this.className))})}if(cc){b7=(cd||"").match(aF)||[];for(;b9<ca;b9++){b6=this[b9];ce=b6.nodeType===1&&(b6.className?(" "+b6.className+" ").replace(bL," "):"");if(ce){b8=0;while((cb=b7[b8++])){while(ce.indexOf(" "+cb+" ")>=0){ce=ce.replace(" "+cb+" "," ")}}e=cd?bI.trim(ce):"";if(b6.className!==e){b6.className=e}}}}return this},toggleClass:function(b7,e){var b6=typeof b7;if(typeof e==="boolean"&&b6==="string"){return e?this.addClass(b7):this.removeClass(b7)}if(bI.isFunction(b7)){return this.each(function(b8){bI(this).toggleClass(b7.call(this,b8,this.className,e),e)})}return this.each(function(){if(b6==="string"){var ca,b9=0,b8=bI(this),cb=b7.match(aF)||[];while((ca=cb[b9++])){if(b8.hasClass(ca)){b8.removeClass(ca)}else{b8.addClass(ca)}}}else{if(b6===aC||b6==="boolean"){if(this.className){bI._data(this,"__className__",this.className)}this.className=this.className||b7===false?"":bI._data(this,"__className__")||""}}})},hasClass:function(e){var b8=" "+e+" ",b7=0,b6=this.length;for(;b7<b6;b7++){if(this[b7].nodeType===1&&(" "+this[b7].className+" ").replace(bL," ").indexOf(b8)>=0){return true}}return false}});bI.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b6,e){bI.fn[e]=function(b8,b7){return arguments.length>0?this.on(e,null,b8,b7):this.trigger(e)}});bI.fn.extend({hover:function(e,b6){return this.mouseenter(e).mouseleave(b6||e)},bind:function(e,b7,b6){return this.on(e,null,b7,b6)},unbind:function(e,b6){return this.off(e,null,b6)},delegate:function(e,b6,b8,b7){return this.on(b6,e,b8,b7)},undelegate:function(e,b6,b7){return arguments.length===1?this.off(e,"**"):this.off(b6,e||"**",b7)}});var bp=bI.now();var bQ=(/\?/);var a1=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;bI.parseJSON=function(e){if(a5.JSON&&a5.JSON.parse){return a5.JSON.parse(e+"")}var b8,b7=null,b6=bI.trim(e+"");return b6&&!bI.trim(b6.replace(a1,function(cb,b9,ca,cc){if(b8&&b9){b7=0}if(b7===0){return cb}b8=ca||b9;b7+=!cc-!ca;return""}))?(Function("return "+b6))():bI.error("Invalid JSON: "+e)};bI.parseXML=function(b8){var b6,b7;if(!b8||typeof b8!=="string"){return null}try{if(a5.DOMParser){b7=new DOMParser();b6=b7.parseFromString(b8,"text/xml")}else{b6=new ActiveXObject("Microsoft.XMLDOM");b6.async="false";b6.loadXML(b8)}}catch(b9){b6=undefined}if(!b6||!b6.documentElement||b6.getElementsByTagName("parsererror").length){bI.error("Invalid XML: "+b8)}return b6};var b4,aa,ap=/#.*$/,R=/([?&])_=[^&]*/,ah=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,C=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,q=/^(?:GET|HEAD)$/,aK=/^\/\//,aV=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,w={},a9={},aX="*/".concat("*");try{aa=location.href}catch(bi){aa=n.createElement("a");aa.href="";aa=aa.href}b4=aV.exec(aa.toLowerCase())||[];function bK(e){return function(b9,ca){if(typeof b9!=="string"){ca=b9;b9="*"}var b6,b7=0,b8=b9.toLowerCase().match(aF)||[];if(bI.isFunction(ca)){while((b6=b8[b7++])){if(b6.charAt(0)==="+"){b6=b6.slice(1)||"*";(e[b6]=e[b6]||[]).unshift(ca)}else{(e[b6]=e[b6]||[]).push(ca)}}}}}function p(e,b7,cb,b8){var b6={},b9=(e===a9);function ca(cc){var cd;b6[cc]=true;bI.each(e[cc]||[],function(cf,ce){var cg=ce(b7,cb,b8);if(typeof cg==="string"&&!b9&&!b6[cg]){b7.dataTypes.unshift(cg);ca(cg);return false}else{if(b9){return !(cd=cg)}}});return cd}return ca(b7.dataTypes[0])||!b6["*"]&&ca("*")}function s(b7,b8){var e,b6,b9=bI.ajaxSettings.flatOptions||{};for(b6 in b8){if(b8[b6]!==undefined){(b9[b6]?b7:(e||(e={})))[b6]=b8[b6]}}if(e){bI.extend(true,b7,e)}return b7}function g(cd,cc,b9){var e,b8,b7,ca,b6=cd.contents,cb=cd.dataTypes;while(cb[0]==="*"){cb.shift();if(b8===undefined){b8=cd.mimeType||cc.getResponseHeader("Content-Type")}}if(b8){for(ca in b6){if(b6[ca]&&b6[ca].test(b8)){cb.unshift(ca);break}}}if(cb[0] in b9){b7=cb[0]}else{for(ca in b9){if(!cb[0]||cd.converters[ca+" "+cb[0]]){b7=ca;break}if(!e){e=ca}}b7=b7||e}if(b7){if(b7!==cb[0]){cb.unshift(b7)}return b9[b7]}}function ag(ch,b9,ce,b7){var b6,cc,cf,ca,b8,cg={},cd=ch.dataTypes.slice();if(cd[1]){for(cf in ch.converters){cg[cf.toLowerCase()]=ch.converters[cf]}}cc=cd.shift();while(cc){if(ch.responseFields[cc]){ce[ch.responseFields[cc]]=b9}if(!b8&&b7&&ch.dataFilter){b9=ch.dataFilter(b9,ch.dataType)}b8=cc;cc=cd.shift();if(cc){if(cc==="*"){cc=b8}else{if(b8!=="*"&&b8!==cc){cf=cg[b8+" "+cc]||cg["* "+cc];if(!cf){for(b6 in cg){ca=b6.split(" ");if(ca[1]===cc){cf=cg[b8+" "+ca[0]]||cg["* "+ca[0]];if(cf){if(cf===true){cf=cg[b6]}else{if(cg[b6]!==true){cc=ca[0];cd.unshift(ca[1])}}break}}}}if(cf!==true){if(cf&&ch["throws"]){b9=cf(b9)}else{try{b9=cf(b9)}catch(cb){return{state:"parsererror",error:cf?cb:"No conversion from "+b8+" to "+cc}}}}}}}}return{state:"success",data:b9}}bI.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:aa,type:"GET",isLocal:C.test(b4[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aX,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":bI.parseJSON,"text xml":bI.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b6,e){return e?s(s(b6,bI.ajaxSettings),e):s(bI.ajaxSettings,b6)},ajaxPrefilter:bK(w),ajaxTransport:bK(a9),ajax:function(ca,b7){if(typeof ca==="object"){b7=ca;ca=undefined}b7=b7||{};var cj,cl,cb,cq,cf,b6,cm,b8,ce=bI.ajaxSetup({},b7),cs=ce.context||ce,ch=ce.context&&(cs.nodeType||cs.jquery)?bI(cs):bI.event,cr=bI.Deferred(),co=bI.Callbacks("once memory"),cc=ce.statusCode||{},ci={},cp={},b9=0,cd="canceled",ck={readyState:0,getResponseHeader:function(ct){var e;if(b9===2){if(!b8){b8={};while((e=ah.exec(cq))){b8[e[1].toLowerCase()]=e[2]}}e=b8[ct.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b9===2?cq:null},setRequestHeader:function(ct,cu){var e=ct.toLowerCase();if(!b9){ct=cp[e]=cp[e]||ct;ci[ct]=cu}return this},overrideMimeType:function(e){if(!b9){ce.mimeType=e}return this},statusCode:function(ct){var e;if(ct){if(b9<2){for(e in ct){cc[e]=[cc[e],ct[e]]}}else{ck.always(ct[ck.status])}}return this},abort:function(ct){var e=ct||cd;if(cm){cm.abort(e)}cg(0,e);return this}};cr.promise(ck).complete=co.add;ck.success=ck.done;ck.error=ck.fail;ce.url=((ca||ce.url||aa)+"").replace(ap,"").replace(aK,b4[1]+"//");ce.type=b7.method||b7.type||ce.method||ce.type;ce.dataTypes=bI.trim(ce.dataType||"*").toLowerCase().match(aF)||[""];if(ce.crossDomain==null){cj=aV.exec(ce.url.toLowerCase());ce.crossDomain=!!(cj&&(cj[1]!==b4[1]||cj[2]!==b4[2]||(cj[3]||(cj[1]==="http:"?"80":"443"))!==(b4[3]||(b4[1]==="http:"?"80":"443"))))}if(ce.data&&ce.processData&&typeof ce.data!=="string"){ce.data=bI.param(ce.data,ce.traditional)}p(w,ce,b7,ck);if(b9===2){return ck}b6=bI.event&&ce.global;if(b6&&bI.active++===0){bI.event.trigger("ajaxStart")}ce.type=ce.type.toUpperCase();ce.hasContent=!q.test(ce.type);cb=ce.url;if(!ce.hasContent){if(ce.data){cb=(ce.url+=(bQ.test(cb)?"&":"?")+ce.data);delete ce.data}if(ce.cache===false){ce.url=R.test(cb)?cb.replace(R,"$1_="+bp++):cb+(bQ.test(cb)?"&":"?")+"_="+bp++}}if(ce.ifModified){if(bI.lastModified[cb]){ck.setRequestHeader("If-Modified-Since",bI.lastModified[cb])}if(bI.etag[cb]){ck.setRequestHeader("If-None-Match",bI.etag[cb])}}if(ce.data&&ce.hasContent&&ce.contentType!==false||b7.contentType){ck.setRequestHeader("Content-Type",ce.contentType)}ck.setRequestHeader("Accept",ce.dataTypes[0]&&ce.accepts[ce.dataTypes[0]]?ce.accepts[ce.dataTypes[0]]+(ce.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):ce.accepts["*"]);for(cl in ce.headers){ck.setRequestHeader(cl,ce.headers[cl])}if(ce.beforeSend&&(ce.beforeSend.call(cs,ck,ce)===false||b9===2)){return ck.abort()}cd="abort";for(cl in {success:1,error:1,complete:1}){ck[cl](ce[cl])}cm=p(a9,ce,b7,ck);if(!cm){cg(-1,"No Transport")}else{ck.readyState=1;if(b6){ch.trigger("ajaxSend",[ck,ce])}if(ce.async&&ce.timeout>0){cf=setTimeout(function(){ck.abort("timeout")},ce.timeout)}try{b9=1;cm.send(ci,cg)}catch(cn){if(b9<2){cg(-1,cn)}else{throw cn}}}function cg(cx,ct,cy,cv){var e,cB,cz,cw,cA,cu=ct;if(b9===2){return}b9=2;if(cf){clearTimeout(cf)}cm=undefined;cq=cv||"";ck.readyState=cx>0?4:0;e=cx>=200&&cx<300||cx===304;if(cy){cw=g(ce,ck,cy)}cw=ag(ce,cw,ck,e);if(e){if(ce.ifModified){cA=ck.getResponseHeader("Last-Modified");if(cA){bI.lastModified[cb]=cA}cA=ck.getResponseHeader("etag");if(cA){bI.etag[cb]=cA}}if(cx===204||ce.type==="HEAD"){cu="nocontent"}else{if(cx===304){cu="notmodified"}else{cu=cw.state;cB=cw.data;cz=cw.error;e=!cz}}}else{cz=cu;if(cx||!cu){cu="error";if(cx<0){cx=0}}}ck.status=cx;ck.statusText=(ct||cu)+"";if(e){cr.resolveWith(cs,[cB,cu,ck])}else{cr.rejectWith(cs,[ck,cu,cz])}ck.statusCode(cc);cc=undefined;if(b6){ch.trigger(e?"ajaxSuccess":"ajaxError",[ck,ce,e?cB:cz])}co.fireWith(cs,[ck,cu]);if(b6){ch.trigger("ajaxComplete",[ck,ce]);if(!(--bI.active)){bI.event.trigger("ajaxStop")}}}return ck},getJSON:function(e,b6,b7){return bI.get(e,b6,b7,"json")},getScript:function(e,b6){return bI.get(e,undefined,b6,"script")}});bI.each(["get","post"],function(e,b6){bI[b6]=function(b7,b9,ca,b8){if(bI.isFunction(b9)){b8=b8||ca;ca=b9;b9=undefined}return bI.ajax({url:b7,type:b6,dataType:b8,data:b9,success:ca})}});bI._evalUrl=function(e){return bI.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})};bI.fn.extend({wrapAll:function(e){if(bI.isFunction(e)){return this.each(function(b7){bI(this).wrapAll(e.call(this,b7))})}if(this[0]){var b6=bI(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b6.insertBefore(this[0])}b6.map(function(){var b7=this;while(b7.firstChild&&b7.firstChild.nodeType===1){b7=b7.firstChild}return b7}).append(this)}return this},wrapInner:function(e){if(bI.isFunction(e)){return this.each(function(b6){bI(this).wrapInner(e.call(this,b6))})}return this.each(function(){var b6=bI(this),b7=b6.contents();if(b7.length){b7.wrapAll(e)}else{b6.append(e)}})},wrap:function(e){var b6=bI.isFunction(e);return this.each(function(b7){bI(this).wrapAll(b6?e.call(this,b7):e)})},unwrap:function(){return this.parent().each(function(){if(!bI.nodeName(this,"body")){bI(this).replaceWith(this.childNodes)}}).end()}});bI.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!D.reliableHiddenOffsets()&&((e.style&&e.style.display)||bI.css(e,"display"))==="none")};bI.expr.filters.visible=function(e){return !bI.expr.filters.hidden(e)};var bw=/%20/g,aS=/\[\]$/,X=/\r?\n/g,b=/^(?:submit|button|image|reset|file)$/i,au=/^(?:input|select|textarea|keygen)/i;function j(b7,b9,b6,b8){var e;if(bI.isArray(b9)){bI.each(b9,function(cb,ca){if(b6||aS.test(b7)){b8(b7,ca)}else{j(b7+"["+(typeof ca==="object"?cb:"")+"]",ca,b6,b8)}})}else{if(!b6&&bI.type(b9)==="object"){for(e in b9){j(b7+"["+e+"]",b9[e],b6,b8)}}else{b8(b7,b9)}}}bI.param=function(e,b7){var b8,b6=[],b9=function(ca,cb){cb=bI.isFunction(cb)?cb():(cb==null?"":cb);b6[b6.length]=encodeURIComponent(ca)+"="+encodeURIComponent(cb)};if(b7===undefined){b7=bI.ajaxSettings&&bI.ajaxSettings.traditional}if(bI.isArray(e)||(e.jquery&&!bI.isPlainObject(e))){bI.each(e,function(){b9(this.name,this.value)})}else{for(b8 in e){j(b8,e[b8],b7,b9)}}return b6.join("&").replace(bw,"+")};bI.fn.extend({serialize:function(){return bI.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bI.prop(this,"elements");return e?bI.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bI(this).is(":disabled")&&au.test(this.nodeName)&&!b.test(e)&&(this.checked||!aM.test(e))}).map(function(e,b6){var b7=bI(this).val();return b7==null?null:bI.isArray(b7)?bI.map(b7,function(b8){return{name:b6.name,value:b8.replace(X,"\r\n")}}):{name:b6.name,value:b7.replace(X,"\r\n")}}).get()}});bI.ajaxSettings.xhr=a5.ActiveXObject!==undefined?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&bE()||bg()}:bE;var aA=0,aj={},ay=bI.ajaxSettings.xhr();if(a5.attachEvent){a5.attachEvent("onunload",function(){for(var e in aj){aj[e](undefined,true)}})}D.cors=!!ay&&("withCredentials" in ay);ay=D.ajax=!!ay;if(ay){bI.ajaxTransport(function(e){if(!e.crossDomain||D.cors){var b6;return{send:function(ca,b7){var b8,b9=e.xhr(),cb=++aA;b9.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields){for(b8 in e.xhrFields){b9[b8]=e.xhrFields[b8]}}if(e.mimeType&&b9.overrideMimeType){b9.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!ca["X-Requested-With"]){ca["X-Requested-With"]="XMLHttpRequest"}for(b8 in ca){if(ca[b8]!==undefined){b9.setRequestHeader(b8,ca[b8]+"")}}b9.send((e.hasContent&&e.data)||null);b6=function(ce,cd){var cc,ch,cf;if(b6&&(cd||b9.readyState===4)){delete aj[cb];b6=undefined;b9.onreadystatechange=bI.noop;if(cd){if(b9.readyState!==4){b9.abort()}}else{cf={};cc=b9.status;if(typeof b9.responseText==="string"){cf.text=b9.responseText}try{ch=b9.statusText}catch(cg){ch=""}if(!cc&&e.isLocal&&!e.crossDomain){cc=cf.text?200:404}else{if(cc===1223){cc=204}}}}if(cf){b7(cc,ch,cf,b9.getAllResponseHeaders())}};if(!e.async){b6()}else{if(b9.readyState===4){setTimeout(b6)}else{b9.onreadystatechange=aj[cb]=b6}}},abort:function(){if(b6){b6(undefined,true)}}}}})}function bE(){try{return new a5.XMLHttpRequest()}catch(b6){}}function bg(){try{return new a5.ActiveXObject("Microsoft.XMLHTTP")}catch(b6){}}bI.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bI.globalEval(e);return e}}});bI.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bI.ajaxTransport("script",function(b7){if(b7.crossDomain){var e,b6=n.head||bI("head")[0]||n.documentElement;return{send:function(b8,b9){e=n.createElement("script");e.async=true;if(b7.scriptCharset){e.charset=b7.scriptCharset}e.src=b7.url;e.onload=e.onreadystatechange=function(cb,ca){if(ca||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!ca){b9(200,"success")}}};b6.insertBefore(e,b6.firstChild)},abort:function(){if(e){e.onload(undefined,true)}}}}});var bs=[],a8=/(=)\?(?=&|$)|\?\?/;bI.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bs.pop()||(bI.expando+"_"+(bp++));this[e]=true;return e}});bI.ajaxPrefilter("json jsonp",function(b8,e,b9){var cb,b6,b7,ca=b8.jsonp!==false&&(a8.test(b8.url)?"url":typeof b8.data==="string"&&!(b8.contentType||"").indexOf("application/x-www-form-urlencoded")&&a8.test(b8.data)&&"data");if(ca||b8.dataTypes[0]==="jsonp"){cb=b8.jsonpCallback=bI.isFunction(b8.jsonpCallback)?b8.jsonpCallback():b8.jsonpCallback;if(ca){b8[ca]=b8[ca].replace(a8,"$1"+cb)}else{if(b8.jsonp!==false){b8.url+=(bQ.test(b8.url)?"&":"?")+b8.jsonp+"="+cb}}b8.converters["script json"]=function(){if(!b7){bI.error(cb+" was not called")}return b7[0]};b8.dataTypes[0]="json";b6=a5[cb];a5[cb]=function(){b7=arguments};b9.always(function(){a5[cb]=b6;if(b8[cb]){b8.jsonpCallback=e.jsonpCallback;bs.push(cb)}if(b7&&bI.isFunction(b6)){b6(b7[0])}b7=b6=undefined});return"script"}});bI.parseHTML=function(b9,b7,b8){if(!b9||typeof b9!=="string"){return null}if(typeof b7==="boolean"){b8=b7;b7=false}b7=b7||n;var b6=a.exec(b9),e=!b8&&[];if(b6){return[b7.createElement(b6[1])]}b6=bI.buildFragment([b9],b7,e);if(e&&e.length){bI(e).remove()}return bI.merge([],b6.childNodes)};var b1=bI.fn.load;bI.fn.load=function(b8,cb,cc){if(typeof b8!=="string"&&b1){return b1.apply(this,arguments)}var e,b7,b9,b6=this,ca=b8.indexOf(" ");if(ca>=0){e=bI.trim(b8.slice(ca,b8.length));b8=b8.slice(0,ca)}if(bI.isFunction(cb)){cc=cb;cb=undefined}else{if(cb&&typeof cb==="object"){b9="POST"}}if(b6.length>0){bI.ajax({url:b8,type:b9,dataType:"html",data:cb}).done(function(cd){b7=arguments;b6.html(e?bI("<div>").append(bI.parseHTML(cd)).find(e):cd)}).complete(cc&&function(ce,cd){b6.each(cc,b7||[ce.responseText,cd,ce])})}return this};bI.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b6){bI.fn[b6]=function(b7){return this.on(b6,b7)}});bI.expr.filters.animated=function(e){return bI.grep(bI.timers,function(b6){return e===b6.elem}).length};var bX=a5.document.documentElement;function br(e){return bI.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bI.offset={setOffset:function(b7,ch,cb){var cd,ca,e,b8,b6,cf,cg,cc=bI.css(b7,"position"),b9=bI(b7),ce={};if(cc==="static"){b7.style.position="relative"}b6=b9.offset();e=bI.css(b7,"top");cf=bI.css(b7,"left");cg=(cc==="absolute"||cc==="fixed")&&bI.inArray("auto",[e,cf])>-1;if(cg){cd=b9.position();b8=cd.top;ca=cd.left}else{b8=parseFloat(e)||0;ca=parseFloat(cf)||0}if(bI.isFunction(ch)){ch=ch.call(b7,cb,b6)}if(ch.top!=null){ce.top=(ch.top-b6.top)+b8}if(ch.left!=null){ce.left=(ch.left-b6.left)+ca}if("using" in ch){ch.using.call(b7,ce)}else{b9.css(ce)}}};bI.fn.extend({offset:function(b6){if(arguments.length){return b6===undefined?this:this.each(function(cb){bI.offset.setOffset(this,b6,cb)})}var e,ca,b8={top:0,left:0},b7=this[0],b9=b7&&b7.ownerDocument;if(!b9){return}e=b9.documentElement;if(!bI.contains(e,b7)){return b8}if(typeof b7.getBoundingClientRect!==aC){b8=b7.getBoundingClientRect()}ca=br(b9);return{top:b8.top+(ca.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b8.left+(ca.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},position:function(){if(!this[0]){return}var b7,b8,e={top:0,left:0},b6=this[0];if(bI.css(b6,"position")==="fixed"){b8=b6.getBoundingClientRect()}else{b7=this.offsetParent();b8=this.offset();if(!bI.nodeName(b7[0],"html")){e=b7.offset()}e.top+=bI.css(b7[0],"borderTopWidth",true);e.left+=bI.css(b7[0],"borderLeftWidth",true)}return{top:b8.top-e.top-bI.css(b6,"marginTop",true),left:b8.left-e.left-bI.css(b6,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||bX;while(e&&(!bI.nodeName(e,"html")&&bI.css(e,"position")==="static")){e=e.offsetParent}return e||bX})}});bI.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b7,b6){var e=/Y/.test(b6);bI.fn[b7]=function(b8){return aB(this,function(b9,cc,cb){var ca=br(b9);if(cb===undefined){return ca?(b6 in ca)?ca[b6]:ca.document.documentElement[cc]:b9[cc]}if(ca){ca.scrollTo(!e?cb:bI(ca).scrollLeft(),e?cb:bI(ca).scrollTop())}else{b9[cc]=cb}},b7,b8,arguments.length,null)}});bI.each(["top","left"],function(e,b6){bI.cssHooks[b6]=a7(D.pixelPosition,function(b8,b7){if(b7){b7=G(b8,b6);return Y.test(b7)?bI(b8).position()[b6]+"px":b7}})});bI.each({Height:"height",Width:"width"},function(e,b6){bI.each({padding:"inner"+e,content:b6,"":"outer"+e},function(b7,b8){bI.fn[b8]=function(cc,cb){var ca=arguments.length&&(b7||typeof cc!=="boolean"),b9=b7||(cc===true||cb===true?"margin":"border");return aB(this,function(ce,cd,cf){var cg;if(bI.isWindow(ce)){return ce.document.documentElement["client"+e]}if(ce.nodeType===9){cg=ce.documentElement;return Math.max(ce.body["scroll"+e],cg["scroll"+e],ce.body["offset"+e],cg["offset"+e],cg["client"+e])}return cf===undefined?bI.css(ce,cd,b9):bI.style(ce,cd,cf,b9)},b6,ca?cc:undefined,ca,null)}})});bI.fn.size=function(){return this.length};bI.fn.andSelf=bI.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return bI})}var bk=a5.jQuery,I=a5.$;bI.noConflict=function(e){if(a5.$===bI){a5.$=I}if(e&&a5.jQuery===bI){a5.jQuery=bk}return bI};if(typeof av===aC){a5.jQuery=a5.$=bI}return bI}));(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks}}var f=c.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false)}}else{this.onmousewheel=l}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false)}}else{this.onmousewheel=null}},getLineHeight:function(m){return parseInt(c(m)["offsetParent" in c.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(m){return c(m).height()},settings:{adjustOldDeltas:true}};c.fn.extend({mousewheel:function(m){return m?this.bind("mousewheel",m):this.trigger("mousewheel")},unmousewheel:function(m){return this.unbind("mousewheel",m)}});function l(m){var o=m||window.event,s=h.call(arguments,1),v=0,q=0,p=0,r=0;m=c.event.fix(o);m.type="mousewheel";if("detail" in o){p=o.detail*-1}if("wheelDelta" in o){p=o.wheelDelta}if("wheelDeltaY" in o){p=o.wheelDeltaY}if("wheelDeltaX" in o){q=o.wheelDeltaX*-1}if("axis" in o&&o.axis===o.HORIZONTAL_AXIS){q=p*-1;p=0}v=p===0?q:p;if("deltaY" in o){p=o.deltaY*-1;v=p}if("deltaX" in o){q=o.deltaX;if(p===0){v=q*-1}}if(p===0&&q===0){return}if(o.deltaMode===1){var u=c.data(this,"mousewheel-line-height");v*=u;p*=u;q*=u}else{if(o.deltaMode===2){var n=c.data(this,"mousewheel-page-height");v*=n;p*=n;q*=n}}r=Math.max(Math.abs(p),Math.abs(q));if(!b||r<b){b=r;if(a(o,r)){b/=40}}if(a(o,r)){v/=40;q/=40;p/=40}v=Math[v>=1?"floor":"ceil"](v/b);q=Math[q>=1?"floor":"ceil"](q/b);p=Math[p>=1?"floor":"ceil"](p/b);m.deltaX=q;m.deltaY=p;m.deltaFactor=b;m.deltaMode=0;s.unshift(m,v,q,p);if(j){clearTimeout(j)}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,s)}function g(){b=null}function a(n,m){return f.settings.adjustOldDeltas&&n.type==="mousewheel"&&m%120===0}}));(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(l,k,j){if(typeof l!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(k===g){throw"invalid module definition, dependencies must be specified"}if(j===g){throw"invalid module definition, definition function must be specified"}c(k,function(){d[l]=j.apply(null,arguments)})}function f(j){return !!d[j]}function e(m){var k=b;var j=m.split(/[.\/]/);for(var l=0;l<j.length;++l){if(!k[j[l]]){return}k=k[j[l]]}return k}function a(l){for(var k=0;k<l.length;k++){var m=b;var o=l[k];var j=o.split(/[.\/]/);for(var n=0;n<j.length-1;++n){if(m[j[n]]===g){m[j[n]]={}}m=m[j[n]]}m[j[j.length-1]]=d[o]}}h("moxie/core/utils/Basic",[],function(){var s=function(y){var x;if(y===x){return"undefined"}else{if(y===null){return"null"}else{if(y.nodeType){return"node"}}}return({}).toString.call(y).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()};var o=function(y){var x;q(arguments,function(z,A){if(A>0){q(z,function(C,B){if(C!==x){if(s(y[B])===s(C)&&!!~w(s(C),["array","object"])){o(y[B],C)}else{y[B]=C}}})}});return y};var q=function(C,D){var B,z,y,A;if(C){try{B=C.length}catch(x){B=A}if(B===A){for(z in C){if(C.hasOwnProperty(z)){if(D(C[z],z)===false){return}}}}else{for(y=0;y<B;y++){if(D(C[y],y)===false){return}}}}};var u=function(x){var y;if(!x||s(x)!=="object"){return true}for(y in x){return false}return true};var m=function(y,x){var z=0,A=y.length;if(s(x)!=="function"){x=function(){}}if(!y||!y.length){x()}function B(C){if(s(y[C])==="function"){y[C](function(D){++C<A&&!D?B(C):x(D)})}}B(z)};var j=function(y,x){var A=0,z=y.length,B=new Array(z);q(y,function(D,C){D(function(F){if(F){return x(F)}var E=[].slice.call(arguments);E.shift();B[C]=E;A++;if(A===z){B.unshift(null);x.apply(this,B)}})})};var w=function(z,A){if(A){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(A,z)}for(var x=0,y=A.length;x<y;x++){if(A[x]===z){return x}}}return -1};var r=function(y,A){var z=[];if(s(y)!=="array"){y=[y]}if(s(A)!=="array"){A=[A]}for(var x in y){if(w(y[x],A)===-1){z.push(y[x])}}return z.length?z:false};var v=function(z,y){var x=[];q(z,function(A){if(w(A,y)!==-1){x.push(A)}});return x.length?x:null};var n=function(z){var y,x=[];for(y=0;y<z.length;y++){x[y]=z[y]}return x};var p=(function(){var x=0;return function(A){var y=new Date().getTime().toString(32),z;for(z=0;z<5;z++){y+=Math.floor(Math.random()*65535).toString(32)}return(A||"o_")+y+(x++).toString(32)}}());var k=function(x){if(!x){return x}return String.prototype.trim?String.prototype.trim.call(x):x.toString().replace(/^\s*/,"").replace(/\s*$/,"")};var l=function(x){if(typeof(x)!=="string"){return x}var z={t:1099511627776,g:1073741824,m:1048576,k:1024},y;x=/^([0-9]+)([mgk]?)$/.exec(x.toLowerCase().replace(/[^0-9mkg]/g,""));y=x[2];x=+x[1];if(z.hasOwnProperty(y)){x*=z[y]}return x};return{guid:p,typeOf:s,extend:o,each:q,isEmptyObj:u,inSeries:m,inParallel:j,inArray:w,arrayDiff:r,arrayIntersect:v,toArray:n,trim:k,parseSizeStr:l}});h("moxie/core/I18n",["moxie/core/utils/Basic"],function(k){var j={};return{addI18n:function(l){return k.extend(j,l)},translate:function(l){return j[l]||l},_:function(l){return this.translate(l)},sprintf:function(m){var l=[].slice.call(arguments,1);return m.replace(/%[a-z]/g,function(){var n=l.shift();return k.typeOf(n)!=="undefined"?n:""})}}});h("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(m,l){var j="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe";var k={mimes:{},extensions:{},addMimeType:function(n){var o=n.split(/,/),p,r,q;for(p=0;p<o.length;p+=2){q=o[p+1].split(/ /);for(r=0;r<q.length;r++){this.mimes[q[r]]=o[p]}this.extensions[o[p]]=q}},extList2mimes:function(u,v){var o=this,s,p,r,q,n=[];for(p=0;p<u.length;p++){s=u[p].extensions.split(/\s*,\s*/);for(r=0;r<s.length;r++){if(s[r]==="*"){return[]}q=o.mimes[s[r]];if(!q){if(v&&/^\w+$/.test(s[r])){n.push("."+s[r])}else{return[]}}else{if(m.inArray(q,n)===-1){n.push(q)}}}}return n},mimes2exts:function(n){var o=this,p=[];m.each(n,function(r){if(r==="*"){p=[];return false}var q=r.match(/^(\w+)\/(\*|\w+)$/);if(q){if(q[2]==="*"){m.each(o.extensions,function(s,u){if((new RegExp("^"+q[1]+"/")).test(u)){[].push.apply(p,o.extensions[u])}})}else{if(o.extensions[r]){[].push.apply(p,o.extensions[r])}}}});return p},mimes2extList:function(n){var p=[],o=[];if(m.typeOf(n)==="string"){n=m.trim(n).split(/\s*,\s*/)}o=this.mimes2exts(n);p.push({title:l.translate("Files"),extensions:o.length?o.join(","):"*"});p.mimes=n;return p},getFileExtension:function(o){var n=o&&o.match(/\.([^.]+)$/);if(n){return n[1].toLowerCase()}return""},getFileMime:function(n){return this.mimes[this.getFileExtension(n)]||""}};k.addMimeType(j);return k});h("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(n){var l=(function(s){var J="",I="?",D="function",v="undefined",q="object",r="major",E="model",u="name",A="type",y="vendor",G="version",o="architecture",w="console",C="mobile",H="tablet";var p={has:function(L,K){return K.toLowerCase().indexOf(L.toLowerCase())!==-1},lowerize:function(K){return K.toLowerCase()}};var F={rgx:function(){for(var U,O=0,N,M,L,K,P,Q,R=arguments;O<R.length;O+=2){var T=R[O],S=R[O+1];if(typeof(U)===v){U={};for(L in S){K=S[L];if(typeof(K)===q){U[K[0]]=s}else{U[K]=s}}}for(N=M=0;N<T.length;N++){P=T[N].exec(this.getUA());if(!!P){for(L=0;L<S.length;L++){Q=P[++M];K=S[L];if(typeof(K)===q&&K.length>0){if(K.length==2){if(typeof(K[1])==D){U[K[0]]=K[1].call(this,Q)}else{U[K[0]]=K[1]}}else{if(K.length==3){if(typeof(K[1])===D&&!(K[1].exec&&K[1].test)){U[K[0]]=Q?K[1].call(this,Q,K[2]):s}else{U[K[0]]=Q?Q.replace(K[1],K[2]):s}}else{if(K.length==4){U[K[0]]=Q?K[3].call(this,Q.replace(K[1],K[2])):s}}}}else{U[K]=Q?Q:s}}break}}if(!!P){break}}return U},str:function(N,M){for(var L in M){if(typeof(M[L])===q&&M[L].length>0){for(var K=0;K<M[L].length;K++){if(p.has(M[L][K],N)){return(L===I)?s:L}}}else{if(p.has(M[L],N)){return(L===I)?s:L}}}return N}};var B={browser:{oldsafari:{major:{"1":["/8","/1","/3"],"2":"/4","?":"/"},version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0","2000":"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0","7":"NT 6.1","8":"NT 6.2","8.1":"NT 6.3",RT:"ARM"}}}};var z={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[u,G,r],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[u,"Opera"],G,r],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[u,G,r],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[u,"IE"],G,r],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[u,"Yandex"],G,r],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[u,/_/g," "],G,r],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[u,G,r],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[u,"Dolphin"],G,r],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[u,"Chrome"],G,r],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[u,"Android Browser"],G,r],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[G,r,[u,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[G,r,u],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[u,[r,F.str,B.browser.oldsafari.major],[G,F.str,B.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[u,G,r],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[u,"Netscape"],G,r],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[u,G,r]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,G],[/rv\:([\w\.]+).*(gecko)/i],[G,u]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[G,F.str,B.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[G,F.str,B.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],G],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[u,G],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],G],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],G],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,G],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],G],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],G],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,G],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[G,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[u,[G,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[u,G]]};var x=function(K){var L=K||((window&&window.navigator&&window.navigator.userAgent)?window.navigator.userAgent:J);this.getBrowser=function(){return F.rgx.apply(this,z.browser)};this.getEngine=function(){return F.rgx.apply(this,z.engine)};this.getOS=function(){return F.rgx.apply(this,z.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}};this.getUA=function(){return L};this.setUA=function(M){L=M;return this};this.setUA(L)};return new x().getResult()})();function k(y,v,p){var u=0,w=0,o=0,q={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},r=function(x){x=(""+x).replace(/[_\-+]/g,".");x=x.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return(!x.length?[-8]:x.split("."))},s=function(x){return !x?0:(isNaN(x)?q[x]||-7:parseInt(x,10))};y=r(y);v=r(v);w=Math.max(y.length,v.length);for(u=0;u<w;u++){if(y[u]==v[u]){continue}y[u]=s(y[u]);v[u]=s(v[u]);if(y[u]<v[u]){o=-1;break}else{if(y[u]>v[u]){o=1;break}}}if(!p){return o}switch(p){case">":case"gt":return(o>0);case">=":case"ge":return(o>=0);case"<=":case"le":return(o<=0);case"==":case"=":case"eq":return(o===0);case"<>":case"!=":case"ne":return(o!==0);case"":case"<":case"lt":return(o<0);default:return null}}var m=(function(){var o={define_property:(function(){return false}()),create_canvas:(function(){var p=document.createElement("canvas");return !!(p.getContext&&p.getContext("2d"))}()),return_response_type:function(p){try{if(n.inArray(p,["","text","document"])!==-1){return true}else{if(window.XMLHttpRequest){var r=new XMLHttpRequest();r.open("get","/");if("responseType" in r){r.responseType=p;if(r.responseType!==p){return false}return true}}}}catch(q){}return false},use_data_uri:(function(){var p=new Image();p.onload=function(){o.use_data_uri=(p.width===1&&p.height===1)};setTimeout(function(){p.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1);return false}()),use_data_uri_over32kb:function(){return o.use_data_uri&&(j.browser!=="IE"||j.version>=9)},use_data_uri_of:function(p){return(o.use_data_uri&&p<33000||o.use_data_uri_over32kb())},use_fileinput:function(){var p=document.createElement("input");p.setAttribute("type","file");return !p.disabled}};return function(q){var p=[].slice.call(arguments);p.shift();return n.typeOf(o[q])==="function"?o[q].apply(this,p):!!o[q]}}());var j={can:m,browser:l.browser.name,version:parseFloat(l.browser.major),os:l.os.name,osVersion:l.os.version,verComp:k,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};j.OS=j.os;return j});h("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(k){var l=function(r){if(typeof r!=="string"){return r}return document.getElementById(r)};var m=function(u,s){if(!u.className){return false}var r=new RegExp("(^|\\s+)"+s+"(\\s+|$)");return r.test(u.className)};var n=function(s,r){if(!m(s,r)){s.className=!s.className?r:s.className.replace(/\s+$/,"")+" "+r}};var q=function(u,s){if(u.className){var r=new RegExp("(^|\\s+)"+s+"(\\s+|$)");u.className=u.className.replace(r,function(w,v,x){return v===" "&&x===" "?" ":""})}};var j=function(s,r){if(s.currentStyle){return s.currentStyle[r]}else{if(window.getComputedStyle){return window.getComputedStyle(s,null)[r]}}};var p=function(s,z){var A=0,w=0,C,B=document,u,v;s=s;z=z||B.body;function r(G){var E,F,D=0,H=0;if(G){F=G.getBoundingClientRect();E=B.compatMode==="CSS1Compat"?B.documentElement:B.body;D=F.left+E.scrollLeft;H=F.top+E.scrollTop}return{x:D,y:H}}if(s&&s.getBoundingClientRect&&k.browser==="IE"&&(!B.documentMode||B.documentMode<8)){u=r(s);v=r(z);return{x:u.x-v.x,y:u.y-v.y}}C=s;while(C&&C!=z&&C.nodeType){A+=C.offsetLeft||0;w+=C.offsetTop||0;C=C.offsetParent}C=s.parentNode;while(C&&C!=z&&C.nodeType){A-=C.scrollLeft||0;w-=C.scrollTop||0;C=C.parentNode}return{x:A,y:w}};var o=function(r){return{w:r.offsetWidth||r.clientWidth,h:r.offsetHeight||r.clientHeight}};return{get:l,hasClass:m,addClass:n,removeClass:q,getStyle:j,getPos:p,getSize:o}});h("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(k){function j(n,m){var l;for(l in n){if(n[l]===m){return l}}return null}return{RuntimeError:(function(){var l={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};function m(n){this.code=n;this.name=j(l,n);this.message=this.name+": RuntimeError "+this.code}k.extend(m,l);m.prototype=Error.prototype;return m}()),OperationNotAllowedException:(function(){function l(m){this.code=m;this.name="OperationNotAllowedException"}k.extend(l,{NOT_ALLOWED_ERR:1});l.prototype=Error.prototype;return l}()),ImageError:(function(){var l={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};function m(n){this.code=n;this.name=j(l,n);this.message=this.name+": ImageError "+this.code}k.extend(m,l);m.prototype=Error.prototype;return m}()),FileException:(function(){var l={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};function m(n){this.code=n;this.name=j(l,n);this.message=this.name+": FileException "+this.code}k.extend(m,l);m.prototype=Error.prototype;return m}()),DOMException:(function(){var l={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function m(n){this.code=n;this.name=j(l,n);this.message=this.name+": DOMException "+this.code}k.extend(m,l);m.prototype=Error.prototype;return m}()),EventException:(function(){function l(m){this.code=m;this.name="EventException"}k.extend(l,{UNSPECIFIED_EVENT_TYPE_ERR:0});l.prototype=Error.prototype;return l}())}});h("moxie/core/EventTarget",["moxie/core/Exceptions","moxie/core/utils/Basic"],function(j,k){function l(){var m={};k.extend(this,{uid:null,init:function(){if(!this.uid){this.uid=k.guid("uid_")}},addEventListener:function(r,q,o,p){var n=this,s;r=k.trim(r);if(/\s/.test(r)){k.each(r.split(/\s+/),function(u){n.addEventListener(u,q,o,p)});return}r=r.toLowerCase();o=parseInt(o,10)||0;s=m[this.uid]&&m[this.uid][r]||[];s.push({fn:q,priority:o,scope:p||this});if(!m[this.uid]){m[this.uid]={}}m[this.uid][r]=s},hasEventListener:function(n){return n?!!(m[this.uid]&&m[this.uid][n]):!!m[this.uid]},removeEventListener:function(p,o){p=p.toLowerCase();var q=m[this.uid]&&m[this.uid][p],n;if(q){if(o){for(n=q.length-1;n>=0;n--){if(q[n].fn===o){q.splice(n,1);break}}}else{q=[]}if(!q.length){delete m[this.uid][p];if(k.isEmptyObj(m[this.uid])){delete m[this.uid]}}}},removeAllEventListeners:function(){if(m[this.uid]){delete m[this.uid]}},dispatchEvent:function(s){var p,q,r,u,v={},w=true,n;if(k.typeOf(s)!=="string"){u=s;if(k.typeOf(u.type)==="string"){s=u.type;if(u.total!==n&&u.loaded!==n){v.total=u.total;v.loaded=u.loaded}v.async=u.async||false}else{throw new j.EventException(j.EventException.UNSPECIFIED_EVENT_TYPE_ERR)}}if(s.indexOf("::")!==-1){(function(x){p=x[0];s=x[1]}(s.split("::")))}else{p=this.uid}s=s.toLowerCase();q=m[p]&&m[p][s];if(q){q.sort(function(y,x){return x.priority-y.priority});r=[].slice.call(arguments);r.shift();v.type=s;r.unshift(v);var o=[];k.each(q,function(x){r[0].target=x.scope;if(v.async){o.push(function(y){setTimeout(function(){y(x.fn.apply(x.scope,r)===false)},1)})}else{o.push(function(y){y(x.fn.apply(x.scope,r)===false)})}});if(o.length){k.inSeries(o,function(x){w=!x})}}return w},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(n){var p;if(k.typeOf(n)!=="array"){n=[n]}for(var o=0;o<n.length;o++){p="on"+n[o];if(k.typeOf(this[p])==="function"){this.addEventListener(n[o],this[p])}else{if(k.typeOf(this[p])==="undefined"){this[p]=null}}}}})}l.instance=new l();return l});h("moxie/core/utils/Encode",[],function(){var l=function(n){return unescape(encodeURIComponent(n))};var m=function(n){return decodeURIComponent(escape(n))};var k=function(v,A){if(typeof(window.atob)==="function"){return A?m(window.atob(v)):window.atob(v)}var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var p,o,n,z,y,x,w,B,u=0,C=0,r="",s=[];if(!v){return v}v+="";do{z=q.indexOf(v.charAt(u++));y=q.indexOf(v.charAt(u++));x=q.indexOf(v.charAt(u++));w=q.indexOf(v.charAt(u++));B=z<<18|y<<12|x<<6|w;p=B>>16&255;o=B>>8&255;n=B&255;if(x==64){s[C++]=String.fromCharCode(p)}else{if(w==64){s[C++]=String.fromCharCode(p,o)}else{s[C++]=String.fromCharCode(p,o,n)}}}while(u<v.length);r=s.join("");return A?m(r):r};var j=function(x,C){if(C){l(x)}if(typeof(window.btoa)==="function"){return window.btoa(x)}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var q,p,o,B,A,z,y,D,w=0,E=0,v="",u=[];if(!x){return x}do{q=x.charCodeAt(w++);p=x.charCodeAt(w++);o=x.charCodeAt(w++);D=q<<16|p<<8|o;B=D>>18&63;A=D>>12&63;z=D>>6&63;y=D&63;u[E++]=s.charAt(B)+s.charAt(A)+s.charAt(z)+s.charAt(y)}while(w<x.length);v=u.join("");var n=x.length%3;return(n?v.slice(0,n-3):v)+"===".slice(n||3)};return{utf8_encode:l,utf8_decode:m,atob:k,btoa:j}});h("moxie/runtime/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(n,m,o){var j={},k={};function l(y,v,s,r,q){var x=this,p,w=n.guid(v+"_"),u=q||"browser";y=y||{};k[w]=this;s=n.extend({access_binary:false,access_image_binary:false,display_media:false,do_cors:false,drag_and_drop:false,filter_by_extension:true,resize_image:false,report_upload_progress:false,return_response_headers:false,return_response_type:false,return_status_code:true,send_custom_headers:false,select_file:false,select_folder:false,select_multiple:true,send_binary_string:false,send_browser_cookies:true,send_multipart:true,slice_blob:false,stream_upload:false,summon_file_dialog:false,upload_filesize:true,use_http_method:true},s);if(y.preferred_caps){u=l.getMode(r,y.preferred_caps,u)}p=(function(){var z={};return{exec:function(C,A,D,B){if(p[A]){if(!z[C]){z[C]={context:this,instance:new p[A]()}}if(z[C].instance[D]){return z[C].instance[D].apply(this,B)}}},removeInstance:function(A){delete z[A]},removeAllInstances:function(){var A=this;n.each(z,function(C,B){if(n.typeOf(C.instance.destroy)==="function"){C.instance.destroy.call(C.context)}A.removeInstance(B)})}}}());n.extend(this,{initialized:false,uid:w,type:v,mode:l.getMode(r,(y.required_caps),u),shimid:w+"_container",clients:0,options:y,can:function(B,C){var z=arguments[2]||s;if(n.typeOf(B)==="string"&&n.typeOf(C)==="undefined"){B=l.parseCaps(B)}if(n.typeOf(B)==="object"){for(var A in B){if(!this.can(A,B[A],z)){return false}}return true}if(n.typeOf(z[B])==="function"){return z[B].call(this,C)}else{return(C===z[B])}},getShimContainer:function(){var z,A=m.get(this.shimid);if(!A){z=this.options.container?m.get(this.options.container):document.body;A=document.createElement("div");A.id=this.shimid;A.className="moxie-shim moxie-shim-"+this.type;n.extend(A.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"});z.appendChild(A);z=null}return A},getShim:function(){return p},shimExec:function(A,B){var z=[].slice.call(arguments,2);return x.getShim().exec.call(this,this.uid,A,B,z)},exec:function(A,B){var z=[].slice.call(arguments,2);if(x[A]&&x[A][B]){return x[A][B].apply(this,z)}return x.shimExec.apply(this,arguments)},destroy:function(){if(!x){return}var z=m.get(this.shimid);if(z){z.parentNode.removeChild(z)}if(p){p.removeAllInstances()}this.unbindAll();delete k[this.uid];this.uid=null;w=x=p=z=null}});if(this.mode&&y.required_caps&&!this.can(y.required_caps)){this.mode=false}}l.order="html5,flash,silverlight,html4";l.getRuntime=function(p){return k[p]?k[p]:false};l.addConstructor=function(q,p){p.prototype=o.instance;j[q]=p};l.getConstructor=function(p){return j[p]||null};l.getInfo=function(p){var q=l.getRuntime(p);if(q){return{uid:q.uid,type:q.type,mode:q.mode,can:function(){return q.can.apply(q,arguments)}}}return null};l.parseCaps=function(p){var q={};if(n.typeOf(p)!=="string"){return p||{}}n.each(p.split(","),function(r){q[r]=true});return q};l.can=function(q,s){var r,p=l.getConstructor(q),u;if(p){r=new p({required_caps:s});u=r.mode;r.destroy();return !!u}return false};l.thatCan=function(r,s){var q=(s||l.order).split(/\s*,\s*/);for(var p in q){if(l.can(q[p],r)){return q[p]}}return null};l.getMode=function(p,s,q){var r=null;if(n.typeOf(q)==="undefined"){q="browser"}if(s&&!n.isEmptyObj(p)){n.each(s,function(w,u){if(p.hasOwnProperty(u)){var v=p[u](w);if(typeof(v)==="string"){v=[v]}if(!r){r=v}else{if(!(r=n.arrayIntersect(r,v))){return(r=false)}}}});if(r){return n.inArray(q,r)!==-1?q:r[0]}else{if(r===false){return false}}}return q};l.capTrue=function(){return true};l.capFalse=function(){return false};l.capTest=function(p){return function(){return !!p}};return l});h("moxie/runtime/RuntimeClient",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(j,m,l){return function k(){var n;m.extend(this,{connectRuntime:function(r){var p=this,q;function o(s){var v,u;if(!s.length){p.trigger("RuntimeError",new j.RuntimeError(j.RuntimeError.NOT_INIT_ERR));n=null;return}v=s.shift();u=l.getConstructor(v);if(!u){o(s);return}n=new u(r);n.bind("Init",function(){n.initialized=true;setTimeout(function(){n.clients++;p.trigger("RuntimeInit",n)},1)});n.bind("Error",function(){n.destroy();o(s)});if(!n.mode){n.trigger("Error");return}n.init()}if(m.typeOf(r)==="string"){q=r}else{if(m.typeOf(r.ruid)==="string"){q=r.ruid}}if(q){n=l.getRuntime(q);if(n){n.clients++;return n}else{throw new j.RuntimeError(j.RuntimeError.NOT_INIT_ERR)}}o((r.runtime_order||l.order).split(/\s*,\s*/))},getRuntime:function(){if(n&&n.uid){return n}n=null;return null},disconnectRuntime:function(){if(n&&--n.clients<=0){n.destroy();n=null}}})}});h("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(m,k,l){var j={};function n(q,p){function o(w,r,u){var s,v=j[this.uid];if(m.typeOf(v)!=="string"||!v.length){return null}s=new n(null,{type:u,size:r-w});s.detach(v.substr(w,s.size));return s}l.call(this);if(q){this.connectRuntime(q)}if(!p){p={}}else{if(m.typeOf(p)==="string"){p={data:p}}}m.extend(this,{uid:p.uid||m.guid("uid_"),ruid:q,size:p.size||0,type:p.type||"",slice:function(u,r,s){if(this.isDetached()){return o.apply(this,arguments)}return this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),u,r,s)},getSource:function(){if(!j[this.uid]){return null}return j[this.uid]},detach:function(s){if(this.ruid){this.getRuntime().exec.call(this,"Blob","destroy");this.disconnectRuntime();this.ruid=null}s=s||"";var r=s.match(/^data:([^;]*);base64,/);if(r){this.type=r[1];s=k.atob(s.substring(s.indexOf("base64,")+7))}this.size=s.length;j[this.uid]=s},isDetached:function(){return !this.ruid&&m.typeOf(j[this.uid])==="string"},destroy:function(){this.detach();delete j[this.uid]}});if(p.data){this.detach(p.data)}else{j[this.uid]=p}}return n});h("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(l,k,m){function j(o,p){var n,q;if(!p){p={}}if(p.type&&p.type!==""){q=p.type}else{q=k.getFileMime(p.name)}if(p.name){n=p.name.replace(/\\/g,"/");n=n.substr(n.lastIndexOf("/")+1)}else{var r=q.split("/")[0];n=l.guid((r!==""?r:"file")+"_");if(k.extensions[q]){n+="."+k.extensions[q][0]}}m.apply(this,arguments);l.extend(this,{type:q||"",name:n||l.guid("file_"),lastModifiedDate:p.lastModifiedDate||(new Date()).toLocaleString()})}j.prototype=m.prototype;return j});h("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/file/File","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(k,n,m,r,u,l,p,j,q){var s=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];function o(y){var w=this,v,x,z;if(k.inArray(k.typeOf(y),["string","node"])!==-1){y={browse_button:y}}x=m.get(y.browse_button);if(!x){throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}z={accept:[{title:l.translate("All Files"),extensions:"*"}],name:"file",multiple:false,required_caps:false,container:x.parentNode||document.body};y=k.extend({},z,y);if(typeof(y.required_caps)==="string"){y.required_caps=j.parseCaps(y.required_caps)}if(typeof(y.accept)==="string"){y.accept=n.mimes2extList(y.accept)}v=m.get(y.container);if(!v){v=document.body}if(m.getStyle(v,"position")==="static"){v.style.position="relative"}v=x=null;q.call(w);k.extend(w,{uid:k.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){w.convertEventPropsToHandlers(s);w.bind("RuntimeInit",function(B,A){w.ruid=A.uid;w.shimid=A.shimid;w.bind("Ready",function(){w.trigger("Refresh")},999);w.bind("Change",function(){var C=A.exec.call(w,"FileInput","getFiles");w.files=[];k.each(C,function(D){if(D.size===0){return true}w.files.push(new p(w.ruid,D))})},999);w.bind("Refresh",function(){var F,E,D,C;D=m.get(y.browse_button);C=m.get(A.shimid);if(D){F=m.getPos(D,m.get(y.container));E=m.getSize(D);if(C){k.extend(C.style,{top:F.y+"px",left:F.x+"px",width:E.w+"px",height:E.h+"px"})}}C=D=null});A.exec.call(w,"FileInput","init",y)});w.connectRuntime(k.extend({},y,{required_caps:{select_file:true}}))},disable:function(B){var A=this.getRuntime();if(A){A.exec.call(this,"FileInput","disable",k.typeOf(B)==="undefined"?true:B)}},refresh:function(){w.trigger("Refresh")},destroy:function(){var A=this.getRuntime();if(A){A.exec.call(this,"FileInput","destroy");this.disconnectRuntime()}if(k.typeOf(this.files)==="array"){k.each(this.files,function(B){B.destroy()})}this.files=null}})}o.prototype=u.instance;return o});h("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(l,m,q,j,o,p,s,n){var r=["ready","dragenter","dragleave","drop","error"];function k(v){var u=this,w;if(typeof(v)==="string"){v={drop_zone:v}}w={accept:[{title:l.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:true}};v=typeof(v)==="object"?j.extend({},w,v):w;v.container=m.get(v.drop_zone)||document.body;if(m.getStyle(v.container,"position")==="static"){v.container.style.position="relative"}if(typeof(v.accept)==="string"){v.accept=n.mimes2extList(v.accept)}p.call(u);j.extend(u,{uid:j.guid("uid_"),ruid:null,files:null,init:function(){u.convertEventPropsToHandlers(r);u.bind("RuntimeInit",function(y,x){u.ruid=x.uid;u.bind("Drop",function(){var z=x.exec.call(u,"FileDrop","getFiles");u.files=[];j.each(z,function(A){u.files.push(new o(u.ruid,A))})},999);x.exec.call(u,"FileDrop","init",v);u.dispatchEvent("ready")});u.connectRuntime(v)},destroy:function(){var x=this.getRuntime();if(x){x.exec.call(this,"FileDrop","destroy");this.disconnectRuntime()}this.files=null}})}k.prototype=s.instance;return k});h("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(l,k,m){function j(){this.uid=l.guid("uid_");k.call(this);this.destroy=function(){this.disconnectRuntime();this.unbindAll()}}j.prototype=m.instance;return j});h("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/runtime/RuntimeTarget"],function(j,n,p,r,m,o,l){var q=["loadstart","progress","load","abort","error","loadend"];function k(){var s=this,v;j.extend(this,{uid:j.guid("uid_"),readyState:k.EMPTY,result:null,error:null,readAsBinaryString:function(w){u.call(this,"readAsBinaryString",w)},readAsDataURL:function(w){u.call(this,"readAsDataURL",w)},readAsText:function(w){u.call(this,"readAsText",w)},abort:function(){this.result=null;if(j.inArray(this.readyState,[k.EMPTY,k.DONE])!==-1){return}else{if(this.readyState===k.LOADING){this.readyState=k.DONE}}if(v){v.getRuntime().exec.call(this,"FileReader","abort")}this.trigger("abort");this.trigger("loadend")},destroy:function(){this.abort();if(v){v.getRuntime().exec.call(this,"FileReader","destroy");v.disconnectRuntime()}s=v=null}});function u(B,x){v=new l();function z(C){s.readyState=k.DONE;s.error=C;s.trigger("error");y()}function y(){v.destroy();v=null;s.trigger("loadend")}function w(C){v.bind("Error",function(E,D){z(D)});v.bind("Progress",function(D){s.result=C.exec.call(v,"FileReader","getResult");s.trigger(D)});v.bind("Load",function(D){s.readyState=k.DONE;s.result=C.exec.call(v,"FileReader","getResult");s.trigger(D);y()});C.exec.call(v,"FileReader","read",B,x)}this.convertEventPropsToHandlers(q);if(this.readyState===k.LOADING){return z(new p.DOMException(p.DOMException.INVALID_STATE_ERR))}this.readyState=k.LOADING;this.trigger("loadstart");if(x instanceof m){if(x.isDetached()){var A=x.getSource();switch(B){case"readAsText":case"readAsBinaryString":this.result=A;break;case"readAsDataURL":this.result="data:"+x.type+";base64,"+n.btoa(A);break}this.readyState=k.DONE;this.trigger("load");y()}else{w(v.connectRuntime(x.ruid))}}else{z(new p.DOMException(p.DOMException.NOT_FOUND_ERR))}}}k.EMPTY=0;k.LOADING=1;k.DONE=2;k.prototype=r.instance;return k});h("moxie/core/utils/Url",[],function(){var j=function(n,v){var u=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],q=u.length,r={http:80,https:443},o={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,p=s.exec(n||"");while(q--){if(p[q]){o[u[q]]=p[q]}}if(!o.scheme){if(!v||typeof(v)==="string"){v=j(v||document.location.href)}o.scheme=v.scheme;o.host=v.host;o.port=v.port;var w="";if(/^[^\/]/.test(o.path)){w=v.path;if(!/(\/|\/[^\.]+)$/.test(w)){w=w.replace(/\/[^\/]+$/,"/")}else{w+="/"}}o.path=w+(o.path||"")}if(!o.port){o.port=r[o.scheme]||80}o.port=parseInt(o.port,10);if(!o.path){o.path="/"}delete o.source;return o};var l=function(n){var o={http:80,https:443},m=j(n);return m.scheme+"://"+m.host+(m.port!==o[m.scheme]?":"+m.port:"")+m.path+(m.query?m.query:"")};var k=function(n){function m(o){return[o.scheme,o.host,o.port].join("/")}if(typeof n==="string"){n=j(n)}return m(j())===m(n)};return{parseUrl:j,resolveUrl:l,hasSameOrigin:k}});h("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(l,k,j){return function(){k.call(this);l.extend(this,{uid:l.guid("uid_"),readAsBinaryString:function(n){return m.call(this,"readAsBinaryString",n)},readAsDataURL:function(n){return m.call(this,"readAsDataURL",n)},readAsText:function(n){return m.call(this,"readAsText",n)}});function m(u,p){if(p.isDetached()){var s=p.getSource();switch(u){case"readAsBinaryString":return s;case"readAsDataURL":return"data:"+p.type+";base64,"+j.btoa(s);case"readAsText":var o="";for(var q=0,r=s.length;q<r;q++){o+=String.fromCharCode(s[q])}return o}}else{var n=this.connectRuntime(p.ruid).exec.call(this,"FileReaderSync","read",u,p);this.disconnectRuntime();return n}}}});h("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(j,k,m){function l(){var n,o=[];k.extend(this,{append:function(q,r){var p=this,s=k.typeOf(r);if(r instanceof m){n={name:q,value:r}}else{if("array"===s){q+="[]";k.each(r,function(u){p.append(q,u)})}else{if("object"===s){k.each(r,function(v,u){p.append(q+"["+u+"]",v)})}else{if("null"===s||"undefined"===s||"number"===s&&isNaN(r)){p.append(q,"false")}else{o.push({name:q,value:r.toString()})}}}}},hasBlob:function(){return !!this.getBlob()},getBlob:function(){return n&&n.value||null},getBlobName:function(){return n&&n.name||null},each:function(p){k.each(o,function(q){p(q.value,q.name)});if(n){p(n.value,n.name)}},destroy:function(){n=null;o=[]}})}return l});h("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(r,s,q,A,w,p,u,o,z,B,j,v){var k={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};function n(){this.uid=r.guid("uid_")}n.prototype=q.instance;var m=["loadstart","progress","abort","error","load","timeout","loadend"];var l=1,C=2;function y(){var T=this,G={timeout:0,readyState:y.UNSENT,withCredentials:false,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},Z=true,L,R,S={},U,I,K=null,M=null,ac=false,D=false,x=false,N=false,F=false,J=false,P,Y,X=null,aa=null,V={},Q,W="",E;r.extend(this,G,{uid:r.guid("uid_"),upload:new n(),open:function(ai,ag,ah,ae,af){var ad;if(!ai||!ag){throw new s.DOMException(s.DOMException.SYNTAX_ERR)}if(/[\u0100-\uffff]/.test(ai)||A.utf8_encode(ai)!==ai){throw new s.DOMException(s.DOMException.SYNTAX_ERR)}if(!!~r.inArray(ai.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])){R=ai.toUpperCase()}if(!!~r.inArray(R,["CONNECT","TRACE","TRACK"])){throw new s.DOMException(s.DOMException.SECURITY_ERR)}ag=A.utf8_encode(ag);ad=w.parseUrl(ag);J=w.hasSameOrigin(ad);L=w.resolveUrl(ag);if((ae||af)&&!J){throw new s.DOMException(s.DOMException.INVALID_ACCESS_ERR)}U=ae||ad.user;I=af||ad.pass;Z=ah||true;if(Z===false&&(ab("timeout")||ab("withCredentials")||ab("responseType")!=="")){throw new s.DOMException(s.DOMException.INVALID_ACCESS_ERR)}ac=!Z;D=false;S={};O.call(this);ab("readyState",y.OPENED);this.convertEventPropsToHandlers(["readystatechange"]);this.dispatchEvent("readystatechange")},setRequestHeader:function(af,ae){var ad=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(ab("readyState")!==y.OPENED||D){throw new s.DOMException(s.DOMException.INVALID_STATE_ERR)}if(/[\u0100-\uffff]/.test(af)||A.utf8_encode(af)!==af){throw new s.DOMException(s.DOMException.SYNTAX_ERR)}af=r.trim(af).toLowerCase();if(!!~r.inArray(af,ad)||/^(proxy\-|sec\-)/.test(af)){return false}if(!S[af]){S[af]=ae}else{S[af]+=", "+ae}return true},getAllResponseHeaders:function(){return W||""},getResponseHeader:function(ad){ad=ad.toLowerCase();if(F||!!~r.inArray(ad,["set-cookie","set-cookie2"])){return null}if(W&&W!==""){if(!E){E={};r.each(W.split(/\r\n/),function(ae){var af=ae.split(/:\s+/);if(af.length===2){af[0]=r.trim(af[0]);E[af[0].toLowerCase()]={header:af[0],value:r.trim(af[1])}}})}if(E.hasOwnProperty(ad)){return E[ad].header+": "+E[ad].value}}return null},overrideMimeType:function(ae){var ad,af;if(!!~r.inArray(ab("readyState"),[y.LOADING,y.DONE])){throw new s.DOMException(s.DOMException.INVALID_STATE_ERR)}ae=r.trim(ae.toLowerCase());if(/;/.test(ae)&&(ad=ae.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))){ae=ad[1];if(ad[2]){af=ad[2]}}if(!v.mimes[ae]){throw new s.DOMException(s.DOMException.SYNTAX_ERR)}X=ae;aa=af},send:function(af,ae){if(r.typeOf(ae)==="string"){V={ruid:ae}}else{if(!ae){V={}}else{V=ae}}this.convertEventPropsToHandlers(m);this.upload.convertEventPropsToHandlers(m);if(this.readyState!==y.OPENED||D){throw new s.DOMException(s.DOMException.INVALID_STATE_ERR)}if(af instanceof o){V.ruid=af.ruid;M=af.type||"application/octet-stream"}else{if(af instanceof B){if(af.hasBlob()){var ad=af.getBlob();V.ruid=ad.ruid;M=ad.type||"application/octet-stream"}}else{if(typeof af==="string"){K="UTF-8";M="text/plain;charset=UTF-8";af=A.utf8_encode(af)}}}if(!this.withCredentials){this.withCredentials=(V.required_caps&&V.required_caps.send_browser_cookies)&&!J}x=(!ac&&this.upload.hasEventListener());F=false;N=!af;if(!ac){D=true}H.call(this,af)},abort:function(){F=true;ac=false;if(!~r.inArray(ab("readyState"),[y.UNSENT,y.OPENED,y.DONE])){ab("readyState",y.DONE);D=false;if(Q){Q.getRuntime().exec.call(Q,"XMLHttpRequest","abort",N)}else{throw new s.DOMException(s.DOMException.INVALID_STATE_ERR)}N=true}else{ab("readyState",y.UNSENT)}},destroy:function(){if(Q){if(r.typeOf(Q.destroy)==="function"){Q.destroy()}Q=null}this.unbindAll();if(this.upload){this.upload.unbindAll();this.upload=null}}});function ab(ae,ad){if(!G.hasOwnProperty(ae)){return}if(arguments.length===1){return j.can("define_property")?G[ae]:T[ae]}else{if(j.can("define_property")){G[ae]=ad}else{T[ae]=ad}}}function H(ag){var ae=this;P=new Date().getTime();Q=new u();function af(){if(Q){Q.destroy();Q=null}ae.dispatchEvent("loadend");ae=null}function ad(ah){Q.bind("LoadStart",function(ai){ab("readyState",y.LOADING);ae.dispatchEvent("readystatechange");ae.dispatchEvent(ai);if(x){ae.upload.dispatchEvent(ai)}});Q.bind("Progress",function(ai){if(ab("readyState")!==y.LOADING){ab("readyState",y.LOADING);ae.dispatchEvent("readystatechange")}ae.dispatchEvent(ai)});Q.bind("UploadProgress",function(ai){if(x){ae.upload.dispatchEvent({type:"progress",lengthComputable:false,total:ai.total,loaded:ai.loaded})}});Q.bind("Load",function(ai){ab("readyState",y.DONE);ab("status",Number(ah.exec.call(Q,"XMLHttpRequest","getStatus")||0));ab("statusText",k[ab("status")]||"");ab("response",ah.exec.call(Q,"XMLHttpRequest","getResponse",ab("responseType")));if(!!~r.inArray(ab("responseType"),["text",""])){ab("responseText",ab("response"))}else{if(ab("responseType")==="document"){ab("responseXML",ab("response"))}}W=ah.exec.call(Q,"XMLHttpRequest","getAllResponseHeaders");ae.dispatchEvent("readystatechange");if(ab("status")>0){if(x){ae.upload.dispatchEvent(ai)}ae.dispatchEvent(ai)}else{F=true;ae.dispatchEvent("error")}af()});Q.bind("Abort",function(ai){ae.dispatchEvent(ai);af()});Q.bind("Error",function(ai){F=true;ab("readyState",y.DONE);ae.dispatchEvent("readystatechange");N=true;ae.dispatchEvent(ai);af()});ah.exec.call(Q,"XMLHttpRequest","send",{url:L,method:R,async:Z,user:U,password:I,headers:S,mimeType:M,encoding:K,responseType:ae.responseType,withCredentials:ae.withCredentials,options:V},ag)}if(typeof(V.required_caps)==="string"){V.required_caps=p.parseCaps(V.required_caps)}V.required_caps=r.extend({},V.required_caps,{return_response_type:ae.responseType});if(ag instanceof B){V.required_caps.send_multipart=true}if(!J){V.required_caps.do_cors=true}if(V.ruid){ad(Q.connectRuntime(V))}else{Q.bind("RuntimeInit",function(ai,ah){ad(ah)});Q.bind("RuntimeError",function(ai,ah){ae.dispatchEvent("RuntimeError",ah)});Q.connectRuntime(V)}}function O(){ab("responseText","");ab("responseXML",null);ab("response",null);ab("status",0);ab("statusText","");P=Y=null}}y.UNSENT=0;y.OPENED=1;y.HEADERS_RECEIVED=2;y.LOADING=3;y.DONE=4;y.prototype=q.instance;return y});h("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(m,j,k,n){function l(){var s,q,o,u,x,w;k.call(this);m.extend(this,{uid:m.guid("uid_"),state:l.IDLE,result:null,transport:function(C,B,A){var z=this;A=m.extend({chunk_size:204798},A);if((s=A.chunk_size%3)){A.chunk_size+=3-s}w=A.chunk_size;v.call(this);o=C;u=C.length;if(m.typeOf(A)==="string"||A.ruid){r.call(z,B,this.connectRuntime(A))}else{var y=function(E,D){z.unbind("RuntimeInit",y);r.call(z,B,D)};this.bind("RuntimeInit",y);this.connectRuntime(A)}},abort:function(){var y=this;y.state=l.IDLE;if(q){q.exec.call(y,"Transporter","clear");y.trigger("TransportingAborted")}v.call(y)},destroy:function(){this.unbindAll();q=null;this.disconnectRuntime();v.call(this)}});function v(){u=x=0;o=this.result=null}function r(z,A){var y=this;q=A;y.bind("TransportingProgress",function(B){x=B.loaded;if(x<u&&m.inArray(y.state,[l.IDLE,l.DONE])===-1){p.call(y)}},999);y.bind("TransportingComplete",function(){x=u;y.state=l.DONE;o=null;y.result=q.exec.call(y,"Transporter","getAsBlob",z||"")},999);y.state=l.BUSY;y.trigger("TransportingStarted");p.call(y)}function p(){var y=this,z,A=u-x;if(w>A){w=A}z=j.btoa(o.substr(x,w));q.exec.call(y,"Transporter","receive",z,u)}}l.IDLE=0;l.BUSY=1;l.DONE=2;l.prototype=n.instance;return l});h("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(l,o,v,s,w,k,u,n,r,z,m,q,p){var y=["progress","load","error","resize","embedded"];function j(){u.call(this);l.extend(this,{uid:l.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){A.call(this)},999);this.convertEventPropsToHandlers(y);B.apply(this,arguments)},downsize:function(F){var G={width:this.width,height:this.height,crop:false,preserveHeaders:true};if(typeof(F)==="object"){F=l.extend(G,F)}else{F=l.extend(G,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]})}try{if(!this.size){throw new v.DOMException(v.DOMException.INVALID_STATE_ERR)}if(this.width>j.MAX_RESIZE_WIDTH||this.height>j.MAX_RESIZE_HEIGHT){throw new v.ImageError(v.ImageError.MAX_RESOLUTION_ERR)}this.getRuntime().exec.call(this,"Image","downsize",F.width,F.height,F.crop,F.preserveHeaders)}catch(E){this.trigger("error",E.code)}},crop:function(G,E,F){this.downsize(G,E,true,F)},getAsCanvas:function(){if(!r.can("create_canvas")){throw new v.RuntimeError(v.RuntimeError.NOT_SUPPORTED_ERR)}var E=this.connectRuntime(this.ruid);return E.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(E,F){if(!this.size){throw new v.DOMException(v.DOMException.INVALID_STATE_ERR)}if(!E){E="image/jpeg"}if(E==="image/jpeg"&&!F){F=90}return this.getRuntime().exec.call(this,"Image","getAsBlob",E,F)},getAsDataURL:function(E,F){if(!this.size){throw new v.DOMException(v.DOMException.INVALID_STATE_ERR)}return this.getRuntime().exec.call(this,"Image","getAsDataURL",E,F)},getAsBinaryString:function(E,G){var F=this.getAsDataURL(E,G);return p.atob(F.substring(F.indexOf("base64,")+7))},embed:function(H){var P=this,M,L,N,J,Q=arguments[1]||{},G=this.width,O=this.height,I;function F(){if(r.can("create_canvas")){var R=M.getAsCanvas();if(R){H.appendChild(R);R=null;M.destroy();P.trigger("embedded");return}}var T=M.getAsDataURL(L,N);if(!T){throw new v.ImageError(v.ImageError.WRONG_FORMAT)}if(r.can("use_data_uri_of",T.length)){H.innerHTML='<img src="'+T+'" width="'+M.width+'" height="'+M.height+'" />';M.destroy();P.trigger("embedded")}else{var S=new n();S.bind("TransportingComplete",function(){I=P.connectRuntime(this.result.ruid);P.bind("Embedded",function(){l.extend(I.getShimContainer().style,{top:"0px",left:"0px",width:M.width+"px",height:M.height+"px"});I=null},999);I.exec.call(P,"ImageView","display",this.result.uid,G,O);M.destroy()});S.transport(p.atob(T.substring(T.indexOf("base64,")+7)),L,l.extend({},Q,{required_caps:{display_media:true},runtime_order:"flash,silverlight",container:H}))}}try{if(!(H=o.get(H))){throw new v.DOMException(v.DOMException.INVALID_NODE_TYPE_ERR)}if(!this.size){throw new v.DOMException(v.DOMException.INVALID_STATE_ERR)}if(this.width>j.MAX_RESIZE_WIDTH||this.height>j.MAX_RESIZE_HEIGHT){throw new v.ImageError(v.ImageError.MAX_RESOLUTION_ERR)}L=Q.type||this.type||"image/jpeg";N=Q.quality||90;J=l.typeOf(Q.crop)!=="undefined"?Q.crop:false;if(Q.width){G=Q.width;O=Q.height||G}else{var E=o.getSize(H);if(E.w&&E.h){G=E.w;O=E.h}}M=new j();M.bind("Resize",function(){F.call(P)});M.bind("Load",function(){M.downsize(G,O,J,false)});M.clone(this,false);return M}catch(K){this.trigger("error",K.code)}},destroy:function(){if(this.ruid){this.getRuntime().exec.call(this,"Image","destroy");this.disconnectRuntime()}this.unbindAll()}});function A(E){if(!E){E=this.getRuntime().exec.call(this,"Image","getInfo")}this.size=E.size;this.width=E.width;this.height=E.height;this.type=E.type;this.meta=E.meta;if(this.name===""){this.name=E.name}}function B(G){var F=l.typeOf(G);try{if(G instanceof j){if(!G.size){throw new v.DOMException(v.DOMException.INVALID_STATE_ERR)}x.apply(this,arguments)}else{if(G instanceof m){if(!~l.inArray(G.type,["image/jpeg","image/png"])){throw new v.ImageError(v.ImageError.WRONG_FORMAT)}C.apply(this,arguments)}else{if(l.inArray(F,["blob","file"])!==-1){B.call(this,new q(null,G),arguments[1])}else{if(F==="string"){if(/^data:[^;]*;base64,/.test(G)){B.call(this,new m(null,{data:G}),arguments[1])}else{D.apply(this,arguments)}}else{if(F==="node"&&G.nodeName.toLowerCase()==="img"){B.call(this,G.src,arguments[1])}else{throw new v.DOMException(v.DOMException.TYPE_MISMATCH_ERR)}}}}}}catch(E){this.trigger("error",E.code)}}function x(E,F){var G=this.connectRuntime(E.ruid);this.ruid=G.uid;G.exec.call(this,"Image","loadFromImage",E,(l.typeOf(F)==="undefined"?true:F))}function C(G,H){var F=this;F.name=G.name||"";function E(I){F.ruid=I.uid;I.exec.call(F,"Image","loadFromBlob",G)}if(G.isDetached()){this.bind("RuntimeInit",function(J,I){E(I)});if(H&&typeof(H.required_caps)==="string"){H.required_caps=k.parseCaps(H.required_caps)}this.connectRuntime(l.extend({required_caps:{access_image_binary:true,resize_image:true}},H))}else{E(this.connectRuntime(G.ruid))}}function D(G,F){var E=this,H;H=new w();H.open("get",G);H.responseType="blob";H.onprogress=function(I){E.trigger(I)};H.onload=function(){C.call(E,H.response,true)};H.onerror=function(I){E.trigger(I)};H.onloadend=function(){H.destroy()};H.bind("RuntimeError",function(J,I){E.trigger("RuntimeError",I)});H.send(null,F)}}j.MAX_RESIZE_WIDTH=6500;j.MAX_RESIZE_HEIGHT=6500;j.prototype=z.instance;return j});h("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(o,j,l,k){var n="html5",m={};function p(r){var q=this,v=l.capTest,u=l.capTrue;var s=o.extend({access_binary:v(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return q.can("access_binary")&&!!m.Image},display_media:v(k.can("create_canvas")||k.can("use_data_uri_over32kb")),do_cors:v(window.XMLHttpRequest&&"withCredentials" in new XMLHttpRequest()),drag_and_drop:v(function(){var w=document.createElement("div");return(("draggable" in w)||("ondragstart" in w&&"ondrop" in w))&&(k.browser!=="IE"||k.version>9)}()),filter_by_extension:v(function(){return(k.browser==="Chrome"&&k.version>=28)||(k.browser==="IE"&&k.version>=10)}()),return_response_headers:u,return_response_type:function(w){if(w==="json"&&!!window.JSON){return true}return k.can("return_response_type",w)},return_status_code:u,report_upload_progress:v(window.XMLHttpRequest&&new XMLHttpRequest().upload),resize_image:function(){return q.can("access_binary")&&k.can("create_canvas")},select_file:function(){return k.can("use_fileinput")&&window.File},select_folder:function(){return q.can("select_file")&&k.browser==="Chrome"&&k.version>=21},select_multiple:function(){return q.can("select_file")&&!(k.browser==="Safari"&&k.os==="Windows")&&!(k.os==="iOS"&&k.verComp(k.osVersion,"7.0.4","<"))},send_binary_string:v(window.XMLHttpRequest&&(new XMLHttpRequest().sendAsBinary||(window.Uint8Array&&window.ArrayBuffer))),send_custom_headers:v(window.XMLHttpRequest),send_multipart:function(){return !!(window.XMLHttpRequest&&new XMLHttpRequest().upload&&window.FormData)||q.can("send_binary_string")},slice_blob:v(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return q.can("slice_blob")&&q.can("send_multipart")},summon_file_dialog:v(function(){return(k.browser==="Firefox"&&k.version>=4)||(k.browser==="Opera"&&k.version>=12)||(k.browser==="IE"&&k.version>=10)||!!~o.inArray(k.browser,["Chrome","Safari"])}()),upload_filesize:u},arguments[2]);l.call(this,r,(arguments[1]||n),s);o.extend(this,{init:function(){this.trigger("Init")},destroy:(function(w){return function(){w.call(q);w=q=null}}(this.destroy))});o.extend(this.getShim(),m)}l.addConstructor(n,p);return m});h("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(k,l){function j(){function m(o,r,n){var p;if(window.File.prototype.slice){try{o.slice();return o.slice(r,n)}catch(q){return o.slice(r,n-r)}}else{if((p=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)){return p.call(o,r,n)}else{return null}}}this.slice=function(){return new l(this.getRuntime().uid,m.apply(this,arguments))}}return(k.Blob=j)});h("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(p){var q={},m="moxie_"+p.guid();function l(){this.returnValue=false}function k(){this.cancelBubble=true}var n=function(w,r,x,u){var v,s;r=r.toLowerCase();if(w.addEventListener){v=x;w.addEventListener(r,v,false)}else{if(w.attachEvent){v=function(){var y=window.event;if(!y.target){y.target=y.srcElement}y.preventDefault=l;y.stopPropagation=k;x(y)};w.attachEvent("on"+r,v)}}if(!w[m]){w[m]=p.guid()}if(!q.hasOwnProperty(w[m])){q[w[m]]={}}s=q[w[m]];if(!s.hasOwnProperty(r)){s[r]=[]}s[r].push({func:v,orig:x,key:u})};var o=function(x,r,y){var v,u;r=r.toLowerCase();if(x[m]&&q[x[m]]&&q[x[m]][r]){v=q[x[m]][r]}else{return}for(var s=v.length-1;s>=0;s--){if(v[s].orig===y||v[s].key===y){if(x.removeEventListener){x.removeEventListener(r,v[s].func,false)}else{if(x.detachEvent){x.detachEvent("on"+r,v[s].func)}}v[s].orig=null;v[s].func=null;v.splice(s,1);if(y!==u){break}}}if(!v.length){delete q[x[m]][r]}if(p.isEmptyObj(q[x[m]])){delete q[x[m]];try{delete x[m]}catch(w){x[m]=u}}};var j=function(s,r){if(!s||!s[m]){return}p.each(q[s[m]],function(v,u){o(s,u,r)})};return{addEvent:n,removeEvent:o,removeAllEvents:j}});h("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(n,p,m,k,l,j){function o(){var r=[],q;var s=function(){var u=navigator.userAgent.toLowerCase();return/(iphone|ipod|ipad).* os 9_/.test(u)};if(s){$(".field-button button").on("click",function(){var u=$(this).parent(".field-button");$('input[type="file"]',u).click()})}p.extend(this,{init:function(D){var u=this,B=u.getRuntime(),A,w,x,C,z,y;q=D;r=[];x=q.accept.mimes||l.extList2mimes(q.accept,B.can("filter_by_extension"));w=B.getShimContainer();w.innerHTML='<input id="'+B.uid+'" type="file" style="font-size:999px;opacity:0;"'+(q.multiple&&B.can("select_multiple")?"multiple":"")+(q.directory&&B.can("select_folder")?"webkitdirectory directory":"")+(x?' accept="'+x.join(",")+'"':"")+" />";A=m.get(B.uid);p.extend(A.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"});C=m.get(q.browse_button);if(B.can("summon_file_dialog")){if(m.getStyle(C,"position")==="static"){C.style.position="relative"}z=parseInt(m.getStyle(C,"z-index"),10)||1;C.style.zIndex=z;w.style.zIndex=z-1;k.addEvent(C,"click",function(F){var E=m.get(B.uid);if(E&&!E.disabled){E.click()}F.preventDefault()},u.uid)}y=B.can("summon_file_dialog")?C:w;k.addEvent(y,"mouseover",function(){u.trigger("mouseenter")},u.uid);k.addEvent(y,"mouseout",function(){u.trigger("mouseleave")},u.uid);k.addEvent(y,"mousedown",function(){u.trigger("mousedown")},u.uid);k.addEvent(m.get(q.container),"mouseup",function(){u.trigger("mouseup")},u.uid);A.onchange=function v(){r=[];if(q.directory){p.each(this.files,function(F){if(F.name!=="."){r.push(F)}})}else{r=[].slice.call(this.files)}if(j.browser!=="IE"&&j.browser!=="IEMobile"){this.value=""}else{var E=this.cloneNode(true);this.parentNode.replaceChild(E,this);E.onchange=v}u.trigger("change")};u.trigger({type:"ready",async:true});w=null},getFiles:function(){return r},disable:function(w){var v=this.getRuntime(),u;if((u=m.get(v.uid))){u.disabled=!!w}},destroy:function(){var v=this.getRuntime(),w=v.getShim(),u=v.getShimContainer();k.removeAllEvents(u,this.uid);k.removeAllEvents(q&&m.get(q.container),this.uid);k.removeAllEvents(q&&m.get(q.browse_button),this.uid);if(u){u.innerHTML=""}w.removeInstance(this.uid);r=q=u=w=null}})}return(n.FileInput=o)});h("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(m,n,l,j,k){function o(){var q=[],u=[],y;n.extend(this,{init:function(B){var A=this,C;y=B;u=s(y.accept);C=y.container;j.addEvent(C,"dragover",function(D){if(!r(D)){return}D.preventDefault();D.dataTransfer.dropEffect="copy"},A.uid);j.addEvent(C,"drop",function(D){if(!r(D)){return}D.preventDefault();q=[];if(D.dataTransfer.items&&D.dataTransfer.items[0].webkitGetAsEntry){x(D.dataTransfer.items,function(){A.trigger("drop")})}else{n.each(D.dataTransfer.files,function(E){if(w(E)){q.push(E)}});A.trigger("drop")}},A.uid);j.addEvent(C,"dragenter",function(D){A.trigger("dragenter")},A.uid);j.addEvent(C,"dragleave",function(D){A.trigger("dragleave")},A.uid)},getFiles:function(){return q},destroy:function(){j.removeAllEvents(y&&l.get(y.container),this.uid);q=u=y=null}});function r(B){if(!B.dataTransfer||!B.dataTransfer.types){return false}var A=n.toArray(B.dataTransfer.types||[]);return n.inArray("Files",A)!==-1||n.inArray("public.file-url",A)!==-1||n.inArray("application/x-moz-file",A)!==-1}function s(C){var B=[];for(var A=0;A<C.length;A++){[].push.apply(B,C[A].extensions.split(/\s*,\s*/))}return n.inArray("*",B)===-1?B:[]}function w(A){if(!u.length){return true}var B=k.getFileExtension(A.name);return !B||n.inArray(B,u)!==-1}function x(C,B){var A=[];n.each(C,function(F){var E=F.webkitGetAsEntry();if(E){if(E.isFile){var D=F.getAsFile();if(w(D)){q.push(D)}}else{A.push(E)}}});if(A.length){v(A,B)}else{B()}}function v(C,B){var A=[];n.each(C,function(D){A.push(function(E){p(D,E)})});n.inSeries(A,function(){B()})}function p(B,A){if(B.isFile){B.file(function(C){if(w(C)){q.push(C)}A()},function(){A()})}else{if(B.isDirectory){z(B,A)}else{A()}}}function z(E,B){var A=[],D=E.createReader();function C(F){D.readEntries(function(G){if(G.length){[].push.apply(A,G);C(F)}else{F()}},F)}C(function(){v(A,B)})}}return(m.FileDrop=o)});h("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(k,j,m){function l(){var o,p=false;m.extend(this,{read:function(s,q){var r=this;o=new window.FileReader();o.addEventListener("progress",function(u){r.trigger(u)});o.addEventListener("load",function(u){r.trigger(u)});o.addEventListener("error",function(u){r.trigger(u,o.error)});o.addEventListener("loadend",function(){o=null});if(m.typeOf(o[s])==="function"){p=false;o[s](q.getSource())}else{if(s==="readAsBinaryString"){p=true;o.readAsDataURL(q.getSource())}}},getResult:function(){return o&&o.result?(p?n(o.result):o.result):null},abort:function(){if(o){o.abort()}},destroy:function(){o=null}});function n(q){return j.atob(q.substring(q.indexOf("base64,")+7))}}return(k.FileReader=l)});h("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(p,k,m,j,o,l,s,q,n){function r(){var w=this,A,y;k.extend(this,{send:function(I,F){var H=this,E=(n.browser==="Mozilla"&&n.version>=4&&n.version<7),B=n.browser==="Android Browser",G=false;y=I.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase();A=z();A.open(I.method,I.url,I.async,I.user,I.password);if(F instanceof l){if(F.isDetached()){G=true}F=F.getSource()}else{if(F instanceof s){if(F.hasBlob()){if(F.getBlob().isDetached()){F=x.call(H,F);G=true}else{if((E||B)&&k.typeOf(F.getBlob().getSource())==="blob"&&window.FileReader){u.call(H,I,F);return}}}if(F instanceof s){var D=new window.FormData();F.each(function(K,J){if(K instanceof l){D.append(J,K.getSource())}else{D.append(J,K)}});F=D}}}if(A.upload){if(I.withCredentials){A.withCredentials=true}A.addEventListener("load",function(J){H.trigger(J)});A.addEventListener("error",function(J){H.trigger(J)});A.addEventListener("progress",function(J){H.trigger(J)});A.upload.addEventListener("progress",function(J){H.trigger({type:"UploadProgress",loaded:J.loaded,total:J.total})})}else{A.onreadystatechange=function C(){switch(A.readyState){case 1:break;case 2:break;case 3:var L,J;try{if(j.hasSameOrigin(I.url)){L=A.getResponseHeader("Content-Length")||0}if(A.responseText){J=A.responseText.length}}catch(K){L=J=0}H.trigger({type:"progress",lengthComputable:!!L,total:parseInt(L,10),loaded:J});break;case 4:A.onreadystatechange=function(){};if(A.status===0){H.trigger("error")}else{H.trigger("load")}break}}}if(!k.isEmptyObj(I.headers)){k.each(I.headers,function(J,K){A.setRequestHeader(K,J)})}if(""!==I.responseType&&"responseType" in A){if("json"===I.responseType&&!n.can("return_response_type","json")){A.responseType="text"}else{A.responseType=I.responseType}}if(!G){A.send(F)}else{if(A.sendAsBinary){A.sendAsBinary(F)}else{(function(){var J=new Uint8Array(F.length);for(var K=0;K<F.length;K++){J[K]=(F.charCodeAt(K)&255)}A.send(J.buffer)}())}}H.trigger("loadstart")},getStatus:function(){try{if(A){return A.status}}catch(B){}return 0},getResponse:function(D){var C=this.getRuntime();try{switch(D){case"blob":var F=new o(C.uid,A.response);var G=A.getResponseHeader("Content-Disposition");if(G){var B=G.match(/filename=([\'\"'])([^\1]+)\1/);if(B){y=B[2]}}F.name=y;if(!F.type){F.type=m.getFileMime(y)}return F;case"json":if(!n.can("return_response_type","json")){return A.status===200&&!!window.JSON?JSON.parse(A.responseText):null}return A.response;case"document":return v(A);default:return A.responseText!==""?A.responseText:null}}catch(E){return null}},getAllResponseHeaders:function(){try{return A.getAllResponseHeaders()}catch(B){}return""},abort:function(){if(A){A.abort()}},destroy:function(){w=y=null}});function u(F,D){var E=this,C,B;C=D.getBlob().getSource();B=new window.FileReader();B.onload=function(){D.append(D.getBlobName(),new l(null,{type:C.type,data:B.result}));w.send.call(E,F,D)};B.readAsBinaryString(C)}function z(){if(window.XMLHttpRequest&&!(n.browser==="IE"&&n.version<8)){return new window.XMLHttpRequest()}else{return(function(){var B=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"];for(var D=0;D<B.length;D++){try{return new ActiveXObject(B[D])}catch(C){}}})()}}function v(C){var D=C.responseXML;var B=C.responseText;if(n.browser==="IE"&&B&&D&&!D.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(C.getResponseHeader("Content-Type"))){D=new window.ActiveXObject("Microsoft.XMLDOM");D.async=false;D.validateOnParse=false;D.loadXML(B)}if(D){if((n.browser==="IE"&&D.parseError!==0)||!D.documentElement||D.documentElement.tagName==="parsererror"){return null}}return D}function x(D){var G="----moxieboundary"+new Date().getTime(),E="--",F="\r\n",B="",C=this.getRuntime();if(!C.can("send_binary_string")){throw new q.RuntimeError(q.RuntimeError.NOT_SUPPORTED_ERR)}A.setRequestHeader("Content-Type","multipart/form-data; boundary="+G);D.each(function(I,H){if(I instanceof l){B+=E+G+F+'Content-Disposition: form-data; name="'+H+'"; filename="'+unescape(encodeURIComponent(I.name||"blob"))+'"'+F+"Content-Type: "+(I.type||"application/octet-stream")+F+F+I.getSource()+F}else{B+=E+G+F+'Content-Disposition: form-data; name="'+H+'"'+F+F+unescape(encodeURIComponent(I))+F}});B+=E+G+E+F;return B}}return(p.XMLHttpRequest=r)});h("moxie/runtime/html5/utils/BinaryReader",[],function(){return function(){var m=false,k;function n(p,r){var o=m?0:-8*(r-1),s=0,q;for(q=0;q<r;q++){s|=(k.charCodeAt(p+q)<<Math.abs(o+q*8))}return s}function j(q,o,p){p=arguments.length===3?p:k.length-o-1;k=k.substr(0,o)+q+k.substr(p+o)}function l(p,q,s){var u="",o=m?0:-8*(s-1),r;for(r=0;r<s;r++){u+=String.fromCharCode((q>>Math.abs(o+r*8))&255)}j(u,p,s)}return{II:function(o){if(o===g){return m}else{m=o}},init:function(o){m=false;k=o},SEGMENT:function(o,q,p){switch(arguments.length){case 1:return k.substr(o,k.length-o-1);case 2:return k.substr(o,q);case 3:j(p,o,q);break;default:return k}},BYTE:function(o){return n(o,1)},SHORT:function(o){return n(o,2)},LONG:function(o,p){if(p===g){return n(o,4)}else{l(o,p,4)}},SLONG:function(o){var p=n(o,4);return(p>2147483647?p-4294967296:p)},STRING:function(o,p){var q="";for(p+=o;o<p;o++){q+=String.fromCharCode(n(o,1))}return q}}}});h("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader"],function(k){return function j(p){var q=[],o,l,m,n=0;o=new k();o.init(p);if(o.SHORT(0)!==65496){return}l=2;while(l<=p.length){m=o.SHORT(l);if(m>=65488&&m<=65495){l+=2;continue}if(m===65498||m===65497){break}n=o.SHORT(l+2)+2;if(m>=65505&&m<=65519){q.push({hex:m,name:"APP"+(m&15),start:l,length:n,segment:o.SEGMENT(l,n)})}l+=n}o.init(null);return{headers:q,restore:function(u){var r,s;o.init(u);l=o.SHORT(2)==65504?4+o.SHORT(4):2;for(s=0,r=q.length;s<r;s++){o.SEGMENT(l,0,q[s].segment);l+=q[s].length}u=o.SEGMENT();o.init(null);return u},strip:function(u){var v,r,s;r=new j(u);v=r.headers;r.purge();o.init(u);s=v.length;while(s--){o.SEGMENT(v[s].start,v[s].length,"")}u=o.SEGMENT();o.init(null);return u},get:function(s){var v=[];for(var u=0,r=q.length;u<r;u++){if(q[u].name===s.toUpperCase()){v.push(q[u].segment)}}return v},set:function(s,w){var x=[],u,v,r;if(typeof(w)==="string"){x.push(w)}else{x=w}for(u=v=0,r=q.length;u<r;u++){if(q[u].name===s.toUpperCase()){q[u].segment=x[v];q[u].length=x[v].length;v++}if(v>=x.length){break}}},purge:function(){q=[];o.init(null);o=null}}}});h("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(l,k){return function j(){var q,n,m,o={},u;q=new k();n={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};u={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function p(v,D){var x=q.SHORT(v),A,G,H,C,B,w,y,E,F=[],z={};for(A=0;A<x;A++){y=w=v+12*A+2;H=D[q.SHORT(y)];if(H===g){continue}C=q.SHORT(y+=2);B=q.LONG(y+=2);y+=4;F=[];switch(C){case 1:case 7:if(B>4){y=q.LONG(y)+o.tiffHeader}for(G=0;G<B;G++){F[G]=q.BYTE(y+G)}break;case 2:if(B>4){y=q.LONG(y)+o.tiffHeader}z[H]=q.STRING(y,B-1);continue;case 3:if(B>2){y=q.LONG(y)+o.tiffHeader}for(G=0;G<B;G++){F[G]=q.SHORT(y+G*2)}break;case 4:if(B>1){y=q.LONG(y)+o.tiffHeader}for(G=0;G<B;G++){F[G]=q.LONG(y+G*4)}break;case 5:y=q.LONG(y)+o.tiffHeader;for(G=0;G<B;G++){F[G]=q.LONG(y+G*4)/q.LONG(y+G*4+4)}break;case 9:y=q.LONG(y)+o.tiffHeader;for(G=0;G<B;G++){F[G]=q.SLONG(y+G*4)}break;case 10:y=q.LONG(y)+o.tiffHeader;for(G=0;G<B;G++){F[G]=q.SLONG(y+G*4)/q.SLONG(y+G*4+4)}break;default:continue}E=(B==1?F[0]:F);if(u.hasOwnProperty(H)&&typeof E!="object"){z[H]=u[H][E]}else{z[H]=E}}return z}function s(){var v=o.tiffHeader;q.II(q.SHORT(v)==18761);if(q.SHORT(v+=2)!==42){return false}o.IFD0=o.tiffHeader+q.LONG(v+=2);m=p(o.IFD0,n.tiff);if("ExifIFDPointer" in m){o.exifIFD=o.tiffHeader+m.ExifIFDPointer;delete m.ExifIFDPointer}if("GPSInfoIFDPointer" in m){o.gpsIFD=o.tiffHeader+m.GPSInfoIFDPointer;delete m.GPSInfoIFDPointer}return true}function r(C,E,B){var z,x,w,v=0;if(typeof(E)==="string"){var D=n[C.toLowerCase()];for(var y in D){if(D[y]===E){E=y;break}}}z=o[C.toLowerCase()+"IFD"];x=q.SHORT(z);for(var A=0;A<x;A++){w=z+12*A+2;if(q.SHORT(w)==E){v=w+8;break}}if(!v){return false}q.LONG(v,B);return true}return{init:function(v){o={tiffHeader:10};if(v===g||!v.length){return false}q.init(v);if(q.SHORT(0)===65505&&q.STRING(4,5).toUpperCase()==="EXIF\0"){return s()}return false},TIFF:function(){return m},EXIF:function(){var w;w=p(o.exifIFD,n.exif);if(w.ExifVersion&&l.typeOf(w.ExifVersion)==="array"){for(var x=0,v="";x<w.ExifVersion.length;x++){v+=String.fromCharCode(w.ExifVersion[x])}w.ExifVersion=v}return w},GPS:function(){var v;v=p(o.gpsIFD,n.gps);if(v.GPSVersionID&&l.typeOf(v.GPSVersionID)==="array"){v.GPSVersionID=v.GPSVersionID.join(".")}return v},setExif:function(v,w){if(v!=="PixelXDimension"&&v!=="PixelYDimension"){return false}return r("exif",v,w)},getBinary:function(){return q.SEGMENT()},purge:function(){q.init(null);q=m=null;o={}}}}});h("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(o,j,l,n,k){function m(y){var q,s,v,u,x,p;function w(){var z=0,A,B;while(z<=q.length){A=s.SHORT(z+=2);if(A>=65472&&A<=65475){z+=5;return{height:s.SHORT(z),width:s.SHORT(z+=2)}}B=s.SHORT(z+=2);z+=B-2}return null}q=y;s=new n();s.init(q);if(s.SHORT(0)!==65496){throw new j.ImageError(j.ImageError.WRONG_FORMAT)}v=new l(y);u=new k();p=!!u.init(v.get("app1")[0]);x=w.call(this);o.extend(this,{type:"image/jpeg",size:q.length,width:x&&x.width||0,height:x&&x.height||0,setExif:function(z,A){if(!p){return false}if(o.typeOf(z)==="object"){o.each(z,function(C,B){u.setExif(B,C)})}else{u.setExif(z,A)}v.set("app1",u.getBinary())},writeHeaders:function(){if(!arguments.length){return(q=v.restore(q))}return v.restore(arguments[0])},stripHeaders:function(z){return v.strip(z)},purge:function(){r.call(this)}});if(p){this.meta={tiff:u.TIFF(),exif:u.EXIF(),gps:u.GPS()}}function r(){if(!u||!v||!s){return}u.purge();v.purge();s.init(null);q=x=v=u=s=null}}return m});h("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(j,m,l){function k(w){var o,q,s,r,v;o=w;q=new l();q.init(o);(function(){var x=0,z=0,y=[35152,20039,3338,6666];for(z=0;z<y.length;z++,x+=2){if(y[z]!=q.SHORT(x)){throw new j.ImageError(j.ImageError.WRONG_FORMAT)}}}());function u(){var y,x;y=n.call(this,8);if(y.type=="IHDR"){x=y.start;return{width:q.LONG(x),height:q.LONG(x+=4)}}return null}function p(){if(!q){return}q.init(null);o=v=s=r=q=null}v=u.call(this);m.extend(this,{type:"image/png",size:o.length,width:v.width,height:v.height,purge:function(){p.call(this)}});p.call(this);function n(x){var A,z,B,y;A=q.LONG(x);z=q.STRING(x+=4,4);B=x+=4;y=q.LONG(x+A);return{length:A,type:z,start:B,CRC:y}}}return k});h("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(m,j,l,k){return function(o){var p=[l,k],n;n=(function(){for(var r=0;r<p.length;r++){try{return new p[r](o)}catch(q){}}throw new j.ImageError(j.ImageError.WRONG_FORMAT)}());m.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(q){return q},stripHeaders:function(q){return q},purge:function(){}});m.extend(this,n);this.purge=function(){n.purge();n=null}}});h("moxie/runtime/html5/image/MegaPixel",[],function(){function j(K,n,o){var q=K.naturalWidth,z=K.naturalHeight;var E=o.width,B=o.height;var s=o.x||0,r=o.y||0;var F=n.getContext("2d");if(k(K)){q/=2;z/=2}var I=1024;var m=document.createElement("canvas");m.width=m.height=I;var p=m.getContext("2d");var G=l(K,q,z);var A=0;while(A<z){var J=A+I>z?z-A:I;var C=0;while(C<q){var D=C+I>q?q-C:I;p.clearRect(0,0,I,I);p.drawImage(K,-C,-A);var v=(C*E/q+s)<<0;var w=Math.ceil(D*E/q);var u=(A*B/z/G+r)<<0;var H=Math.ceil(J*B/z/G);F.drawImage(m,0,0,D,J,v,u,w,H);C+=I}A+=I}m=p=null}function k(o){var n=o.naturalWidth,q=o.naturalHeight;if(n*q>1024*1024){var p=document.createElement("canvas");p.width=p.height=1;var m=p.getContext("2d");m.drawImage(o,-n+1,0);return m.getImageData(0,0,1,1).data[3]===0}else{return false}}function l(q,n,w){var m=document.createElement("canvas");m.width=1;m.height=w;var x=m.getContext("2d");x.drawImage(q,0,0);var p=x.getImageData(0,0,1,w).data;var u=0;var r=w;var v=w;while(v>u){var o=p[(v-1)*4+3];if(o===0){r=v}else{u=v}v=(r+u)>>1}m=null;var s=(v/w);return(s===0)?1:s}return{isSubsampled:k,renderTo:j}});h("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/MegaPixel","moxie/core/utils/Mime","moxie/core/utils/Env"],function(p,j,q,l,n,s,r,k,m){function o(){var E=this,D,I,C,y,G,K=false,v=true;j.extend(this,{loadFromBlob:function(N){var M=this,O=M.getRuntime(),L=arguments.length>1?arguments[1]:true;if(!O.can("access_binary")){throw new q.RuntimeError(q.RuntimeError.NOT_SUPPORTED_ERR)}G=N;if(N.isDetached()){y=N.getSource();B.call(this,y);return}else{H.call(this,N.getSource(),function(P){if(L){y=J(P)}B.call(M,P)})}},loadFromImage:function(L,M){this.meta=L.meta;G=new n(null,{name:L.name,size:L.size,type:L.type});B.call(this,M?(y=L.getAsBinaryString()):L.getAsDataURL())},getInfo:function(){var L=this.getRuntime(),M;if(!I&&y&&L.can("access_image_binary")){I=new s(y)}M={width:z().width||0,height:z().height||0,type:G.type||k.getFileMime(G.name),size:y&&y.length||G.size||0,name:G.name||"",meta:I&&I.meta||this.meta||{}};return M},downsize:function(){u.apply(this,arguments)},getAsCanvas:function(){if(C){C.id=this.uid+"_canvas"}return C},getAsBlob:function(L,M){if(L!==this.type){u.call(this,this.width,this.height,false)}return new n(null,{name:G.name||"",type:L,data:E.getAsBinaryString.call(this,L,M)})},getAsDataURL:function(M){var N=arguments[1]||90;if(!K){return D.src}if("image/jpeg"!==M){return C.toDataURL("image/png")}else{try{return C.toDataURL("image/jpeg",N/100)}catch(L){return C.toDataURL("image/jpeg")}}},getAsBinaryString:function(M,O){if(!K){if(!y){y=J(E.getAsDataURL(M,O))}return y}if("image/jpeg"!==M){y=J(E.getAsDataURL(M,O))}else{var N;if(!O){O=90}try{N=C.toDataURL("image/jpeg",O/100)}catch(L){N=C.toDataURL("image/jpeg")}y=J(N);if(I){y=I.stripHeaders(y);if(v){if(I.meta&&I.meta.exif){I.setExif({PixelXDimension:this.width,PixelYDimension:this.height})}y=I.writeHeaders(y)}I.purge();I=null}}K=false;return y},destroy:function(){E=null;w.call(this);this.getRuntime().getShim().removeInstance(this.uid)}});function z(){if(!C&&!D){throw new q.ImageError(q.DOMException.INVALID_STATE_ERR)}return C||D}function J(L){return l.atob(L.substring(L.indexOf("base64,")+7))}function F(M,L){return"data:"+(L||"")+";base64,"+l.btoa(M)}function B(M){var L=this;D=new Image();D.onerror=function(){w.call(this);L.trigger("error",q.ImageError.WRONG_FORMAT)};D.onload=function(){L.trigger("load")};D.src=/^data:[^;]*;base64,/.test(M)?M:F(M,G.type)}function H(N,O){var M=this,L;if(window.FileReader){L=new FileReader();L.onload=function(){O(this.result)};L.onerror=function(){M.trigger("error",q.ImageError.WRONG_FORMAT)};L.readAsDataURL(N)}else{return O(N.getAsDataURL())}}function u(M,X,S,U){var Y=this,P,O,V=0,T=0,R,W,N,L;v=U;L=(this.meta&&this.meta.tiff&&this.meta.tiff.Orientation)||1;if(j.inArray(L,[5,6,7,8])!==-1){var Q=M;M=X;X=Q}R=z();if(!S){P=Math.min(M/R.width,X/R.height)}else{M=Math.min(M,R.width);X=Math.min(X,R.height);P=Math.max(M/R.width,X/R.height)}if(P>1&&!S&&U){this.trigger("Resize");return}if(!C){C=document.createElement("canvas")}W=Math.round(R.width*P);N=Math.round(R.height*P);if(S){C.width=M;C.height=X;if(W>M){V=Math.round((W-M)/2)}if(N>X){T=Math.round((N-X)/2)}}else{C.width=W;C.height=N}if(!v){A(C.width,C.height,L)}x.call(this,R,C,-V,-T,W,N);this.width=C.width;this.height=C.height;K=true;Y.trigger("Resize")}function x(O,P,L,R,N,Q){if(m.OS==="iOS"){r.renderTo(O,P,{width:N,height:Q,x:L,y:R})}else{var M=P.getContext("2d");M.drawImage(O,L,R,N,Q)}}function A(O,L,N){switch(N){case 5:case 6:case 7:case 8:C.width=L;C.height=O;break;default:C.width=O;C.height=L}var M=C.getContext("2d");switch(N){case 2:M.translate(O,0);M.scale(-1,1);break;case 3:M.translate(O,L);M.rotate(Math.PI);break;case 4:M.translate(0,L);M.scale(1,-1);break;case 5:M.rotate(0.5*Math.PI);M.scale(1,-1);break;case 6:M.rotate(0.5*Math.PI);M.translate(0,-L);break;case 7:M.rotate(0.5*Math.PI);M.translate(O,-L);M.scale(-1,1);break;case 8:M.rotate(-0.5*Math.PI);M.translate(-O,0);break}}function w(){if(I){I.purge();I=null}y=D=C=G=null;K=false}}return(p.Image=o)});h("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(k,n,l,q,j){var o="flash",p={};function m(){var s;try{s=navigator.plugins["Shockwave Flash"];s=s.description}catch(v){try{s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(u){s="0.0"}}s=s.match(/\d+/g);return parseFloat(s[0]+"."+s[1])}function r(u){var s=this,v;u=k.extend({swf_url:n.swf_url},u);j.call(this,u,o,{access_binary:function(w){return w&&s.mode==="browser"},access_image_binary:function(w){return w&&s.mode==="browser"},display_media:j.capTrue,do_cors:j.capTrue,drag_and_drop:false,report_upload_progress:function(){return s.mode==="client"},resize_image:j.capTrue,return_response_headers:false,return_response_type:function(w){if(w==="json"&&!!window.JSON){return true}return !k.arrayDiff(w,["","text","document"])||s.mode==="browser"},return_status_code:function(w){return s.mode==="browser"||!k.arrayDiff(w,[200,404])},select_file:j.capTrue,select_multiple:j.capTrue,send_binary_string:function(w){return w&&s.mode==="browser"},send_browser_cookies:function(w){return w&&s.mode==="browser"},send_custom_headers:function(w){return w&&s.mode==="browser"},send_multipart:j.capTrue,slice_blob:function(w){return w&&s.mode==="browser"},stream_upload:function(w){return w&&s.mode==="browser"},summon_file_dialog:false,upload_filesize:function(w){return k.parseSizeStr(w)<=2097152||s.mode==="client"},use_http_method:function(w){return !k.arrayDiff(w,["GET","POST"])}},{access_binary:function(w){return w?"browser":"client"},access_image_binary:function(w){return w?"browser":"client"},report_upload_progress:function(w){return w?"browser":"client"},return_response_type:function(w){return k.arrayDiff(w,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(w){return k.arrayDiff(w,[200,404])?"browser":["client","browser"]},send_binary_string:function(w){return w?"browser":"client"},send_browser_cookies:function(w){return w?"browser":"client"},send_custom_headers:function(w){return w?"browser":"client"},stream_upload:function(w){return w?"client":"browser"},upload_filesize:function(w){return k.parseSizeStr(w)>=2097152?"client":"browser"}},"client");if(m()<10){this.mode=false}k.extend(this,{getShim:function(){return l.get(this.uid)},shimExec:function(x,y){var w=[].slice.call(arguments,2);return s.getShim().exec(this.uid,x,y,w)},init:function(){var x,y,w;w=this.getShimContainer();k.extend(w.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"});x='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+u.swf_url+'" ';if(n.browser==="IE"){x+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '}x+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+u.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+n.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';if(n.browser==="IE"){y=document.createElement("div");w.appendChild(y);y.outerHTML=x;y=w=null}else{w.innerHTML=x}v=setTimeout(function(){if(s&&!s.initialized){s.trigger("Error",new q.RuntimeError(q.RuntimeError.NOT_INIT_ERR))}},5000)},destroy:(function(w){return function(){w.call(s);clearTimeout(v);u=v=w=s=null}}(this.destroy))},p)}j.addConstructor(o,r);return p});h("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(k,l){var j={slice:function(o,q,m,p){var n=this.getRuntime();if(q<0){q=Math.max(o.size+q,0)}else{if(q>0){q=Math.min(q,o.size)}}if(m<0){m=Math.max(o.size+m,0)}else{if(m>0){m=Math.min(m,o.size)}}o=n.shimExec.call(this,"Blob","slice",q,m,p||"");if(o){o=new l(n.uid,o)}return o}};return(k.Blob=j)});h("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime"],function(j){var k={init:function(l){this.getRuntime().shimExec.call(this,"FileInput","init",{name:l.name,accept:l.accept,multiple:l.multiple});this.trigger("ready")}};return(j.FileInput=k)});h("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(m,j){var k="";function l(o,p){switch(p){case"readAsText":return j.atob(o,"utf8");case"readAsBinaryString":return j.atob(o);case"readAsDataURL":return o}return null}var n={read:function(r,p){var q=this,o=q.getRuntime();if(r==="readAsDataURL"){k="data:"+(p.type||"")+";base64,"}q.bind("Progress",function(u,s){if(s){k+=l(s,r)}});return o.shimExec.call(this,"FileReader","readAsBase64",p.uid)},getResult:function(){return k},destroy:function(){k=null}};return(m.FileReader=n)});h("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(l,j){function k(n,o){switch(o){case"readAsText":return j.atob(n,"utf8");case"readAsBinaryString":return j.atob(n);case"readAsDataURL":return n}return null}var m={read:function(q,p){var n,o=this.getRuntime();n=o.shimExec.call(this,"FileReaderSync","readAsBase64",p.uid);if(!n){return null}if(q==="readAsDataURL"){n="data:"+(p.type||"")+";base64,"+n}return k(n,q,p.type)}};return(l.FileReaderSync=m)});h("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter"],function(k,n,q,j,p,o,m){var l={send:function(z,u){var w=this,A=w.getRuntime();function s(){z.transport=A.mode;A.shimExec.call(w,"XMLHttpRequest","send",z,u)}function v(C,B){A.shimExec.call(w,"XMLHttpRequest","appendBlob",C,B.uid);u=null;s()}function x(C,B){var D=new m();D.bind("TransportingComplete",function(){B(this.result)});D.transport(C.getSource(),C.type,{ruid:A.uid})}if(!n.isEmptyObj(z.headers)){n.each(z.headers,function(B,C){A.shimExec.call(w,"XMLHttpRequest","setRequestHeader",C,B.toString())})}if(u instanceof o){var y;u.each(function(C,B){if(C instanceof q){y=B}else{A.shimExec.call(w,"XMLHttpRequest","append",B,C)}});if(!u.hasBlob()){u=null;s()}else{var r=u.getBlob();if(r.isDetached()){x(r,function(B){r.destroy();v(y,B)})}else{v(y,r)}}}else{if(u instanceof q){if(u.isDetached()){x(u,function(B){u.destroy();u=B.uid;s()})}else{u=u.uid;s()}}else{s()}}},getResponse:function(v){var r,u,s=this.getRuntime();u=s.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob");if(u){u=new j(s.uid,u);if("blob"===v){return u}try{r=new p();if(!!~n.inArray(v,["","text"])){return r.readAsText(u)}else{if("json"===v&&!!window.JSON){return JSON.parse(r.readAsText(u))}}}finally{u.destroy()}}return null},abort:function(s){var r=this.getRuntime();r.shimExec.call(this,"XMLHttpRequest","abort");this.dispatchEvent("readystatechange");this.dispatchEvent("abort")}};return(k.XMLHttpRequest=l)});h("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(j,l){var k={getAsBlob:function(o){var n=this.getRuntime(),m=n.shimExec.call(this,"Transporter","getAsBlob",o);if(m){return new l(n.uid,m)}return null}};return(j.Transporter=k)});h("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(k,m,l,o,n){var j={loadFromBlob:function(s){var r=this,q=r.getRuntime();function p(v){q.shimExec.call(r,"Image","loadFromBlob",v.uid);r=q=null}if(s.isDetached()){var u=new l();u.bind("TransportingComplete",function(){p(u.result.getSource())});u.transport(s.getSource(),s.type,{ruid:q.uid})}else{p(s.getSource())}},loadFromImage:function(q){var p=this.getRuntime();return p.shimExec.call(this,"Image","loadFromImage",q.uid)},getAsBlob:function(r,s){var q=this.getRuntime(),p=q.shimExec.call(this,"Image","getAsBlob",r,s);if(p){return new o(q.uid,p)}return null},getAsDataURL:function(){var r=this.getRuntime(),q=r.Image.getAsBlob.apply(this,arguments),p;if(!q){return null}p=new n();return p.readAsDataURL(q)}};return(k.Image=j)});h("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(k,n,m,q,j){var o="silverlight",p={};function r(B){var E=false,x=null,s,u,v,D,w,z=0;try{try{x=new ActiveXObject("AgControl.AgControl");if(x.IsVersionSupported(B)){E=true}x=null}catch(A){var y=navigator.plugins["Silverlight Plug-In"];if(y){s=y.description;if(s==="1.0.30226.2"){s="2.0.30226.2"}u=s.split(".");while(u.length>3){u.pop()}while(u.length<4){u.push(0)}v=B.split(".");while(v.length>4){v.pop()}do{D=parseInt(v[z],10);w=parseInt(u[z],10);z++}while(z<v.length&&D===w);if(D<=w&&!isNaN(D)){E=true}}}}catch(C){E=false}return E}function l(u){var s=this,v;u=k.extend({xap_url:n.xap_url},u);j.call(this,u,o,{access_binary:j.capTrue,access_image_binary:j.capTrue,display_media:j.capTrue,do_cors:j.capTrue,drag_and_drop:false,report_upload_progress:j.capTrue,resize_image:j.capTrue,return_response_headers:function(w){return w&&s.mode==="client"},return_response_type:function(w){if(w!=="json"){return true}else{return !!window.JSON}},return_status_code:function(w){return s.mode==="client"||!k.arrayDiff(w,[200,404])},select_file:j.capTrue,select_multiple:j.capTrue,send_binary_string:j.capTrue,send_browser_cookies:function(w){return w&&s.mode==="browser"},send_custom_headers:function(w){return w&&s.mode==="client"},send_multipart:j.capTrue,slice_blob:j.capTrue,stream_upload:true,summon_file_dialog:false,upload_filesize:j.capTrue,use_http_method:function(w){return s.mode==="client"||!k.arrayDiff(w,["GET","POST"])}},{return_response_headers:function(w){return w?"client":"browser"},return_status_code:function(w){return k.arrayDiff(w,[200,404])?"client":["client","browser"]},send_browser_cookies:function(w){return w?"browser":"client"},send_custom_headers:function(w){return w?"client":"browser"},use_http_method:function(w){return k.arrayDiff(w,["GET","POST"])?"client":["client","browser"]}});if(!r("2.0.31005.0")||n.browser==="Opera"){this.mode=false}k.extend(this,{getShim:function(){return m.get(this.uid).content.Moxie},shimExec:function(x,y){var w=[].slice.call(arguments,2);return s.getShim().exec(this.uid,x,y,w)},init:function(){var w;w=this.getShimContainer();w.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+u.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+n.global_event_dispatcher+'"/></object>';v=setTimeout(function(){if(s&&!s.initialized){s.trigger("Error",new q.RuntimeError(q.RuntimeError.NOT_INIT_ERR))}},n.OS!=="Windows"?10000:5000)},destroy:(function(w){return function(){w.call(s);clearTimeout(v);u=v=w=s=null}}(this.destroy))},p)}j.addConstructor(o,l);return p});h("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(j,k,l){return(j.Blob=k.extend({},l))});h("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime"],function(j){var k={init:function(m){function l(o){var p="";for(var n=0;n<o.length;n++){p+=(p!==""?"|":"")+o[n].title+" | *."+o[n].extensions.replace(/,/g,";*.")}return p}this.getRuntime().shimExec.call(this,"FileInput","init",l(m.accept),m.name,m.multiple);this.trigger("ready")}};return(j.FileInput=k)});h("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(l,k,j){var m={init:function(){var o=this,n=o.getRuntime(),p;p=n.getShimContainer();j.addEvent(p,"dragover",function(q){q.preventDefault();q.stopPropagation();q.dataTransfer.dropEffect="copy"},o.uid);j.addEvent(p,"dragenter",function(r){r.preventDefault();var q=k.get(n.uid).dragEnter(r);if(q){r.stopPropagation()}},o.uid);j.addEvent(p,"drop",function(r){r.preventDefault();var q=k.get(n.uid).dragDrop(r);if(q){r.stopPropagation()}},o.uid);return n.shimExec.call(this,"FileDrop","init")}};return(l.FileDrop=m)});h("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(j,l,k){return(j.FileReader=l.extend({},k))});h("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(j,k,l){return(j.FileReaderSync=k.extend({},l))});h("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest"],function(j,l,k){return(j.XMLHttpRequest=l.extend({},k))});h("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(j,l,k){return(j.Transporter=l.extend({},k))});h("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/image/Image"],function(k,l,j){return(k.Image=l.extend({},j,{getInfo:function(){var n=this.getRuntime(),o=["tiff","exif","gps"],p={meta:{}},m=n.shimExec.call(this,"Image","getInfo");if(m.meta){l.each(o,function(r){var w=m.meta[r],q,s,u,v;if(w&&w.keys){p.meta[r]={};for(s=0,u=w.keys.length;s<u;s++){q=w.keys[s];v=w[q];if(v){if(/^(\d|[1-9]\d+)$/.test(v)){v=parseInt(v,10)}else{if(/^\d*\.\d+$/.test(v)){v=parseFloat(v)}}p.meta[r][q]=v}}}})}p.width=parseInt(m.width,10);p.height=parseInt(m.height,10);p.size=parseInt(m.size,10);p.type=m.type;p.name=m.name;return p}}))});h("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(p,j,m,l){var o="html4",n={};function k(r){var q=this,u=m.capTest,s=m.capTrue;m.call(this,r,o,{access_binary:u(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:false,display_media:u(n.Image&&(l.can("create_canvas")||l.can("use_data_uri_over32kb"))),do_cors:false,drag_and_drop:false,filter_by_extension:u(function(){return(l.browser==="Chrome"&&l.version>=28)||(l.browser==="IE"&&l.version>=10)}()),resize_image:function(){return n.Image&&q.can("access_binary")&&l.can("create_canvas")},report_upload_progress:false,return_response_headers:false,return_response_type:function(v){if(v==="json"&&!!window.JSON){return true}return !!~p.inArray(v,["text","document",""])},return_status_code:function(v){return !p.arrayDiff(v,[200,404])},select_file:function(){return l.can("use_fileinput")},select_multiple:false,send_binary_string:false,send_custom_headers:false,send_multipart:true,slice_blob:false,stream_upload:function(){return q.can("select_file")},summon_file_dialog:u(function(){return(l.browser==="Firefox"&&l.version>=4)||(l.browser==="Opera"&&l.version>=12)||!!~p.inArray(l.browser,["Chrome","Safari"])}()),upload_filesize:s,use_http_method:function(v){return !p.arrayDiff(v,["GET","POST"])}});p.extend(this,{init:function(){this.trigger("Init")},destroy:(function(v){return function(){v.call(q);v=q=null}}(this.destroy))});p.extend(this.getShim(),n)}m.addConstructor(o,k);return n});h("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(n,p,m,k,l,j){function o(){var u,r=[],v=[],q;function s(){var y=this,B=y.getRuntime(),A,z,w,D,x,C;C=p.guid("uid_");A=B.getShimContainer();if(u){w=m.get(u+"_form");if(w){p.extend(w.style,{top:"100%"})}}D=document.createElement("form");D.setAttribute("id",C+"_form");D.setAttribute("method","post");D.setAttribute("enctype","multipart/form-data");D.setAttribute("encoding","multipart/form-data");p.extend(D.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"});x=document.createElement("input");x.setAttribute("id",C);x.setAttribute("type","file");x.setAttribute("name",q.name||"Filedata");x.setAttribute("accept",v.join(","));p.extend(x.style,{fontSize:"999px",opacity:0});D.appendChild(x);A.appendChild(D);p.extend(x.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"});if(j.browser==="IE"&&j.version<10){p.extend(x.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"})}x.onchange=function(){var F;if(!this.value){return}if(this.files){F=this.files[0]}else{F={name:this.value}}r=[F];this.onchange=function(){};s.call(y);y.bind("change",function E(){var G=m.get(C),I=m.get(C+"_form"),H;y.unbind("change",E);if(y.files.length&&G&&I){H=y.files[0];G.setAttribute("id",H.uid);I.setAttribute("id",H.uid+"_form");I.setAttribute("target",H.uid+"_iframe")}G=I=null},998);x=D=null;y.trigger("change")};if(B.can("summon_file_dialog")){z=m.get(q.browse_button);k.removeEvent(z,"click",y.uid);k.addEvent(z,"click",function(E){if(x&&!x.disabled){x.click()}E.preventDefault()},y.uid)}u=C;A=w=z=null}p.extend(this,{init:function(z){var w=this,y=w.getRuntime(),x;q=z;v=z.accept.mimes||l.extList2mimes(z.accept,y.can("filter_by_extension"));x=y.getShimContainer();(function(){var A,C,B;A=m.get(z.browse_button);if(y.can("summon_file_dialog")){if(m.getStyle(A,"position")==="static"){A.style.position="relative"}C=parseInt(m.getStyle(A,"z-index"),10)||1;A.style.zIndex=C;x.style.zIndex=C-1}B=y.can("summon_file_dialog")?A:x;k.addEvent(B,"mouseover",function(){w.trigger("mouseenter")},w.uid);k.addEvent(B,"mouseout",function(){w.trigger("mouseleave")},w.uid);k.addEvent(B,"mousedown",function(){w.trigger("mousedown")},w.uid);k.addEvent(m.get(z.container),"mouseup",function(){w.trigger("mouseup")},w.uid);A=null}());s.call(this);x=null;w.trigger({type:"ready",async:true})},getFiles:function(){return r},disable:function(x){var w;if((w=m.get(u))){w.disabled=!!x}},destroy:function(){var x=this.getRuntime(),y=x.getShim(),w=x.getShimContainer();k.removeAllEvents(w,this.uid);k.removeAllEvents(q&&m.get(q.container),this.uid);k.removeAllEvents(q&&m.get(q.browse_button),this.uid);if(w){w.innerHTML=""}y.removeInstance(this.uid);u=r=v=q=w=y=null}})}return(n.FileInput=o)});h("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(j,k){return(j.FileReader=k)});h("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(n,k,m,j,o,q,l,r){function p(){var v,s,w;function u(x){var C=this,A,B,y,z,D=false;if(!w){return}A=w.id.replace(/_iframe$/,"");B=m.get(A+"_form");if(B){y=B.getElementsByTagName("input");z=y.length;while(z--){switch(y[z].getAttribute("type")){case"hidden":y[z].parentNode.removeChild(y[z]);break;case"file":D=true;break}}y=[];if(!D){B.parentNode.removeChild(B)}B=null}setTimeout(function(){q.removeEvent(w,"load",C.uid);if(w.parentNode){w.parentNode.removeChild(w)}var E=C.getRuntime().getShimContainer();if(!E.children.length){E.parentNode.removeChild(E)}E=w=null;x()},1)}k.extend(this,{send:function(F,z){var B=this,E=B.getRuntime(),A,y,D,x;v=s=null;function C(){var G=E.getShimContainer()||document.body,H=document.createElement("div");H.innerHTML='<iframe id="'+A+'_iframe" name="'+A+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>';w=H.firstChild;G.appendChild(w);q.addEvent(w,"load",function(){var J;try{J=w.contentWindow.document||w.contentDocument||window.frames[w.id].document;if(/^4(0[0-9]|1[0-7]|2[2346])\s/.test(J.title)){v=J.title.replace(/^(\d+).*$/,"$1")}else{v=200;s=k.trim(J.body.innerHTML);B.trigger({type:"progress",loaded:s.length,total:s.length});if(x){B.trigger({type:"uploadprogress",loaded:x.size||1025,total:x.size||1025})}}}catch(I){if(j.hasSameOrigin(F.url)){v=404}else{u.call(B,function(){B.trigger("error")});return}}u.call(B,function(){B.trigger("load")})},B.uid)}if(z instanceof r&&z.hasBlob()){x=z.getBlob();A=x.uid;D=m.get(A);y=m.get(A+"_form");if(!y){throw new o.DOMException(o.DOMException.NOT_FOUND_ERR)}}else{A=k.guid("uid_");y=document.createElement("form");y.setAttribute("id",A+"_form");y.setAttribute("method",F.method);y.setAttribute("enctype","multipart/form-data");y.setAttribute("encoding","multipart/form-data");y.setAttribute("target",A+"_iframe");E.getShimContainer().appendChild(y)}if(z instanceof r){z.each(function(I,G){if(I instanceof l){if(D){D.setAttribute("name",G)}}else{var H=document.createElement("input");k.extend(H,{type:"hidden",name:G,value:I});if(D){y.insertBefore(H,D)}else{y.appendChild(H)}}})}y.setAttribute("action",F.url);C();y.submit();B.trigger("loadstart")},getStatus:function(){return v},getResponse:function(x){if("json"===x){if(k.typeOf(s)==="string"&&!!window.JSON){try{return JSON.parse(s.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(y){return null}}}else{if("document"===x){}}return s},abort:function(){var x=this;if(w&&w.contentWindow){if(w.contentWindow.stop){w.contentWindow.stop()}else{if(w.contentWindow.document.execCommand){w.contentWindow.document.execCommand("Stop")}else{w.src="about:blank"}}}u.call(this,function(){x.dispatchEvent("abort")})}})}return(n.XMLHttpRequest=p)});h("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(k,j){return(k.Image=j)});a(["moxie/core/utils/Basic","moxie/core/I18n","moxie/core/utils/Mime","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/file/File","moxie/file/FileInput","moxie/file/FileDrop","moxie/runtime/RuntimeTarget","moxie/file/FileReader","moxie/core/utils/Url","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/runtime/Transporter","moxie/image/Image","moxie/core/utils/Events"])})(this);(function(a){var d={},c=a.moxie.core.utils.Basic.inArray;(function b(f){var e,g;for(e in f){g=typeof(f[e]);if(g==="object"&&!~c(e,["Exceptions","Env","Mime"])){b(f[e])}else{if(g==="function"){d[e]=f[e]}}}})(a.moxie);d.Env=a.moxie.core.utils.Env;d.Mime=a.moxie.core.utils.Mime;d.Exceptions=a.moxie.core.Exceptions;a.mOxie=d;if(!a.o){a.o=d}return d})(this);(function(f,h,e){var d=f.setTimeout,g={};function a(k){var j=k.required_features,l={};function m(o,p,n){var q={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};if(q[o]){l[q[o]]=p}else{if(!n){l[o]=p}}}if(typeof(j)==="string"){c.each(j.split(/\s*,\s*/),function(n){m(n,true)})}else{if(typeof(j)==="object"){c.each(j,function(o,n){m(n,o)})}else{if(j===true){if(k.chunk_size>0){l.slice_blob=true}if(k.resize.enabled||!k.multipart){l.send_binary_string=true}c.each(k,function(o,n){m(n,!!o,true)})}}}return l}var c={VERSION:"2.1.2",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:h.mimes,ua:h.ua,typeOf:h.typeOf,extend:h.extend,guid:h.guid,get:function b(m){var k=[],l;if(h.typeOf(m)!=="array"){m=[m]}var j=m.length;while(j--){l=h.get(m[j]);if(l){k.push(l)}}return k.length?k:null},each:h.each,getPos:h.getPos,getSize:h.getSize,xmlEncode:function(k){var l={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},j=/[<>&\"\']/g;return k?(""+k).replace(j,function(m){return l[m]?"&"+l[m]+";":m}):k},toArray:h.toArray,inArray:h.inArray,addI18n:h.addI18n,translate:h.translate,isEmptyObj:h.isEmptyObj,hasClass:h.hasClass,addClass:h.addClass,removeClass:h.removeClass,getStyle:h.getStyle,addEvent:h.addEvent,removeEvent:h.removeEvent,removeAllEvents:h.removeAllEvents,cleanName:function(j){var k,l;l=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(k=0;k<l.length;k+=2){j=j.replace(l[k],l[k+1])}j=j.replace(/\s+/g,"_");j=j.replace(/[^a-z0-9_\-\.]+/gi,"");return j},buildUrl:function(k,j){var l="";c.each(j,function(n,m){l+=(l?"&":"")+encodeURIComponent(m)+"="+encodeURIComponent(n)});if(l){k+=(k.indexOf("?")>0?"&":"?")+l}return k},formatSize:function(k){if(k===e||/\D/.test(k)){return c.translate("N/A")}function j(n,m){return Math.round(n*Math.pow(10,m))/Math.pow(10,m)}var l=Math.pow(1024,4);if(k>l){return j(k/l,1)+" "+c.translate("tb")}if(k>(l/=1024)){return j(k/l,1)+" "+c.translate("gb")}if(k>(l/=1024)){return j(k/l,1)+" "+c.translate("mb")}if(k>1024){return Math.round(k/1024)+" "+c.translate("kb")}return k+" "+c.translate("b")},parseSize:h.parseSizeStr,predictRuntime:function(l,k){var j,m;j=new c.Uploader(l);m=h.Runtime.thatCan(j.getOption().required_features,k||l.runtimes);j.destroy();return m},addFileFilter:function(k,j){g[k]=j}};c.addFileFilter("mime_types",function(l,k,j){if(l.length&&!l.regexp.test(k.name)){this.trigger("Error",{code:c.FILE_EXTENSION_ERROR,message:c.translate("File extension error."),file:k});j(false)}else{j(true)}});c.addFileFilter("max_file_size",function(m,k,j){var l;m=c.parseSize(m);if(k.size!==l&&m&&k.size>m){this.trigger("Error",{code:c.FILE_SIZE_ERROR,message:c.translate("File size error."),file:k});j(false)}else{j(true)}});c.addFileFilter("prevent_duplicates",function(m,k,j){if(m){var l=this.files.length;while(l--){if(k.name===this.files[l].name&&k.size===this.files[l].size){this.trigger("Error",{code:c.FILE_DUPLICATE_ERROR,message:c.translate("Duplicate file error."),file:k});j(false);return}}}j(true)});c.Uploader=function(m){var v=c.guid(),I,q=[],z={},H=[],y=[],E,L,o=false,x;function K(){var N,O=0,M;if(this.state==c.STARTED){for(M=0;M<q.length;M++){if(!N&&q[M].status==c.QUEUED){N=q[M];if(this.trigger("BeforeUpload",N)){N.status=c.UPLOADING;this.trigger("UploadFile",N)}}else{O++}}if(O==q.length){if(this.state!==c.STOPPED){this.state=c.STOPPED;this.trigger("StateChanged")}this.trigger("UploadComplete",q)}}}function l(M){M.percent=M.size>0?Math.ceil(M.loaded/M.size*100):100;k()}function k(){var N,M;L.reset();for(N=0;N<q.length;N++){M=q[N];if(M.size!==e){L.size+=M.origSize;L.loaded+=M.loaded*M.origSize/M.size}else{L.size=e}if(M.status==c.DONE){L.uploaded++}else{if(M.status==c.FAILED){L.failed++}else{L.queued++}}}if(L.size===e){L.percent=q.length>0?Math.ceil(L.uploaded/q.length*100):0}else{L.bytesPerSec=Math.ceil(L.loaded/((+new Date()-E||1)/1000));L.percent=L.size>0?Math.ceil(L.loaded/L.size*100):0}}function J(){var M=H[0]||y[0];if(M){return M.getRuntime().uid}return false}function G(N,M){if(N.ruid){var O=h.Runtime.getInfo(N.ruid);if(O){return O.can(M)}}return false}function A(){this.bind("FilesAdded FilesRemoved",function(M){M.trigger("QueueChanged");M.refresh()});this.bind("CancelUpload",j);this.bind("BeforeUpload",D);this.bind("UploadFile",F);this.bind("UploadProgress",w);this.bind("StateChanged",C);this.bind("QueueChanged",k);this.bind("Error",s);this.bind("FileUploaded",u);this.bind("Destroy",r)}function B(R,O){var P=this,N=0,M=[];var Q={runtime_order:R.runtimes,required_caps:R.required_features,preferred_caps:z,swf_url:R.flash_swf_url,xap_url:R.silverlight_xap_url};c.each(R.runtimes.split(/\s*,\s*/),function(S){if(R[S]){Q[S]=R[S]}});if(R.browse_button){c.each(R.browse_button,function(S){M.push(function(T){var U=new h.FileInput(c.extend({},Q,{accept:R.filters.mime_types,name:R.file_data_name,multiple:R.multi_selection,container:R.container,browse_button:S}));U.onready=function(){var V=h.Runtime.getInfo(this.ruid);h.extend(P.features,{chunks:V.can("slice_blob"),multipart:V.can("send_multipart"),multi_selection:V.can("select_multiple")});N++;H.push(this);T()};U.onchange=function(){P.addFile(this.files)};U.bind("mouseenter mouseleave mousedown mouseup",function(V){if(!o){if(R.browse_button_hover){if("mouseenter"===V.type){h.addClass(S,R.browse_button_hover)}else{if("mouseleave"===V.type){h.removeClass(S,R.browse_button_hover)}}}if(R.browse_button_active){if("mousedown"===V.type){h.addClass(S,R.browse_button_active)}else{if("mouseup"===V.type){h.removeClass(S,R.browse_button_active)}}}}});U.bind("mousedown",function(){P.trigger("Browse")});U.bind("error runtimeerror",function(){U=null;T()});U.init()})})}if(R.drop_element){c.each(R.drop_element,function(S){M.push(function(T){var U=new h.FileDrop(c.extend({},Q,{drop_zone:S}));U.onready=function(){var V=h.Runtime.getInfo(this.ruid);P.features.dragdrop=V.can("drag_and_drop");N++;y.push(this);T()};U.ondrop=function(){P.addFile(this.files)};U.bind("error runtimeerror",function(){U=null;T()});U.init()})})}h.inSeries(M,function(){if(typeof(O)==="function"){O(N)}})}function p(O,Q,M){var N=new h.Image();try{N.onload=function(){if(Q.width>this.width&&Q.height>this.height&&Q.quality===e&&Q.preserve_headers&&!Q.crop){this.destroy();return M(O)}N.downsize(Q.width,Q.height,Q.crop,Q.preserve_headers)};N.onresize=function(){M(this.getAsBlob(O.type,Q.quality));this.destroy()};N.onerror=function(){M(O)};N.load(O)}catch(P){M(O)}}function n(O,Q,R){var N=this,M=false;function P(T,U,V){var S=I[T];switch(T){case"max_file_size":if(T==="max_file_size"){I.max_file_size=I.filters.max_file_size=U}break;case"chunk_size":if(U=c.parseSize(U)){I[T]=U;I.send_file_name=true}break;case"multipart":I[T]=U;if(!U){I.send_file_name=true}break;case"unique_names":I[T]=U;if(U){I.send_file_name=true}break;case"filters":if(c.typeOf(U)==="array"){U={mime_types:U}}if(V){c.extend(I.filters,U)}else{I.filters=U}if(U.mime_types){I.filters.mime_types.regexp=(function(W){var X=[];c.each(W,function(Y){c.each(Y.extensions.split(/,/),function(Z){if(/^\s*\*\s*$/.test(Z)){X.push("\\.*")}else{X.push("\\."+Z.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});return new RegExp("("+X.join("|")+")$","i")}(I.filters.mime_types))}break;case"resize":if(V){c.extend(I.resize,U,{enabled:true})}else{I.resize=U}break;case"prevent_duplicates":I.prevent_duplicates=I.filters.prevent_duplicates=!!U;break;case"browse_button":case"drop_element":U=c.get(U);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":I[T]=U;if(!V){M=true}break;default:I[T]=U}if(!V){N.trigger("OptionChanged",T,U,S)}}if(typeof(O)==="object"){c.each(O,function(T,S){P(S,T,R)})}else{P(O,Q,R)}if(R){I.required_features=a(c.extend({},I));z=a(c.extend({},I,{required_features:true}))}else{if(M){N.trigger("Destroy");B.call(N,I,function(S){if(S){N.runtime=h.Runtime.getInfo(J()).type;N.trigger("Init",{runtime:N.runtime});N.trigger("PostInit")}else{N.trigger("Error",{code:c.INIT_ERROR,message:c.translate("Init error.")})}})}}}function D(M,N){if(M.settings.unique_names){var P=N.name.match(/\.([^.]+)$/),O="part";if(P){O=P[1]}N.target_name=N.id+"."+O}}function F(U,R){var O=U.settings.url,S=U.settings.chunk_size,V=U.settings.max_retries,P=U.features,T=0,M;if(R.loaded){T=R.loaded=S?S*Math.floor(R.loaded/S):0}function Q(){if(V-->0){d(N,1000)}else{R.loaded=T;U.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:R,response:x.responseText,status:x.status,responseHeaders:x.getAllResponseHeaders()})}}function N(){var Y,X,W={},Z;if(R.status!==c.UPLOADING||U.state===c.STOPPED){return}if(U.settings.send_file_name){W.name=R.target_name||R.name}if(S&&P.chunks&&M.size>S){Z=Math.min(S,M.size-T);Y=M.slice(T,T+Z)}else{Z=M.size;Y=M}if(S&&P.chunks){if(U.settings.send_chunk_number){W.chunk=Math.ceil(T/S);W.chunks=Math.ceil(M.size/S)}else{W.offset=T;W.total=M.size}}x=new h.XMLHttpRequest();if(x.upload){x.upload.onprogress=function(aa){R.loaded=Math.min(R.size,T+aa.loaded);U.trigger("UploadProgress",R)}}x.onload=function(){if(x.status>=400){Q();return}V=U.settings.max_retries;if(Z<M.size){Y.destroy();T+=Z;R.loaded=Math.min(T,M.size);U.trigger("ChunkUploaded",R,{offset:R.loaded,total:M.size,response:x.responseText,status:x.status,responseHeaders:x.getAllResponseHeaders()});if(h.Env.browser==="Android Browser"){U.trigger("UploadProgress",R)}}else{R.loaded=R.size}Y=X=null;if(!T||T>=M.size){if(R.size!=R.origSize){M.destroy();M=null}U.trigger("UploadProgress",R);R.status=c.DONE;U.trigger("FileUploaded",R,{response:x.responseText,status:x.status,responseHeaders:x.getAllResponseHeaders()})}else{d(N,1)}};x.onerror=function(){Q()};x.onloadend=function(){this.destroy();x=null};if(U.settings.multipart&&P.multipart){x.open("post",O,true);c.each(U.settings.headers,function(ab,aa){x.setRequestHeader(aa,ab)});X=new h.FormData();c.each(c.extend(W,U.settings.multipart_params),function(ab,aa){X.append(aa,ab)});X.append(U.settings.file_data_name,Y);x.send(X,{runtime_order:U.settings.runtimes,required_caps:U.settings.required_features,preferred_caps:z,swf_url:U.settings.flash_swf_url,xap_url:U.settings.silverlight_xap_url})}else{O=c.buildUrl(U.settings.url,c.extend(W,U.settings.multipart_params));x.open("post",O,true);x.setRequestHeader("Content-Type","application/octet-stream");c.each(U.settings.headers,function(ab,aa){x.setRequestHeader(aa,ab)});x.send(Y,{runtime_order:U.settings.runtimes,required_caps:U.settings.required_features,preferred_caps:z,swf_url:U.settings.flash_swf_url,xap_url:U.settings.silverlight_xap_url})}}M=R.getSource();if(U.settings.resize.enabled&&G(M,"send_binary_string")&&!!~h.inArray(M.type,["image/jpeg","image/png"])){p.call(this,M,U.settings.resize,function(W){M=W;R.size=W.size;N()})}else{N()}}function w(M,N){l(N)}function C(M){if(M.state==c.STARTED){E=(+new Date())}else{if(M.state==c.STOPPED){for(var N=M.files.length-1;N>=0;N--){if(M.files[N].status==c.UPLOADING){M.files[N].status=c.QUEUED;k()}}}}}function j(){if(x){x.abort()}}function u(M){k();d(function(){K.call(M)},1)}function s(M,N){if(N.code===c.INIT_ERROR){M.destroy()}else{if(N.file){N.file.status=c.FAILED;l(N.file);if(M.state==c.STARTED){M.trigger("CancelUpload");d(function(){K.call(M)},1)}}}}function r(M){M.stop();c.each(q,function(N){N.destroy()});q=[];if(H.length){c.each(H,function(N){N.destroy()});H=[]}if(y.length){c.each(y,function(N){N.destroy()});y=[]}z={};o=false;E=x=null;L.reset()}I={runtimes:h.Runtime.order,max_retries:0,chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:false,max_file_size:0},resize:{enabled:false,preserve_headers:true,crop:false},send_file_name:true,send_chunk_number:true};n.call(this,m,null,true);L=new c.QueueProgress();c.extend(this,{id:v,uid:v,state:c.STOPPED,features:{},runtime:null,files:q,settings:I,total:L,init:function(){var M=this;if(typeof(I.preinit)=="function"){I.preinit(M)}else{c.each(I.preinit,function(O,N){M.bind(N,O)})}A.call(this);if(!I.browse_button||!I.url){this.trigger("Error",{code:c.INIT_ERROR,message:c.translate("Init error.")});return}B.call(this,I,function(N){if(typeof(I.init)=="function"){I.init(M)}else{c.each(I.init,function(P,O){M.bind(O,P)})}if(N){M.runtime=h.Runtime.getInfo(J()).type;M.trigger("Init",{runtime:M.runtime});M.trigger("PostInit")}else{M.trigger("Error",{code:c.INIT_ERROR,message:c.translate("Init error.")})}})},setOption:function(M,N){n.call(this,M,N,!this.runtime)},getOption:function(M){if(!M){return I}return I[M]},refresh:function(){if(H.length){c.each(H,function(M){M.trigger("Refresh")})}this.trigger("Refresh")},start:function(){if(this.state!=c.STARTED){this.state=c.STARTED;this.trigger("StateChanged");K.call(this)}},stop:function(){if(this.state!=c.STOPPED){this.state=c.STOPPED;this.trigger("StateChanged");this.trigger("CancelUpload")}},disableBrowse:function(){o=arguments[0]!==e?arguments[0]:true;if(H.length){c.each(H,function(M){M.disable(o)})}this.trigger("DisableBrowse",o)},getFile:function(N){var M;for(M=q.length-1;M>=0;M--){if(q[M].id===N){return q[M]}}},addFile:function(R,T){var O=this,M=[],N=[],P;function S(W,V){var U=[];h.each(O.settings.filters,function(Y,X){if(g[X]){U.push(function(Z){g[X].call(O,Y,W,function(aa){Z(!aa)})})}});h.inSeries(U,V)}function Q(U){var V=h.typeOf(U);if(U instanceof h.File){if(!U.ruid&&!U.isDetached()){if(!P){return false}U.ruid=P;U.connectRuntime(P)}Q(new c.File(U))}else{if(U instanceof h.Blob){Q(U.getSource());U.destroy()}else{if(U instanceof c.File){if(T){U.name=T}M.push(function(W){S(U,function(X){if(!X){q.push(U);N.push(U);O.trigger("FileFiltered",U)}d(W,1)})})}else{if(h.inArray(V,["file","blob"])!==-1){Q(new h.File(null,U))}else{if(V==="node"&&h.typeOf(U.files)==="filelist"){h.each(U.files,Q)}else{if(V==="array"){T=null;h.each(U,Q)}}}}}}}P=J();Q(R);if(M.length){h.inSeries(M,function(){if(N.length){O.trigger("FilesAdded",N)}})}},removeFile:function(N){var O=typeof(N)==="string"?N:N.id;for(var M=q.length-1;M>=0;M--){if(q[M].id===O){return this.splice(M,1)[0]}}},splice:function(P,M){var N=q.splice(P===e?0:P,M===e?q.length:M);var O=false;if(this.state==c.STARTED){c.each(N,function(Q){if(Q.status===c.UPLOADING){O=true;return false}});if(O){this.stop()}}this.trigger("FilesRemoved",N);c.each(N,function(Q){Q.destroy()});if(O){this.start()}return N},bind:function(N,P,O){var M=this;c.Uploader.prototype.bind.call(this,N,function(){var Q=[].slice.call(arguments);Q.splice(0,1,M);return P.apply(this,Q)},0,O)},destroy:function(){this.trigger("Destroy");I=L=null;this.unbindAll()}})};c.Uploader.prototype=h.EventTarget.instance;c.File=(function(){var k={};function j(l){c.extend(this,{id:c.guid(),name:l.name||l.fileName,type:l.type||"",size:l.size||l.fileSize,origSize:l.size||l.fileSize,loaded:0,percent:0,status:c.QUEUED,lastModifiedDate:l.lastModifiedDate||(new Date()).toLocaleString(),getNative:function(){var m=this.getSource().getSource();return h.inArray(h.typeOf(m),["blob","file"])!==-1?m:null},getSource:function(){if(!k[this.id]){return null}return k[this.id]},destroy:function(){var m=this.getSource();if(m){m.destroy();delete k[this.id]}}});k[this.id]=l}return j}());c.QueueProgress=function(){var j=this;j.size=0;j.loaded=0;j.uploaded=0;j.failed=0;j.queued=0;j.percent=0;j.bytesPerSec=0;j.reset=function(){j.size=j.loaded=j.uploaded=j.failed=j.queued=j.percent=j.bytesPerSec=0}};f.plupload=c}(window,mOxie));(function(a){a.fn.gRating=function(d,c){d=d||"a";c=c||"#store_rating";var e;var b=this;var f=this.find(d);var g=false;this.find(d).click(function(){g=false;f.removeClass("active");a(this).addClass("active");var h=a(this).data("rate");a(c).val(h)});this.find(d).hover(function(){g=true;e=a(b).find("a.active");e.removeClass("active")},function(){if(g){e.addClass("active")}})}})(jQuery);(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(k){function q(h,l){var x,e,w,u=h.nodeName.toLowerCase();return"area"===u?(x=h.parentNode,e=x.name,h.href&&e&&"map"===x.nodeName.toLowerCase()?(w=k("img[usemap='#"+e+"']")[0],!!w&&g(w)):!1):(/input|select|textarea|button|object/.test(u)?!h.disabled:"a"===u?h.href||l:l)&&g(h)}function g(a){return k.expr.filters.visible(a)&&!k(a).parents().addBack().filter(function(){return"hidden"===k.css(this,"visibility")}).length}k.ui=k.ui||{},k.extend(k.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),k.fn.extend({scrollParent:function(l){var h=this.css("position"),o="absolute"===h,r=l?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var a=k(this);return o&&"static"===a.css("position")?!1:r.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==h&&e.length?e:k(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&k(this).removeAttr("id")})}}),k.extend(k.expr[":"],{data:k.expr.createPseudo?k.expr.createPseudo(function(a){return function(e){return !!k.data(e,a)}}):function(e,a,h){return !!k.data(e,h[3])},focusable:function(a){return q(a,!isNaN(k.attr(a,"tabindex")))},tabbable:function(a){var e=k.attr(a,"tabindex"),h=isNaN(e);return(h||e>=0)&&q(a,!h)}}),k("<a>").outerWidth(1).jquery||k.each(["Width","Height"],function(l,h){function r(x,o,y,n){return k.each(w,function(){o-=parseFloat(k.css(x,"padding"+this))||0,y&&(o-=parseFloat(k.css(x,"border"+this+"Width"))||0),n&&(o-=parseFloat(k.css(x,"margin"+this))||0)}),o}var w="Width"===h?["Left","Right"]:["Top","Bottom"],e=h.toLowerCase(),u={innerWidth:k.fn.innerWidth,innerHeight:k.fn.innerHeight,outerWidth:k.fn.outerWidth,outerHeight:k.fn.outerHeight};k.fn["inner"+h]=function(a){return void 0===a?u["inner"+h].call(this):this.each(function(){k(this).css(e,r(this,a)+"px")})},k.fn["outer"+h]=function(a,o){return"number"!=typeof a?u["outer"+h].call(this,a):this.each(function(){k(this).css(e,r(this,a,!0,o)+"px")})}}),k.fn.addBack||(k.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),k("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(k.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,k.camelCase(e)):a.call(this)}}(k.fn.removeData)),k.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),k.fn.extend({focus:function(a){return function(e,h){return"number"==typeof e?this.each(function(){var l=this;setTimeout(function(){k(l).focus(),h&&h.call(l)},e)}):a.apply(this,arguments)}}(k.fn.focus),disableSelection:function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(h){h.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e){return this.css("zIndex",e)}if(this.length){for(var a,h,l=k(this[0]);l.length&&l[0]!==document;){if(a=l.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(h=parseInt(l.css("zIndex"),10),!isNaN(h)&&0!==h)){return h}l=l.parent()}}return 0}}),k.ui.plugin={add:function(l,h,o){var r,e=k.ui[l].prototype;for(r in o){e.plugins[r]=e.plugins[r]||[],e.plugins[r].push([h,o[r]])}},call:function(u,o,l,r){var w,h=u.plugins[o];if(h&&(r||u.element[0].parentNode&&11!==u.element[0].parentNode.nodeType)){for(w=0;h.length>w;w++){u.options[h[w][0]]&&h[w][1].apply(u.element,l)}}}};var v=0,d=Array.prototype.slice;k.cleanData=function(a){return function(h){var l,u,e;for(e=0;null!=(u=h[e]);e++){try{l=k._data(u,"events"),l&&l.remove&&k(u).triggerHandler("remove")}catch(r){}}a(h)}}(k.cleanData),k.widget=function(B,y,C){var w,A,u,e,z={},x=B.split(".")[0];return B=B.split(".")[1],w=x+"-"+B,C||(C=y,y=k.Widget),k.expr[":"][w.toLowerCase()]=function(a){return !!k.data(a,w)},k[x]=k[x]||{},A=k[x][B],u=k[x][B]=function(h,a){return this._createWidget?(arguments.length&&this._createWidget(h,a),void 0):new u(h,a)},k.extend(u,A,{version:C.version,_proto:k.extend({},C),_childConstructors:[]}),e=new y,e.options=k.widget.extend({},e.options),k.each(C,function(a,h){return k.isFunction(h)?(z[a]=function(){var l=function(){return y.prototype[a].apply(this,arguments)},o=function(n){return y.prototype[a].apply(this,n)};return function(){var s,r=this._super,n=this._superApply;return this._super=l,this._superApply=o,s=h.apply(this,arguments),this._super=r,this._superApply=n,s}}(),void 0):(z[a]=h,void 0)}),u.prototype=k.widget.extend(e,{widgetEventPrefix:A?e.widgetEventPrefix||B:B},z,{constructor:u,namespace:x,widgetName:B,widgetFullName:w}),A?(k.each(A._childConstructors,function(h,a){var l=a.prototype;k.widget(l.namespace+"."+l.widgetName,u,a._proto)}),delete A._childConstructors):y._childConstructors.push(u),k.widget.bridge(B,u),u},k.widget.extend=function(l){for(var h,n,e=d.call(arguments,1),w=0,u=e.length;u>w;w++){for(h in e[w]){n=e[w][h],e[w].hasOwnProperty(h)&&void 0!==n&&(l[h]=k.isPlainObject(n)?k.isPlainObject(l[h])?k.widget.extend({},l[h],n):k.widget.extend({},n):n)}}return l},k.widget.bridge=function(e,a){var h=a.prototype.widgetFullName||e;k.fn[e]=function(l){var u="string"==typeof l,s=d.call(arguments,1),n=this;return l=!u&&s.length?k.widget.extend.apply(null,[l].concat(s)):l,u?this.each(function(){var o,r=k.data(this,h);return"instance"===l?(n=r,!1):r?k.isFunction(r[l])&&"_"!==l.charAt(0)?(o=r[l].apply(r,s),o!==r&&void 0!==o?(n=o&&o.jquery?n.pushStack(o.get()):o,!1):void 0):k.error("no such method '"+l+"' for "+e+" widget instance"):k.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+l+"'")}):this.each(function(){var o=k.data(this,h);o?(o.option(l||{}),o._init&&o._init()):k.data(this,h,new a(l,this))}),n}},k.Widget=function(){},k.Widget._childConstructors=[],k.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,a){a=k(a||this.defaultElement||this)[0],this.element=k(a),this.uuid=v++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=k(),this.hoverable=k(),this.focusable=k(),a!==this&&(k.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===a&&this.destroy()}}),this.document=k(a.style?a.ownerDocument:a.document||a),this.window=k(this.document[0].defaultView||this.document[0].parentWindow)),this.options=k.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:k.noop,_getCreateEventData:k.noop,_create:k.noop,_init:k.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(k.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:k.noop,widget:function(){return this.element},option:function(l,h){var r,w,e,u=l;if(0===arguments.length){return k.widget.extend({},this.options)}if("string"==typeof l){if(u={},r=l.split("."),l=r.shift(),r.length){for(w=u[l]=k.widget.extend({},this.options[l]),e=0;r.length-1>e;e++){w[r[e]]=w[r[e]]||{},w=w[r[e]]}if(l=r.pop(),1===arguments.length){return void 0===w[l]?null:w[l]}w[l]=h}else{if(1===arguments.length){return void 0===this.options[l]?null:this.options[l]}u[l]=h}}return this._setOptions(u),this},_setOptions:function(h){var a;for(a in h){this._setOption(a,h[a])}return this},_setOption:function(h,a){return this.options[h]=a,"disabled"===h&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!a),a&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(l,h,o){var r,e=this;"boolean"!=typeof l&&(o=h,h=l,l=!1),o?(h=r=k(h),this.bindings=this.bindings.add(h)):(o=h,h=this.element,r=this.widget()),k.each(o,function(x,z){function y(){return l||e.options.disabled!==!0&&!k(this).hasClass("ui-state-disabled")?("string"==typeof z?e[z]:z).apply(e,arguments):void 0}"string"!=typeof z&&(y.guid=z.guid=z.guid||y.guid||k.guid++);var w=x.match(/^([\w:-]*)\s*(.*)$/),a=w[1]+e.eventNamespace,n=w[2];n?r.delegate(n,a,y):h.bind(a,y)})},_off:function(e,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(a).undelegate(a),this.bindings=k(this.bindings.not(e).get()),this.focusable=k(this.focusable.not(e).get()),this.hoverable=k(this.hoverable.not(e).get())},_delay:function(n,h){function a(){return("string"==typeof n?l[n]:n).apply(l,arguments)}var l=this;return setTimeout(a,h||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(e){k(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){k(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(e){k(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){k(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,h,r){var w,e,u=this.options[l];if(r=r||{},h=k.Event(h),h.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),h.target=this.element[0],e=h.originalEvent){for(w in e){w in h||(h[w]=e[w])}}return this.element.trigger(h,r),!(k.isFunction(u)&&u.apply(this.element[0],[h].concat(r))===!1||h.isDefaultPrevented())}},k.each({show:"fadeIn",hide:"fadeOut"},function(e,a){k.Widget.prototype["_"+e]=function(l,x,h){"string"==typeof x&&(x={effect:x});var w,u=x?x===!0||"number"==typeof x?a:x.effect||a:e;x=x||{},"number"==typeof x&&(x={duration:x}),w=!k.isEmptyObject(x),x.complete=h,x.delay&&l.delay(x.delay),w&&k.effects&&k.effects.effect[u]?l[e](x):u!==e&&l[u]?l[u](x.duration,x.easing,h):l.queue(function(n){k(this)[e](),h&&h.call(l[0]),n()})}}),k.widget;var m=!1;k(document).mouseup(function(){m=!1}),k.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(h){return a._mouseDown(h)}).bind("click."+this.widgetName,function(e){return !0===k.data(e.target,a.widgetName+".preventClickEvent")?(k.removeData(e.target,a.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!m){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var a=this,h=1===e.which,l="string"==typeof this.options.cancel&&e.target.nodeName?k(e.target).closest(this.options.cancel).length:!1;return h&&!l&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===k.data(e.target,this.widgetName+".preventClickEvent")&&k.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return a._mouseMove(n)},this._mouseUpDelegate=function(n){return a._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),m=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(k.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button){return this._mouseUp(a)}if(!a.which){return this._mouseUp(a)}}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&k.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),m=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}}),function(){function H(l,h,a){return[parseFloat(l[0])*(w.test(l[0])?h/100:1),parseFloat(l[1])*(w.test(l[1])?a/100:1)]}function A(h,a){return parseInt(k.css(h,a),10)||0}function I(h){var a=h[0];return 9===a.nodeType?{width:h.width(),height:h.height(),offset:{top:0,left:0}}:k.isWindow(a)?{width:h.width(),height:h.height(),offset:{top:h.scrollTop(),left:h.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:h.outerWidth(),height:h.outerHeight(),offset:h.offset()}}k.ui=k.ui||{};var y,F,x=Math.max,e=Math.abs,B=Math.round,z=/left|center|right/,G=/top|center|bottom/,D=/[\+\-]\d+(\.[\d]+)?%?/,E=/^\w+/,w=/%$/,C=k.fn.position;k.position={scrollbarWidth:function(){if(void 0!==y){return y}var n,l,o=k("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),h=o.children()[0];return k("body").append(o),n=h.offsetWidth,o.css("overflow","scroll"),l=h.offsetWidth,n===l&&(l=o[0].clientWidth),o.remove(),y=n-l},getScrollInfo:function(o){var l=o.isWindow||o.isDocument?"":o.element.css("overflow-x"),r=o.isWindow||o.isDocument?"":o.element.css("overflow-y"),u="scroll"===l||"auto"===l&&o.width<o.element[0].scrollWidth,h="scroll"===r||"auto"===r&&o.height<o.element[0].scrollHeight;return{width:h?k.position.scrollbarWidth():0,height:u?k.position.scrollbarWidth():0}},getWithinInfo:function(h){var a=k(h||window),l=k.isWindow(a[0]),o=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:l,isDocument:o,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:l||o?a.width():a.outerWidth(),height:l||o?a.height():a.outerHeight()}}},k.fn.position=function(h){if(!h||!h.of){return C.apply(this,arguments)}h=k.extend({},h);var a,l,s,N,u,J,M=k(h.of),K=k.position.getWithinInfo(h.within),L=k.position.getScrollInfo(K),r=(h.collision||"flip").split(" "),o={};return J=I(M),M[0].preventDefault&&(h.at="left top"),l=J.width,s=J.height,N=J.offset,u=k.extend({},N),k.each(["my","at"],function(){var P,O,n=(h[this]||"").split(" ");1===n.length&&(n=z.test(n[0])?n.concat(["center"]):G.test(n[0])?["center"].concat(n):["center","center"]),n[0]=z.test(n[0])?n[0]:"center",n[1]=G.test(n[1])?n[1]:"center",P=D.exec(n[0]),O=D.exec(n[1]),o[this]=[P?P[0]:0,O?O[0]:0],h[this]=[E.exec(n[0])[0],E.exec(n[1])[0]]}),1===r.length&&(r[1]=r[0]),"right"===h.at[0]?u.left+=l:"center"===h.at[0]&&(u.left+=l/2),"bottom"===h.at[1]?u.top+=s:"center"===h.at[1]&&(u.top+=s/2),a=H(o.at,l,s),u.left+=a[0],u.top+=a[1],this.each(function(){var Y,O,X=k(this),U=X.outerWidth(),V=X.outerHeight(),Q=A(this,"marginLeft"),W=A(this,"marginTop"),n=U+Q+A(this,"marginRight")+L.width,P=V+W+A(this,"marginBottom")+L.height,R=k.extend({},u),T=H(o.my,X.outerWidth(),X.outerHeight());"right"===h.my[0]?R.left-=U:"center"===h.my[0]&&(R.left-=U/2),"bottom"===h.my[1]?R.top-=V:"center"===h.my[1]&&(R.top-=V/2),R.left+=T[0],R.top+=T[1],F||(R.left=B(R.left),R.top=B(R.top)),Y={marginLeft:Q,marginTop:W},k.each(["left","top"],function(Z,S){k.ui.position[r[Z]]&&k.ui.position[r[Z]][S](R,{targetWidth:l,targetHeight:s,elemWidth:U,elemHeight:V,collisionPosition:Y,collisionWidth:n,collisionHeight:P,offset:[a[0]+T[0],a[1]+T[1]],my:h.my,at:h.at,within:K,elem:X})}),h.using&&(O=function(ad){var aa=N.left-R.left,Z=aa+l-U,ac=N.top-R.top,S=ac+s-V,ab={target:{element:M,left:N.left,top:N.top,width:l,height:s},element:{element:X,left:R.left,top:R.top,width:U,height:V},horizontal:0>Z?"left":aa>0?"right":"center",vertical:0>S?"top":ac>0?"bottom":"middle"};U>l&&l>e(aa+Z)&&(ab.horizontal="center"),V>s&&s>e(ac+S)&&(ab.vertical="middle"),ab.important=x(e(aa),e(Z))>x(e(ac),e(S))?"horizontal":"vertical",h.using.call(this,ad,ab)}),X.offset(k.extend(R,{using:O}))})},k.ui.position={fit:{left:function(M,O){var K,P=O.within,u=P.isWindow?P.scrollLeft:P.offset.left,N=P.width,o=M.left-O.collisionPosition.marginLeft,L=u-o,J=o+O.collisionWidth-N-u;O.collisionWidth>N?L>0&&0>=J?(K=M.left+L+O.collisionWidth-N-u,M.left+=L-K):M.left=J>0&&0>=L?u:L>J?u+N-O.collisionWidth:u:L>0?M.left+=L:J>0?M.left-=J:M.left=x(M.left-o,M.left)},top:function(M,O){var K,P=O.within,u=P.isWindow?P.scrollTop:P.offset.top,N=O.within.height,o=M.top-O.collisionPosition.marginTop,L=u-o,J=o+O.collisionHeight-N-u;O.collisionHeight>N?L>0&&0>=J?(K=M.top+L+O.collisionHeight-N-u,M.top+=L-K):M.top=J>0&&0>=L?u:L>J?u+N-O.collisionHeight:u:L>0?M.top+=L:J>0?M.top-=J:M.top=x(M.top-o,M.top)}},flip:{left:function(P,U){var M,V,K=U.within,S=K.offset.left+K.scrollLeft,J=K.width,N=K.isWindow?K.scrollLeft:K.offset.left,L=P.left-U.collisionPosition.marginLeft,T=L-N,Q=L+U.collisionWidth-J-N,R="left"===U.my[0]?-U.elemWidth:"right"===U.my[0]?U.elemWidth:0,r="left"===U.at[0]?U.targetWidth:"right"===U.at[0]?-U.targetWidth:0,O=-2*U.offset[0];0>T?(M=P.left+R+r+O+U.collisionWidth-J-S,(0>M||e(T)>M)&&(P.left+=R+r+O)):Q>0&&(V=P.left-U.collisionPosition.marginLeft+R+r+O-N,(V>0||Q>e(V))&&(P.left+=R+r+O))},top:function(Q,V){var N,W,K=V.within,T=K.offset.top+K.scrollTop,J=K.height,O=K.isWindow?K.scrollTop:K.offset.top,M=Q.top-V.collisionPosition.marginTop,U=M-O,R=M+V.collisionHeight-J-O,S="top"===V.my[1],r=S?-V.elemHeight:"bottom"===V.my[1]?V.elemHeight:0,P="top"===V.at[1]?V.targetHeight:"bottom"===V.at[1]?-V.targetHeight:0,L=-2*V.offset[1];0>U?(W=Q.top+r+P+L+V.collisionHeight-J-T,Q.top+r+P+L>U&&(0>W||e(U)>W)&&(Q.top+=r+P+L)):R>0&&(N=Q.top-V.collisionPosition.marginTop+r+P+L-O,Q.top+r+P+L>R&&(N>0||R>e(N))&&(Q.top+=r+P+L))}},flipfit:{left:function(){k.ui.position.flip.left.apply(this,arguments),k.ui.position.fit.left.apply(this,arguments)},top:function(){k.ui.position.flip.top.apply(this,arguments),k.ui.position.fit.top.apply(this,arguments)}}},function(){var l,a,J,M,L,K=document.getElementsByTagName("body")[0],u=document.createElement("div");l=document.createElement(K?"div":"body"),J={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},K&&k.extend(J,{position:"absolute",left:"-1000px",top:"-1000px"});for(L in J){l.style[L]=J[L]}l.appendChild(u),a=K||document.documentElement,a.insertBefore(l,a.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",M=k(u).offset().left,F=M>10&&11>M,l.innerHTML="",a.removeChild(l)}()}(),k.ui.position,k.widget("ui.draggable",k.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(h,a){this._super(h,a),"handle"===h&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var a=this.options;return this._blurActiveElement(e),this.helper||a.disabled||k(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(a.iframeFix===!0?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var e=k(this);return k("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var a=this.document[0];if(this.handleElement.is(e.target)){try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&k(a.activeElement).blur()}catch(h){}}},_mouseStart:function(e){var a=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),k.ui.ddmanager&&(k.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===k(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),k.ui.ddmanager&&!a.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),k.ui.ddmanager&&k.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(e,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var h=this._uiHash();if(this._trigger("drag",e,h)===!1){return this._mouseUp({}),!1}this.position=h.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",k.ui.ddmanager&&k.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var a=this,h=!1;return k.ui.ddmanager&&!this.options.dropBehaviour&&(h=k.ui.ddmanager.drop(this,e)),this.dropped&&(h=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!h||"valid"===this.options.revert&&h||this.options.revert===!0||k.isFunction(this.options.revert)&&this.options.revert.call(this.element,h)?k(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",e)!==!1&&a._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),k.ui.ddmanager&&k.ui.ddmanager.dragStop(this,a),this.handleElement.is(a.target)&&this.element.focus(),k.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!k(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var a=this.options,h=k.isFunction(a.helper),l=h?k(a.helper.apply(this.element[0],[e])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return l.parents("body").length||l.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),h&&l[0]===this.element[0]&&this._setPositionRelative(),l[0]===this.element[0]||/(fixed|absolute)/.test(l.css("position"))||l.css("position","absolute"),l},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),k.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var h=this.element.position(),a=this._isRootNode(this.scrollParent[0]);return{top:h.top-(parseInt(this.helper.css("top"),10)||0)+(a?0:this.scrollParent.scrollTop()),left:h.left-(parseInt(this.helper.css("left"),10)||0)+(a?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var l,h,o,r=this.options,e=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?(this.containment=[k(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,k(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,k(window).scrollLeft()+k(window).width()-this.helperProportions.width-this.margins.left,k(window).scrollTop()+(k(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,k(e).width()-this.helperProportions.width-this.margins.left,(k(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),h=k(r.containment),o=h[0],o&&(l=/(scroll|auto)/.test(h.css("overflow")),this.containment=[(parseInt(h.css("borderLeftWidth"),10)||0)+(parseInt(h.css("paddingLeft"),10)||0),(parseInt(h.css("borderTopWidth"),10)||0)+(parseInt(h.css("paddingTop"),10)||0),(l?Math.max(o.scrollWidth,o.offsetWidth):o.offsetWidth)-(parseInt(h.css("borderRightWidth"),10)||0)-(parseInt(h.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(l?Math.max(o.scrollHeight,o.offsetHeight):o.offsetHeight)-(parseInt(h.css("borderBottomWidth"),10)||0)-(parseInt(h.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=h),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,h){h||(h=this.position);var a="absolute"===n?1:-1,l=this._isRootNode(this.scrollParent[0]);return{top:h.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top)*a,left:h.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)*a}},_generatePosition:function(B,D){var z,E,x,C,w=this.options,u=this._isRootNode(this.scrollParent[0]),A=B.pageX,y=B.pageY;return u&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),D&&(this.containment&&(this.relativeContainer?(E=this.relativeContainer.offset(),z=[this.containment[0]+E.left,this.containment[1]+E.top,this.containment[2]+E.left,this.containment[3]+E.top]):z=this.containment,B.pageX-this.offset.click.left<z[0]&&(A=z[0]+this.offset.click.left),B.pageY-this.offset.click.top<z[1]&&(y=z[1]+this.offset.click.top),B.pageX-this.offset.click.left>z[2]&&(A=z[2]+this.offset.click.left),B.pageY-this.offset.click.top>z[3]&&(y=z[3]+this.offset.click.top)),w.grid&&(x=w.grid[1]?this.originalPageY+Math.round((y-this.originalPageY)/w.grid[1])*w.grid[1]:this.originalPageY,y=z?x-this.offset.click.top>=z[1]||x-this.offset.click.top>z[3]?x:x-this.offset.click.top>=z[1]?x-w.grid[1]:x+w.grid[1]:x,C=w.grid[0]?this.originalPageX+Math.round((A-this.originalPageX)/w.grid[0])*w.grid[0]:this.originalPageX,A=z?C-this.offset.click.left>=z[0]||C-this.offset.click.left>z[2]?C:C-this.offset.click.left>=z[0]?C-w.grid[0]:C+w.grid[0]:C),"y"===w.axis&&(A=this.originalPageX),"x"===w.axis&&(y=this.originalPageY)),{top:y-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:A-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,a,h){return h=h||this._uiHash(),k.ui.plugin.call(this,e,[a,h,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),h.offset=this.positionAbs),k.Widget.prototype._trigger.call(this,e,a,h)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),k.ui.plugin.add("draggable","connectToSortable",{start:function(e,a,h){var l=k.extend({},a,{item:h.element});h.sortables=[],k(h.options.connectToSortable).each(function(){var n=k(this).sortable("instance");n&&!n.options.disabled&&(h.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,l))})},stop:function(e,a,h){var l=k.extend({},a,{item:h.element});h.cancelHelperRemoval=!1,k.each(h.sortables,function(){var n=this;n.isOver?(n.isOver=0,h.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(e),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",e,l))})},drag:function(e,a,h){k.each(h.sortables,function(){var o=!1,l=this;l.positionAbs=h.positionAbs,l.helperProportions=h.helperProportions,l.offset.click=h.offset.click,l._intersectsWith(l.containerCache)&&(o=!0,k.each(h.sortables,function(){return this.positionAbs=h.positionAbs,this.helperProportions=h.helperProportions,this.offset.click=h.offset.click,this!==l&&this._intersectsWith(this.containerCache)&&k.contains(l.element[0],this.element[0])&&(o=!1),o})),o?(l.isOver||(l.isOver=1,l.currentItem=a.helper.appendTo(l.element).data("ui-sortable-item",!0),l.options._helper=l.options.helper,l.options.helper=function(){return a.helper[0]},e.target=l.currentItem[0],l._mouseCapture(e,!0),l._mouseStart(e,!0,!0),l.offset.click.top=h.offset.click.top,l.offset.click.left=h.offset.click.left,l.offset.parent.left-=h.offset.parent.left-l.offset.parent.left,l.offset.parent.top-=h.offset.parent.top-l.offset.parent.top,h._trigger("toSortable",e),h.dropped=l.element,k.each(h.sortables,function(){this.refreshPositions()}),h.currentItem=h.element,l.fromOutside=h),l.currentItem&&(l._mouseDrag(e),a.position=l.position)):l.isOver&&(l.isOver=0,l.cancelHelperRemoval=!0,l.options._revert=l.options.revert,l.options.revert=!1,l._trigger("out",e,l._uiHash(l)),l._mouseStop(e,!0),l.options.revert=l.options._revert,l.options.helper=l.options._helper,l.placeholder&&l.placeholder.remove(),h._refreshOffsets(e),a.position=h._generatePosition(e,!0),h._trigger("fromSortable",e),h.dropped=!1,k.each(h.sortables,function(){this.refreshPositions()}))})}}),k.ui.plugin.add("draggable","cursor",{start:function(l,h,o){var r=k("body"),e=o.options;r.css("cursor")&&(e._cursor=r.css("cursor")),r.css("cursor",e.cursor)},stop:function(e,a,h){var l=h.options;l._cursor&&k("body").css("cursor",l._cursor)}}),k.ui.plugin.add("draggable","opacity",{start:function(l,h,o){var r=k(h.helper),e=o.options;r.css("opacity")&&(e._opacity=r.css("opacity")),r.css("opacity",e.opacity)},stop:function(e,a,h){var l=h.options;l._opacity&&k(a.helper).css("opacity",l._opacity)}}),k.ui.plugin.add("draggable","scroll",{start:function(l,h,a){a.scrollParentNotHidden||(a.scrollParentNotHidden=a.helper.scrollParent(!1)),a.scrollParentNotHidden[0]!==a.document[0]&&"HTML"!==a.scrollParentNotHidden[0].tagName&&(a.overflowOffset=a.scrollParentNotHidden.offset())},drag:function(l,h,u){var y=u.options,e=!1,x=u.scrollParentNotHidden[0],w=u.document[0];x!==w&&"HTML"!==x.tagName?(y.axis&&"x"===y.axis||(u.overflowOffset.top+x.offsetHeight-l.pageY<y.scrollSensitivity?x.scrollTop=e=x.scrollTop+y.scrollSpeed:l.pageY-u.overflowOffset.top<y.scrollSensitivity&&(x.scrollTop=e=x.scrollTop-y.scrollSpeed)),y.axis&&"y"===y.axis||(u.overflowOffset.left+x.offsetWidth-l.pageX<y.scrollSensitivity?x.scrollLeft=e=x.scrollLeft+y.scrollSpeed:l.pageX-u.overflowOffset.left<y.scrollSensitivity&&(x.scrollLeft=e=x.scrollLeft-y.scrollSpeed))):(y.axis&&"x"===y.axis||(l.pageY-k(w).scrollTop()<y.scrollSensitivity?e=k(w).scrollTop(k(w).scrollTop()-y.scrollSpeed):k(window).height()-(l.pageY-k(w).scrollTop())<y.scrollSensitivity&&(e=k(w).scrollTop(k(w).scrollTop()+y.scrollSpeed))),y.axis&&"y"===y.axis||(l.pageX-k(w).scrollLeft()<y.scrollSensitivity?e=k(w).scrollLeft(k(w).scrollLeft()-y.scrollSpeed):k(window).width()-(l.pageX-k(w).scrollLeft())<y.scrollSensitivity&&(e=k(w).scrollLeft(k(w).scrollLeft()+y.scrollSpeed)))),e!==!1&&k.ui.ddmanager&&!y.dropBehaviour&&k.ui.ddmanager.prepareOffsets(u,l)}}),k.ui.plugin.add("draggable","snap",{start:function(e,a,h){var l=h.options;h.snapElements=[],k(l.snap.constructor!==String?l.snap.items||":data(ui-draggable)":l.snap).each(function(){var o=k(this),n=o.offset();this!==h.element[0]&&h.snapElements.push({item:this,width:o.outerWidth(),height:o.outerHeight(),top:n.top,left:n.left})})},drag:function(z,H,A){var E,O,D,B,I,G,x,L,M,C,K=A.options,F=K.snapTolerance,J=H.offset.left,w=J+A.helperProportions.width,e=H.offset.top,N=e+A.helperProportions.height;for(M=A.snapElements.length-1;M>=0;M--){I=A.snapElements[M].left-A.margins.left,G=I+A.snapElements[M].width,x=A.snapElements[M].top-A.margins.top,L=x+A.snapElements[M].height,I-F>w||J>G+F||x-F>N||e>L+F||!k.contains(A.snapElements[M].item.ownerDocument,A.snapElements[M].item)?(A.snapElements[M].snapping&&A.options.snap.release&&A.options.snap.release.call(A.element,z,k.extend(A._uiHash(),{snapItem:A.snapElements[M].item})),A.snapElements[M].snapping=!1):("inner"!==K.snapMode&&(E=F>=Math.abs(x-N),O=F>=Math.abs(L-e),D=F>=Math.abs(I-w),B=F>=Math.abs(G-J),E&&(H.position.top=A._convertPositionTo("relative",{top:x-A.helperProportions.height,left:0}).top),O&&(H.position.top=A._convertPositionTo("relative",{top:L,left:0}).top),D&&(H.position.left=A._convertPositionTo("relative",{top:0,left:I-A.helperProportions.width}).left),B&&(H.position.left=A._convertPositionTo("relative",{top:0,left:G}).left)),C=E||O||D||B,"outer"!==K.snapMode&&(E=F>=Math.abs(x-e),O=F>=Math.abs(L-N),D=F>=Math.abs(I-J),B=F>=Math.abs(G-w),E&&(H.position.top=A._convertPositionTo("relative",{top:x,left:0}).top),O&&(H.position.top=A._convertPositionTo("relative",{top:L-A.helperProportions.height,left:0}).top),D&&(H.position.left=A._convertPositionTo("relative",{top:0,left:I}).left),B&&(H.position.left=A._convertPositionTo("relative",{top:0,left:G-A.helperProportions.width}).left)),!A.snapElements[M].snapping&&(E||O||D||B||C)&&A.options.snap.snap&&A.options.snap.snap.call(A.element,z,k.extend(A._uiHash(),{snapItem:A.snapElements[M].item})),A.snapElements[M].snapping=E||O||D||B||C)}}}),k.ui.plugin.add("draggable","stack",{start:function(l,h,r){var w,e=r.options,u=k.makeArray(k(e.stack)).sort(function(n,a){return(parseInt(k(n).css("zIndex"),10)||0)-(parseInt(k(a).css("zIndex"),10)||0)});u.length&&(w=parseInt(k(u[0]).css("zIndex"),10)||0,k(u).each(function(a){k(this).css("zIndex",w+a)}),this.css("zIndex",w+u.length))}}),k.ui.plugin.add("draggable","zIndex",{start:function(l,h,o){var r=k(h.helper),e=o.options;r.css("zIndex")&&(e._zIndex=r.css("zIndex")),r.css("zIndex",e.zIndex)},stop:function(e,a,h){var l=h.options;l._zIndex&&k(a.helper).css("zIndex",l._zIndex)}}),k.ui.draggable,k.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,a=this.options,h=a.accept;this.isover=!1,this.isout=!0,this.accept=k.isFunction(h)?h:function(l){return l.is(h)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(a.scope),a.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){k.ui.ddmanager.droppables[a]=k.ui.ddmanager.droppables[a]||[],k.ui.ddmanager.droppables[a].push(this)},_splice:function(h){for(var a=0;h.length>a;a++){h[a]===this&&h.splice(a,1)}},_destroy:function(){var a=k.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,a){if("accept"===e){this.accept=k.isFunction(a)?a:function(l){return l.is(a)}}else{if("scope"===e){var h=k.ui.ddmanager.droppables[this.options.scope];this._splice(h),this._addToManager(a)}}this._super(e,a)},_activate:function(e){var a=k.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),a&&this._trigger("activate",e,this.ui(a))},_deactivate:function(e){var a=k.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),a&&this._trigger("deactivate",e,this.ui(a))},_over:function(e){var a=k.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(a)))},_out:function(e){var a=k.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(a)))},_drop:function(e,a){var h=a||k.ui.ddmanager.current,l=!1;return h&&(h.currentItem||h.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=k(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===h.options.scope&&n.accept.call(n.element[0],h.currentItem||h.element)&&k.ui.intersect(h,k.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(l=!0,!1):void 0}),l?!1:this.accept.call(this.element[0],h.currentItem||h.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(h)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),k.ui.intersect=function(){function a(n,l,h){return n>=l&&l+h>n}return function(F,z,G,x){if(!z.offset){return !1}var D=(F.positionAbs||F.position.absolute).left+F.margins.left,w=(F.positionAbs||F.position.absolute).top+F.margins.top,e=D+F.helperProportions.width,A=w+F.helperProportions.height,y=z.offset.left,E=z.offset.top,B=y+z.proportions().width,C=E+z.proportions().height;switch(G){case"fit":return D>=y&&B>=e&&w>=E&&C>=A;case"intersect":return D+F.helperProportions.width/2>y&&B>e-F.helperProportions.width/2&&w+F.helperProportions.height/2>E&&C>A-F.helperProportions.height/2;case"pointer":return a(x.pageY,E,z.proportions().height)&&a(x.pageX,y,z.proportions().width);case"touch":return(w>=E&&C>=w||A>=E&&C>=A||E>w&&A>C)&&(D>=y&&B>=D||e>=y&&B>=e||y>D&&e>B);default:return !1}}}(),k.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(l,h){var u,y,e=k.ui.ddmanager.droppables[l.options.scope]||[],x=h?h.type:null,w=(l.currentItem||l.element).find(":data(ui-droppable)").addBack();k:for(u=0;e.length>u;u++){if(!(e[u].options.disabled||l&&!e[u].accept.call(e[u].element[0],l.currentItem||l.element))){for(y=0;w.length>y;y++){if(w[y]===e[u].element[0]){e[u].proportions().height=0;continue k}}e[u].visible="none"!==e[u].element.css("display"),e[u].visible&&("mousedown"===x&&e[u]._activate.call(e[u],h),e[u].offset=e[u].element.offset(),e[u].proportions({width:e[u].element[0].offsetWidth,height:e[u].element[0].offsetHeight}))}}},drop:function(e,a){var h=!1;return k.each((k.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&k.ui.intersect(e,this,this.options.tolerance,a)&&(h=this._drop.call(this,a)||h),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,a)))}),h},dragStart:function(e,a){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||k.ui.ddmanager.prepareOffsets(e,a)})},drag:function(e,a){e.options.refreshPositions&&k.ui.ddmanager.prepareOffsets(e,a),k.each(k.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var l,x,h,w=k.ui.intersect(e,this,this.options.tolerance,a),u=!w&&this.isover?"isout":w&&!this.isover?"isover":null;u&&(this.options.greedy&&(x=this.options.scope,h=this.element.parents(":data(ui-droppable)").filter(function(){return k(this).droppable("instance").options.scope===x}),h.length&&(l=k(h[0]).droppable("instance"),l.greedyChild="isover"===u)),l&&"isover"===u&&(l.isover=!1,l.isout=!0,l._out.call(l,a)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,a),l&&"isout"===u&&(l.isout=!1,l.isover=!0,l._over.call(l,a)))}})},dragStop:function(e,a){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||k.ui.ddmanager.prepareOffsets(e,a)}},k.ui.droppable,k.widget("ui.resizable",k.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return !isNaN(parseInt(a,10))},_hasScroll:function(e,a){if("hidden"===k(e).css("overflow")){return !1}var h=a&&"left"===a?"scrollLeft":"scrollTop",l=!1;return e[h]>0?!0:(e[h]=1,l=e[h]>0,e[h]=0,l)},_create:function(){var l,h,u,y,e,x=this,w=this.options;if(this.element.addClass("ui-resizable"),k.extend(this,{_aspectRatio:!!w.aspectRatio,aspectRatio:w.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:w.helper||w.ghost||w.animate?w.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(k("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=w.handles||(k(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),l=this.handles.split(","),this.handles={},h=0;l.length>h;h++){u=k.trim(l[h]),e="ui-resizable-"+u,y=k("<div class='ui-resizable-handle "+e+"'></div>"),y.css({zIndex:w.zIndex}),"se"===u&&y.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[u]=".ui-resizable-"+u,this.element.append(y)}}this._renderAxis=function(z){var r,A,B,o;z=z||this.element;for(r in this.handles){this.handles[r].constructor===String&&(this.handles[r]=this.element.children(this.handles[r]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(A=k(this.handles[r],this.element),o=/sw|ne|nw|se|n|s/.test(r)?A.outerHeight():A.outerWidth(),B=["padding",/ne|nw|n/.test(r)?"Top":/se|sw|s/.test(r)?"Bottom":/^e$/.test(r)?"Right":"Left"].join(""),z.css(B,o),this._proportionallyResize()),k(this.handles[r]).length}},this._renderAxis(this.element),this._handles=k(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){x.resizing||(this.className&&(y=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),x.axis=y&&y[1]?y[1]:"se")}),w.autoHide&&(this._handles.hide(),k(this.element).addClass("ui-resizable-autohide").mouseenter(function(){w.disabled||(k(this).removeClass("ui-resizable-autohide"),x._handles.show())}).mouseleave(function(){w.disabled||x.resizing||(k(this).addClass("ui-resizable-autohide"),x._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,a=function(h){k(h).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(e){var a,h,l=!1;for(a in this.handles){h=k(this.handles[a])[0],(h===e.target||k.contains(h,e.target))&&(l=!0)}return !this.options.disabled&&l},_mouseStart:function(l){var h,r,w,e=this.options,u=this.element;return this.resizing=!0,this._renderProxy(),h=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),e.containment&&(h+=k(e.containment).scrollLeft()||0,r+=k(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:h,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:u.width(),height:u.height()},this.originalSize=this._helper?{width:u.outerWidth(),height:u.outerHeight()}:{width:u.width(),height:u.height()},this.sizeDiff={width:u.outerWidth()-u.width(),height:u.outerHeight()-u.height()},this.originalPosition={left:h,top:r},this.originalMousePosition={left:l.pageX,top:l.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1,w=k(".ui-resizable-"+this.axis).css("cursor"),k("body").css("cursor","auto"===w?this.axis+"-resize":w),u.addClass("ui-resizable-resizing"),this._propagate("start",l),!0},_mouseDrag:function(u){var l,x,A=this.originalMousePosition,e=this.axis,z=u.pageX-A.left||0,y=u.pageY-A.top||0,w=this._change[e];return this._updatePrevProperties(),w?(l=w.apply(this,[u,z,y]),this._updateVirtualBoundaries(u.shiftKey),(this._aspectRatio||u.shiftKey)&&(l=this._updateRatio(l,u)),l=this._respectSize(l,u),this._updateCache(l),this._propagate("resize",u),x=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),k.isEmptyObject(x)||(this._updatePrevProperties(),this._trigger("resize",u,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(D){this.resizing=!1;var z,E,x,B,w,e,A,y=this.options,C=this;return this._helper&&(z=this._proportionallyResizeElements,E=z.length&&/textarea/i.test(z[0].nodeName),x=E&&this._hasScroll(z[0],"left")?0:C.sizeDiff.height,B=E?0:C.sizeDiff.width,w={width:C.helper.width()-B,height:C.helper.height()-x},e=parseInt(C.element.css("left"),10)+(C.position.left-C.originalPosition.left)||null,A=parseInt(C.element.css("top"),10)+(C.position.top-C.originalPosition.top)||null,y.animate||this.element.css(k.extend(w,{top:A,left:e})),C.helper.height(C.size.height),C.helper.width(C.size.width),this._helper&&!y.animate&&this._proportionallyResize()),k("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",D),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(w){var r,l,u,y,h,x=this.options;h={minWidth:this._isNumber(x.minWidth)?x.minWidth:0,maxWidth:this._isNumber(x.maxWidth)?x.maxWidth:1/0,minHeight:this._isNumber(x.minHeight)?x.minHeight:0,maxHeight:this._isNumber(x.maxHeight)?x.maxHeight:1/0},(this._aspectRatio||w)&&(r=h.minHeight*this.aspectRatio,u=h.minWidth/this.aspectRatio,l=h.maxHeight*this.aspectRatio,y=h.maxWidth/this.aspectRatio,r>h.minWidth&&(h.minWidth=r),u>h.minHeight&&(h.minHeight=u),h.maxWidth>l&&(h.maxWidth=l),h.maxHeight>y&&(h.maxHeight=y)),this._vBoundaries=h},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(n){var h=this.position,a=this.size,l=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===l&&(n.left=h.left+(a.width-n.width),n.top=null),"nw"===l&&(n.top=h.top+(a.height-n.height),n.left=h.left+(a.width-n.width)),n},_respectSize:function(C){var F=this._vBoundaries,A=this.axis,G=this._isNumber(C.width)&&F.maxWidth&&F.maxWidth<C.width,y=this._isNumber(C.height)&&F.maxHeight&&F.maxHeight<C.height,D=this._isNumber(C.width)&&F.minWidth&&F.minWidth>C.width,x=this._isNumber(C.height)&&F.minHeight&&F.minHeight>C.height,w=this.originalPosition.left+this.originalSize.width,B=this.position.top+this.size.height,z=/sw|nw|w/.test(A),E=/nw|ne|n/.test(A);return D&&(C.width=F.minWidth),x&&(C.height=F.minHeight),G&&(C.width=F.maxWidth),y&&(C.height=F.maxHeight),D&&z&&(C.left=w-F.minWidth),G&&z&&(C.left=w-F.maxWidth),x&&E&&(C.top=B-F.minHeight),y&&E&&(C.top=B-F.maxHeight),C.width||C.height||C.left||!C.top?C.width||C.height||C.top||!C.left||(C.left=null):C.top=null,C},_getPaddingPlusBorderDimensions:function(o){for(var h=0,a=[],l=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],r=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")];4>h;h++){a[h]=parseInt(l[h],10)||0,a[h]+=parseInt(r[h],10)||0}return{height:a[0]+a[2],width:a[1]+a[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var l,h=0,a=this.helper||this.element;this._proportionallyResizeElements.length>h;h++){l=this._proportionallyResizeElements[h],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(l)),l.css({height:a.height()-this.outerDimensions.height||0,width:a.width()-this.outerDimensions.width||0})}}},_renderProxy:function(){var e=this.element,a=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||k("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(h,a){return{width:this.originalSize.width+a}},w:function(n,h){var a=this.originalSize,l=this.originalPosition;return{left:l.left+h,width:a.width-h}},n:function(o,h,a){var l=this.originalSize,r=this.originalPosition;return{top:r.top+a,height:l.height-a}},s:function(l,h,a){return{height:this.originalSize.height+a}},se:function(e,a,h){return k.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,a,h]))},sw:function(e,a,h){return k.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,a,h]))},ne:function(e,a,h){return k.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,a,h]))},nw:function(e,a,h){return k.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,a,h]))}},_propagate:function(e,a){k.ui.plugin.call(this,e,[a,this.ui()]),"resize"!==e&&this._trigger(e,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),k.ui.plugin.add("resizable","animate",{stop:function(D){var z=k(this).resizable("instance"),E=z.options,x=z._proportionallyResizeElements,B=x.length&&/textarea/i.test(x[0].nodeName),w=B&&z._hasScroll(x[0],"left")?0:z.sizeDiff.height,e=B?0:z.sizeDiff.width,A={width:z.size.width-e,height:z.size.height-w},y=parseInt(z.element.css("left"),10)+(z.position.left-z.originalPosition.left)||null,C=parseInt(z.element.css("top"),10)+(z.position.top-z.originalPosition.top)||null;z.element.animate(k.extend(A,C&&y?{top:C,left:y}:{}),{duration:E.animateDuration,easing:E.animateEasing,step:function(){var a={width:parseInt(z.element.css("width"),10),height:parseInt(z.element.css("height"),10),top:parseInt(z.element.css("top"),10),left:parseInt(z.element.css("left"),10)};x&&x.length&&k(x[0]).css({width:a.width,height:a.height}),z._updateCache(a),z._propagate("resize",D)}})}}),k.ui.plugin.add("resizable","containment",{start:function(){var F,z,G,x,D,w,e,A=k(this).resizable("instance"),y=A.options,E=A.element,B=y.containment,C=B instanceof k?B.get(0):/parent/.test(B)?E.parent().get(0):B;C&&(A.containerElement=k(C),/document/.test(B)||B===document?(A.containerOffset={left:0,top:0},A.containerPosition={left:0,top:0},A.parentData={element:k(document),left:0,top:0,width:k(document).width(),height:k(document).height()||document.body.parentNode.scrollHeight}):(F=k(C),z=[],k(["Top","Right","Left","Bottom"]).each(function(h,a){z[h]=A._num(F.css("padding"+a))}),A.containerOffset=F.offset(),A.containerPosition=F.position(),A.containerSize={height:F.innerHeight()-z[3],width:F.innerWidth()-z[1]},G=A.containerOffset,x=A.containerSize.height,D=A.containerSize.width,w=A._hasScroll(C,"left")?C.scrollWidth:D,e=A._hasScroll(C)?C.scrollHeight:x,A.parentData={element:C,left:G.left,top:G.top,width:w,height:e}))},resize:function(G){var A,H,y,E,x=k(this).resizable("instance"),e=x.options,B=x.containerOffset,z=x.position,F=x._aspectRatio||G.shiftKey,C={top:0,left:0},D=x.containerElement,w=!0;D[0]!==document&&/static/.test(D.css("position"))&&(C=B),z.left<(x._helper?B.left:0)&&(x.size.width=x.size.width+(x._helper?x.position.left-B.left:x.position.left-C.left),F&&(x.size.height=x.size.width/x.aspectRatio,w=!1),x.position.left=e.helper?B.left:0),z.top<(x._helper?B.top:0)&&(x.size.height=x.size.height+(x._helper?x.position.top-B.top:x.position.top),F&&(x.size.width=x.size.height*x.aspectRatio,w=!1),x.position.top=x._helper?B.top:0),y=x.containerElement.get(0)===x.element.parent().get(0),E=/relative|absolute/.test(x.containerElement.css("position")),y&&E?(x.offset.left=x.parentData.left+x.position.left,x.offset.top=x.parentData.top+x.position.top):(x.offset.left=x.element.offset().left,x.offset.top=x.element.offset().top),A=Math.abs(x.sizeDiff.width+(x._helper?x.offset.left-C.left:x.offset.left-B.left)),H=Math.abs(x.sizeDiff.height+(x._helper?x.offset.top-C.top:x.offset.top-B.top)),A+x.size.width>=x.parentData.width&&(x.size.width=x.parentData.width-A,F&&(x.size.height=x.size.width/x.aspectRatio,w=!1)),H+x.size.height>=x.parentData.height&&(x.size.height=x.parentData.height-H,F&&(x.size.width=x.size.height*x.aspectRatio,w=!1)),w||(x.position.left=x.prevPosition.left,x.position.top=x.prevPosition.top,x.size.width=x.prevSize.width,x.size.height=x.prevSize.height)},stop:function(){var B=k(this).resizable("instance"),y=B.options,C=B.containerOffset,w=B.containerPosition,A=B.containerElement,u=k(B.helper),e=u.offset(),z=u.outerWidth()-B.sizeDiff.width,x=u.outerHeight()-B.sizeDiff.height;B._helper&&!y.animate&&/relative/.test(A.css("position"))&&k(this).css({left:e.left-w.left-C.left,width:z,height:x}),B._helper&&!y.animate&&/static/.test(A.css("position"))&&k(this).css({left:e.left-w.left-C.left,width:z,height:x})}}),k.ui.plugin.add("resizable","alsoResize",{start:function(){var e=k(this).resizable("instance"),a=e.options,h=function(l){k(l).each(function(){var n=k(this);n.data("ui-resizable-alsoresize",{width:parseInt(n.width(),10),height:parseInt(n.height(),10),left:parseInt(n.css("left"),10),top:parseInt(n.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?h(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],h(a.alsoResize)):k.each(a.alsoResize,function(l){h(l)})},resize:function(u,l){var x=k(this).resizable("instance"),A=x.options,e=x.originalSize,z=x.originalPosition,y={height:x.size.height-e.height||0,width:x.size.width-e.width||0,top:x.position.top-z.top||0,left:x.position.left-z.left||0},w=function(a,h){k(a).each(function(){var s=k(this),C=k(this).data("ui-resizable-alsoresize"),r={},B=h&&h.length?h:s.parents(l.originalElement[0]).length?["width","height"]:["width","height","top","left"];k.each(B,function(D,o){var n=(C[o]||0)+(y[o]||0);n&&n>=0&&(r[o]=n||null)}),s.css(r)})};"object"!=typeof A.alsoResize||A.alsoResize.nodeType?w(A.alsoResize):k.each(A.alsoResize,function(h,a){w(h,a)})},stop:function(){k(this).removeData("resizable-alsoresize")}}),k.ui.plugin.add("resizable","ghost",{start:function(){var e=k(this).resizable("instance"),a=e.options,h=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:0.25,display:"block",position:"relative",height:h.height,width:h.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var a=k(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=k(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),k.ui.plugin.add("resizable","grid",{resize:function(){var z,H=k(this).resizable("instance"),A=H.options,E=H.size,N=H.originalSize,D=H.originalPosition,B=H.axis,I="number"==typeof A.grid?[A.grid,A.grid]:A.grid,G=I[0]||1,x=I[1]||1,L=Math.round((E.width-N.width)/G)*G,M=Math.round((E.height-N.height)/x)*x,C=N.width+L,K=N.height+M,F=A.maxWidth&&C>A.maxWidth,J=A.maxHeight&&K>A.maxHeight,w=A.minWidth&&A.minWidth>C,e=A.minHeight&&A.minHeight>K;A.grid=I,w&&(C+=G),e&&(K+=x),F&&(C-=G),J&&(K-=x),/^(se|s|e)$/.test(B)?(H.size.width=C,H.size.height=K):/^(ne)$/.test(B)?(H.size.width=C,H.size.height=K,H.position.top=D.top-M):/^(sw)$/.test(B)?(H.size.width=C,H.size.height=K,H.position.left=D.left-L):((0>=K-x||0>=C-G)&&(z=H._getPaddingPlusBorderDimensions(this)),K-x>0?(H.size.height=K,H.position.top=D.top-M):(K=x-z.height,H.size.height=K,H.position.top=D.top+N.height-K),C-G>0?(H.size.width=C,H.position.left=D.left-L):(C=x-z.height,H.size.width=C,H.position.left=D.left+N.width-C))}}),k.ui.resizable,k.widget("ui.selectable",k.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,a=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=k(a.options.filter,a.element[0]),e.addClass("ui-selectee"),e.each(function(){var l=k(this),h=l.offset();k.data(this,"selectable-item",{element:this,$element:l,left:h.left,top:h.top,right:h.left+l.outerWidth(),bottom:h.top+l.outerHeight(),startselected:!1,selected:l.hasClass("ui-selected"),selecting:l.hasClass("ui-selecting"),unselecting:l.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=k("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var a=this,h=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=k(h.filter,this.element[0]),this._trigger("start",e),k(h.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),h.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var l=k.data(this,"selectable-item");l.startselected=!0,e.metaKey||e.ctrlKey||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,a._trigger("unselecting",e,{unselecting:l.element}))}),k(e.target).parents().addBack().each(function(){var l,o=k.data(this,"selectable-item");return o?(l=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(l?"ui-unselecting":"ui-selected").addClass(l?"ui-selecting":"ui-unselecting"),o.unselecting=!l,o.selecting=l,o.selected=l,l?a._trigger("selecting",e,{selecting:o.element}):a._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(u){if(this.dragged=!0,!this.options.disabled){var l,x=this,A=this.options,e=this.opos[0],z=this.opos[1],y=u.pageX,w=u.pageY;return e>y&&(l=y,y=e,e=l),z>w&&(l=w,w=z,z=l),this.helper.css({left:e,top:z,width:y-e,height:w-z}),this.selectees.each(function(){var h=k.data(this,"selectable-item"),a=!1;h&&h.element!==x.element[0]&&("touch"===A.tolerance?a=!(h.left>y||e>h.right||h.top>w||z>h.bottom):"fit"===A.tolerance&&(a=h.left>e&&y>h.right&&h.top>z&&w>h.bottom),a?(h.selected&&(h.$element.removeClass("ui-selected"),h.selected=!1),h.unselecting&&(h.$element.removeClass("ui-unselecting"),h.unselecting=!1),h.selecting||(h.$element.addClass("ui-selecting"),h.selecting=!0,x._trigger("selecting",u,{selecting:h.element}))):(h.selecting&&((u.metaKey||u.ctrlKey)&&h.startselected?(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.$element.addClass("ui-selected"),h.selected=!0):(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.startselected&&(h.$element.addClass("ui-unselecting"),h.unselecting=!0),x._trigger("unselecting",u,{unselecting:h.element}))),h.selected&&(u.metaKey||u.ctrlKey||h.startselected||(h.$element.removeClass("ui-selected"),h.selected=!1,h.$element.addClass("ui-unselecting"),h.unselecting=!0,x._trigger("unselecting",u,{unselecting:h.element})))))}),!1}},_mouseStop:function(e){var a=this;return this.dragged=!1,k(".ui-unselecting",this.element[0]).each(function(){var h=k.data(this,"selectable-item");h.$element.removeClass("ui-unselecting"),h.unselecting=!1,h.startselected=!1,a._trigger("unselected",e,{unselected:h.element})}),k(".ui-selecting",this.element[0]).each(function(){var h=k.data(this,"selectable-item");h.$element.removeClass("ui-selecting").addClass("ui-selected"),h.selecting=!1,h.selected=!0,h.startselected=!0,a._trigger("selected",e,{selected:h.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),k.widget("ui.sortable",k.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(l,h,a){return l>=h&&h+a>l},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(h,a){this._super(h,a),"handle"===h&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),k.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(l,h){var o=null,r=!1,e=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(l),k(l.target).parents().each(function(){return k.data(this,e.widgetName+"-item")===e?(o=k(this),!1):void 0}),k.data(l.target,e.widgetName+"-item")===e&&(o=k(l.target)),o?!this.options.handle||h||(k(this.options.handle,o).find("*").addBack().each(function(){this===l.target&&(r=!0)}),r)?(this.currentItem=o,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(l,h,r){var w,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(l),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},k.extend(this.offset,{click:{left:l.pageX-this.offset.left,top:l.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(l),this.originalPageX=l.pageX,this.originalPageY=l.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=k("<style>*{ cursor: "+u.cursor+" !important; }</style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",l,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r){for(w=this.containers.length-1;w>=0;w--){this.containers[w]._trigger("activate",l,this._uiHash(this))}}return k.ui.ddmanager&&(k.ui.ddmanager.current=this),k.ui.ddmanager&&!u.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,l),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(l),!0},_mouseDrag:function(l){var h,u,y,e,x=this.options,w=!1;for(this.position=this._generatePosition(l),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-l.pageY<x.scrollSensitivity?this.scrollParent[0].scrollTop=w=this.scrollParent[0].scrollTop+x.scrollSpeed:l.pageY-this.overflowOffset.top<x.scrollSensitivity&&(this.scrollParent[0].scrollTop=w=this.scrollParent[0].scrollTop-x.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-l.pageX<x.scrollSensitivity?this.scrollParent[0].scrollLeft=w=this.scrollParent[0].scrollLeft+x.scrollSpeed:l.pageX-this.overflowOffset.left<x.scrollSensitivity&&(this.scrollParent[0].scrollLeft=w=this.scrollParent[0].scrollLeft-x.scrollSpeed)):(l.pageY-k(document).scrollTop()<x.scrollSensitivity?w=k(document).scrollTop(k(document).scrollTop()-x.scrollSpeed):k(window).height()-(l.pageY-k(document).scrollTop())<x.scrollSensitivity&&(w=k(document).scrollTop(k(document).scrollTop()+x.scrollSpeed)),l.pageX-k(document).scrollLeft()<x.scrollSensitivity?w=k(document).scrollLeft(k(document).scrollLeft()-x.scrollSpeed):k(window).width()-(l.pageX-k(document).scrollLeft())<x.scrollSensitivity&&(w=k(document).scrollLeft(k(document).scrollLeft()+x.scrollSpeed))),w!==!1&&k.ui.ddmanager&&!x.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,l)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),h=this.items.length-1;h>=0;h--){if(u=this.items[h],y=u.item[0],e=this._intersectsWithPointer(u),e&&u.instance===this.currentContainer&&y!==this.currentItem[0]&&this.placeholder[1===e?"next":"prev"]()[0]!==y&&!k.contains(this.placeholder[0],y)&&("semi-dynamic"===this.options.type?!k.contains(this.element[0],y):!0)){if(this.direction=1===e?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u)){break}this._rearrange(l,u),this._trigger("change",l,this._uiHash());break}}return this._contactContainers(l),k.ui.ddmanager&&k.ui.ddmanager.drag(this,l),this._trigger("sort",l,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(l,h){if(l){if(k.ui.ddmanager&&!this.options.dropBehaviour&&k.ui.ddmanager.drop(this,l),this.options.revert){var r=this,w=this.placeholder.offset(),e=this.options.axis,u={};e&&"x"!==e||(u.left=w.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),e&&"y"!==e||(u.top=w.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,k(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){r._clear(l)})}else{this._clear(l,h)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),k.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?k(this.domPosition.prev).after(this.currentItem):k(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var a=this._getItemsAsjQuery(e&&e.connected),h=[];return e=e||{},k(a).each(function(){var l=(k(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);l&&h.push((e.key||l[1]+"[]")+"="+(e.key&&e.expression?l[1]:l[2]))}),!h.length&&e.key&&h.push(e.key+"="),h.join("&")},toArray:function(e){var a=this._getItemsAsjQuery(e&&e.connected),h=[];return e=e||{},a.each(function(){h.push(k(e.item||this).attr(e.attribute||"id")||"")}),h},_intersectsWith:function(D){var I=this.positionAbs.left,B=I+this.helperProportions.width,J=this.positionAbs.top,z=J+this.helperProportions.height,G=D.left,y=G+D.width,w=D.top,C=w+D.height,A=this.offset.click.top,H=this.offset.click.left,E="x"===this.options.axis||J+A>w&&C>J+A,F="y"===this.options.axis||I+H>G&&y>I+H,x=E&&F;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>D[this.floating?"width":"height"]?x:I+this.helperProportions.width/2>G&&y>B-this.helperProportions.width/2&&J+this.helperProportions.height/2>w&&C>z-this.helperProportions.height/2},_intersectsWithPointer:function(u){var o="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top,u.height),l="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left,u.width),r=o&&l,w=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return r?this.floating?h&&"right"===h||"down"===w?2:1:w&&("down"===w?2:1):!1},_intersectsWithSides:function(o){var h=this._isOverAxis(this.positionAbs.top+this.offset.click.top,o.top+o.height/2,o.height),a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,o.left+o.width/2,o.width),l=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&a||"left"===r&&!a:l&&("down"===l&&h||"up"===l&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(B){function y(){e.push(this)}var C,w,A,u,e=[],z=[],x=this._connectWith();if(x&&B){for(C=x.length-1;C>=0;C--){for(A=k(x[C]),w=A.length-1;w>=0;w--){u=k.data(A[w],this.widgetFullName),u&&u!==this&&!u.options.disabled&&z.push([k.isFunction(u.options.items)?u.options.items.call(u.element):k(u.options.items,u.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),u])}}}for(z.push([k.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):k(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),C=z.length-1;C>=0;C--){z[C][0].each(y)}return k(e)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=k.grep(this.items,function(l){for(var h=0;a.length>h;h++){if(a[h]===l.item[0]){return !1}}return !0})},_refreshItems:function(F){this.items=[],this.containers=[this];var z,G,x,D,w,e,A,y,E=this.items,B=[[k.isFunction(this.options.items)?this.options.items.call(this.element[0],F,{item:this.currentItem}):k(this.options.items,this.element),this]],C=this._connectWith();if(C&&this.ready){for(z=C.length-1;z>=0;z--){for(x=k(C[z]),G=x.length-1;G>=0;G--){D=k.data(x[G],this.widgetFullName),D&&D!==this&&!D.options.disabled&&(B.push([k.isFunction(D.options.items)?D.options.items.call(D.element[0],F,{item:this.currentItem}):k(D.options.items,D.element),D]),this.containers.push(D))}}}for(z=B.length-1;z>=0;z--){for(w=B[z][1],e=B[z][0],G=0,y=e.length;y>G;G++){A=k(e[G]),A.data(this.widgetName+"-item",w),E.push({item:A,instance:w,width:0,height:0,left:0,top:0})}}},refreshPositions:function(l){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var h,o,r,e;for(h=this.items.length-1;h>=0;h--){o=this.items[h],o.instance!==this.currentContainer&&this.currentContainer&&o.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?k(this.options.toleranceElement,o.item):o.item,l||(o.width=r.outerWidth(),o.height=r.outerHeight()),e=r.offset(),o.left=e.left,o.top=e.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(h=this.containers.length-1;h>=0;h--){e=this.containers[h].element.offset(),this.containers[h].containerCache.left=e.left,this.containers[h].containerCache.top=e.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var a,h=e.options;h.placeholder&&h.placeholder.constructor!==String||(a=h.placeholder,h.placeholder={element:function(){var l=e.currentItem[0].nodeName.toLowerCase(),o=k("<"+l+">",e.document[0]).addClass(a||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===l?e.currentItem.children().each(function(){k("<td>&#160;</td>",e.document[0]).attr("colspan",k(this).attr("colspan")||1).appendTo(o)}):"img"===l&&o.attr("src",e.currentItem.attr("src")),a||o.css("visibility","hidden"),o},update:function(l,o){(!a||h.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=k(h.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),h.placeholder.update(e,e.placeholder)},_contactContainers:function(G){var A,H,y,E,x,e,B,z,F,C,D=null,w=null;for(A=this.containers.length-1;A>=0;A--){if(!k.contains(this.currentItem[0],this.containers[A].element[0])){if(this._intersectsWith(this.containers[A].containerCache)){if(D&&k.contains(this.containers[A].element[0],D.element[0])){continue}D=this.containers[A],w=A}else{this.containers[A].containerCache.over&&(this.containers[A]._trigger("out",G,this._uiHash(this)),this.containers[A].containerCache.over=0)}}}if(D){if(1===this.containers.length){this.containers[w].containerCache.over||(this.containers[w]._trigger("over",G,this._uiHash(this)),this.containers[w].containerCache.over=1)}else{for(y=10000,E=null,F=D.floating||this._isFloating(this.currentItem),x=F?"left":"top",e=F?"width":"height",C=F?"clientX":"clientY",H=this.items.length-1;H>=0;H--){k.contains(this.containers[w].element[0],this.items[H].item[0])&&this.items[H].item[0]!==this.currentItem[0]&&(B=this.items[H].item.offset()[x],z=!1,G[C]-B>this.items[H][e]/2&&(z=!0),y>Math.abs(G[C]-B)&&(y=Math.abs(G[C]-B),E=this.items[H],this.direction=z?"up":"down"))}if(!E&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[w]){return this.currentContainer.containerCache.over||(this.containers[w]._trigger("over",G,this._uiHash()),this.currentContainer.containerCache.over=1),void 0}E?this._rearrange(G,E,null,!0):this._rearrange(G,null,this.containers[w].element,!0),this._trigger("change",G,this._uiHash()),this.containers[w]._trigger("change",G,this._uiHash(this)),this.currentContainer=this.containers[w],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[w]._trigger("over",G,this._uiHash(this)),this.containers[w].containerCache.over=1}}},_createHelper:function(e){var a=this.options,h=k.isFunction(a.helper)?k(a.helper.apply(this.element[0],[e,this.currentItem])):"clone"===a.helper?this.currentItem.clone():this.currentItem;return h.parents("body").length||k("parent"!==a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(h[0]),h[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!h[0].style.width||a.forceHelperSize)&&h.width(this.currentItem.width()),(!h[0].style.height||a.forceHelperSize)&&h.height(this.currentItem.height()),h},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),k.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&k.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,a,h,l=this.options;"parent"===l.containment&&(l.containment=this.helper[0].parentNode),("document"===l.containment||"window"===l.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,k("document"===l.containment?document:window).width()-this.helperProportions.width-this.margins.left,(k("document"===l.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(l.containment)||(e=k(l.containment)[0],a=k(l.containment).offset(),h="hidden"!==k(e).css("overflow"),this.containment=[a.left+(parseInt(k(e).css("borderLeftWidth"),10)||0)+(parseInt(k(e).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(k(e).css("borderTopWidth"),10)||0)+(parseInt(k(e).css("paddingTop"),10)||0)-this.margins.top,a.left+(h?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(k(e).css("borderLeftWidth"),10)||0)-(parseInt(k(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(h?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(k(e).css("borderTopWidth"),10)||0)-(parseInt(k(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(l,h){h||(h=this.position);var o="absolute"===l?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(r[0].tagName);return{top:h.top+this.offset.relative.top*o+this.offset.parent.top*o-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:r.scrollTop())*o,left:h.left+this.offset.relative.left*o+this.offset.parent.left*o-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:r.scrollLeft())*o}},_generatePosition:function(u){var l,x,A=this.options,e=u.pageX,z=u.pageY,y="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,w=/(html|body)/i.test(y[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(u.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),u.pageY-this.offset.click.top<this.containment[1]&&(z=this.containment[1]+this.offset.click.top),u.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),u.pageY-this.offset.click.top>this.containment[3]&&(z=this.containment[3]+this.offset.click.top)),A.grid&&(l=this.originalPageY+Math.round((z-this.originalPageY)/A.grid[1])*A.grid[1],z=this.containment?l-this.offset.click.top>=this.containment[1]&&l-this.offset.click.top<=this.containment[3]?l:l-this.offset.click.top>=this.containment[1]?l-A.grid[1]:l+A.grid[1]:l,x=this.originalPageX+Math.round((e-this.originalPageX)/A.grid[0])*A.grid[0],e=this.containment?x-this.offset.click.left>=this.containment[0]&&x-this.offset.click.left<=this.containment[2]?x:x-this.offset.click.left>=this.containment[0]?x-A.grid[0]:x+A.grid[0]:x)),{top:z-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():w?0:y.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():w?0:y.scrollLeft())}},_rearrange:function(o,h,a,l){a?a[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!l)})},_clear:function(o,h){function a(u,s,n){return function(e){n._trigger(u,e,s._uiHash(s))}}this.reverting=!1;var l,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(l in this._storedCSS){("auto"===this._storedCSS[l]||"static"===this._storedCSS[l])&&(this._storedCSS[l]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!h&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(h||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(e){n._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(e){n._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),l=this.containers.length-1;l>=0;l--){h||r.push(a("deactivate",this,this.containers[l])),this.containers[l].containerCache.over&&(r.push(a("out",this,this.containers[l])),this.containers[l].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,h||this._trigger("beforeStop",o,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!h){for(l=0;r.length>l;l++){r[l].call(this,o)}this._trigger("stop",o,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){k.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var a=e||this;return{helper:a.helper,placeholder:a.placeholder||k([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:e?e.element:null}}});var c,b="ui-button ui-widget ui-state-default ui-corner-all",j="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var a=k(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},p=function(e){var a=e.name,h=e.form,l=k([]);return a&&(a=a.replace(/'/g,"\\'"),l=h?k(h).find("[name='"+a+"'][type=radio]"):k("[name='"+a+"'][type=radio]",e.ownerDocument).filter(function(){return !this.form})),l};k.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,a=this.options,h="checkbox"===this.type||"radio"===this.type,l=h?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(b).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===c&&k(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||k(this).removeClass(l)}).bind("click"+this.eventNamespace,function(n){a.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled){return !1}k(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];p(n).not(n).map(function(){return k(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(k(this).addClass("ui-state-active"),c=this,e.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(k(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(n){return a.disabled?!1:((n.keyCode===k.ui.keyCode.SPACE||n.keyCode===k.ui.keyCode.ENTER)&&k(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){k(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(n){n.keyCode===k.ui.keyCode.SPACE&&k(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var l,h,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(l=this.element.parents().last(),h="label[for='"+this.element.attr("id")+"']",this.buttonElement=l.find(h),this.buttonElement.length||(l=l.length?l.siblings():this.element.siblings(),this.buttonElement=l.filter(h),this.buttonElement.length||(this.buttonElement=l.find(h))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(b+" ui-state-active "+j).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(h,a){return this._super(h,a),"disabled"===h?(this.widget().toggleClass("ui-state-disabled",!!a),this.element.prop("disabled",!!a),a&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?p(this.element[0]).each(function(){k(this).is(":checked")?k(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):k(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),void 0}var l=this.buttonElement.removeClass(j),h=k("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(l.empty()).text(),o=this.options.icons,r=o.primary&&o.secondary,e=[];o.primary||o.secondary?(this.options.text&&e.push("ui-button-text-icon"+(r?"s":o.primary?"-primary":"-secondary")),o.primary&&l.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&l.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(e.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||l.attr("title",k.trim(h)))):e.push("ui-button-text-only"),l.addClass(e.join(" "))}}),k.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(h,a){"disabled"===h&&this.buttons.button("option",h,a),this._super(h,a)},refresh:function(){var e="rtl"===this.element.css("direction"),a=this.element.find(this.options.items),h=a.filter(":ui-button");a.not(":ui-button").button(),h.button("refresh"),this.buttons=a.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),k.ui.button,k.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var a=k(this).css(e).offset().top;0>a&&k(this).css("top",e.top-a)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&k.fn.draggable&&this._makeDraggable(),this.options.resizable&&k.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?k(a):this.document.find(a||"body").eq(0)},_destroy:function(){var h,a=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),h=a.parent.children().eq(a.index),h.length&&h[0]!==this.element[0]?h.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},disable:k.noop,enable:k.noop,close:function(e){var a,h=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length){try{a=this.document[0].activeElement,a&&"body"!==a.nodeName.toLowerCase()&&k(a).blur()}catch(l){}}this._hide(this.uiDialog,this.options.hide,function(){h._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(l,h){var o=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return +k(this).css("z-index")}).get(),e=Math.max.apply(null,r);return e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),o=!0),o&&!h&&this._trigger("focus",l),o},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=k(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(e){function a(){var l=this.document[0].activeElement,h=this.uiDialog[0]===l||k.contains(this.uiDialog[0],l);h||this._focusTabbable()}e.preventDefault(),a.call(this),this._delay(a)},_createWrapper:function(){this.uiDialog=k("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===k.ui.keyCode.ESCAPE){return e.preventDefault(),this.close(e),void 0}if(e.keyCode===k.ui.keyCode.TAB&&!e.isDefaultPrevented()){var a=this.uiDialog.find(":tabbable"),h=a.filter(":first"),l=a.filter(":last");e.target!==l[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==h[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){l.focus()}),e.preventDefault()):(this._delay(function(){h.focus()}),e.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=k("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){k(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=k("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(h){h.preventDefault(),this.close(h)}}),a=k("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=k("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=k("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,a=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),k.isEmptyObject(a)||k.isArray(a)&&!a.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(k.each(a,function(l,o){var r,h;o=k.isFunction(o)?{click:o,text:l}:o,o=k.extend({type:"button"},o),r=o.click,o.click=function(){r.apply(e.element[0],arguments)},h={icons:o.icons,text:o.showText},delete o.icons,delete o.showText,k("<button></button>",o).button(h).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(l){return{position:l.position,offset:l.offset}}var a=this,h=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(l,o){k(this).addClass("ui-dialog-dragging"),a._blockFrames(),a._trigger("dragStart",l,e(o))},drag:function(n,l){a._trigger("drag",n,e(l))},stop:function(w,l){var u=l.offset.left-a.document.scrollLeft(),s=l.offset.top-a.document.scrollTop();h.position={my:"left top",at:"left"+(u>=0?"+":"")+u+" top"+(s>=0?"+":"")+s,of:a.window},k(this).removeClass("ui-dialog-dragging"),a._unblockFrames(),a._trigger("dragStop",w,e(l))}})},_makeResizable:function(){function l(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var h=this,r=this.options,w=r.resizable,e=this.uiDialog.css("position"),u="string"==typeof w?w:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:u,start:function(a,o){k(this).addClass("ui-dialog-resizing"),h._blockFrames(),h._trigger("resizeStart",a,l(o))},resize:function(n,a){h._trigger("resize",n,l(a))},stop:function(A,s){var z=h.uiDialog.offset(),y=z.left-h.document.scrollLeft(),x=z.top-h.document.scrollTop();r.height=h.uiDialog.height(),r.width=h.uiDialog.width(),r.position={my:"left top",at:"left"+(y>=0?"+":"")+y+" top"+(x>=0?"+":"")+x,of:h.window},k(this).removeClass("ui-dialog-resizing"),h._unblockFrames(),h._trigger("resizeStop",A,l(s))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=k(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),a=k.inArray(this,e);-1!==a&&e.splice(a,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(e){var a=this,h=!1,l={};k.each(e,function(o,n){a._setOption(o,n),o in a.sizeRelatedOptions&&(h=!0),o in a.resizableRelatedOptions&&(l[o]=n)}),h&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",l)},_setOption:function(o,h){var a,l,r=this.uiDialog;"dialogClass"===o&&r.removeClass(this.options.dialogClass).addClass(h),"disabled"!==o&&(this._super(o,h),"appendTo"===o&&this.uiDialog.appendTo(this._appendTo()),"buttons"===o&&this._createButtons(),"closeText"===o&&this.uiDialogTitlebarClose.button({label:""+h}),"draggable"===o&&(a=r.is(":data(ui-draggable)"),a&&!h&&r.draggable("destroy"),!a&&h&&this._makeDraggable()),"position"===o&&this._position(),"resizable"===o&&(l=r.is(":data(ui-resizable)"),l&&!h&&r.resizable("destroy"),l&&"string"==typeof h&&r.resizable("option","handles",h),l||h===!1||this._makeResizable()),"title"===o&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var n,h,a,l=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),l.minWidth>l.width&&(l.width=l.minWidth),n=this.uiDialog.css({height:"auto",width:l.width}).outerHeight(),h=Math.max(0,l.minHeight-n),a="number"==typeof l.maxHeight?Math.max(0,l.maxHeight-n):"none","auto"===l.height?this.element.css({minHeight:h,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,l.height-n)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=k(this);return k("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return k(a.target).closest(".ui-dialog").length?!0:!!k(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(h){a||this._allowInteraction(h)||(h.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=k("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})});(function(d){var f=d(window);var a=function(g,j,k,h){if(arguments.length===3||h){if(k<g){return g}if(k>j){return j}}return k};var e=function(g){g.clientX=g.originalEvent.touches[0].clientX;g.clientY=g.originalEvent.touches[0].clientY};var c=function(g){var k=(g.css("background-image").match(/^url\(['"]?(.*?)['"]?\)$/i)||[])[1];if(!k){return}var h={width:0,height:0},j=new Image();j.onload=function(){if(g.css("background-size")=="cover"){var m=g.innerWidth(),l=g.innerHeight(),n=m/l;imageAspectRatio=j.width/j.height,scale=1;if(imageAspectRatio>=n){scale=l/j.height}else{scale=m/j.width}h.width=j.width*scale;h.height=j.height*scale}else{h.width=j.width;h.height=j.height}};j.src=k;return h};function b(h,g){this.element=h;this.options=g;this.init()}b.prototype.init=function(){var h=d(this.element),k=(h.css("background-image").match(/^url\(['"]?(.*?)['"]?\)$/i)||[])[1],g=this.options;if(!k){return}var j={width:0,height:0};if(g.bound||g.units=="percent"){j=c(h)}h.on("mousedown.dbg touchstart.dbg",function(o){if(o.target!==h[0]){return}o.preventDefault();if(o.originalEvent.touches){e(o)}else{if(o.which!==1){return}}var l=o.clientX,n=o.clientY,q=h.css("background-position").match(/(-?\d+).*?\s(-?\d+)/)||[],p=parseInt(q[1])||0,m=parseInt(q[2])||0;if(g.units=="percent"){p=Math.round(p/-200*j.width);m=Math.round(m/-200*j.height)}f.on("mousemove.dbg touchmove.dbg",function(s){s.preventDefault();if(s.originalEvent.touches){e(s)}var r=s.clientX,u=s.clientY;if(g.units=="percent"){p=g.axis==="y"?p:a(-j.width/2,0,p+r-l,g.bound);m=g.axis==="x"?m:a(-j.height/2,0,m+u-n,g.bound);h.css("background-position",p/j.width*-200+"% "+m/j.height*-200+"%")}else{p=g.axis==="y"?p:a(h.innerWidth()-j.width,0,p+r-l,g.bound);m=g.axis==="x"?m:a(h.innerHeight()-j.height,0,m+u-n,g.bound);h.css("background-position",p+"px "+m+"px")}l=r;n=u});f.on("mouseup.dbg touchend.dbg mouseleave.dbg",function(){if(g.done){g.done()}f.off("mousemove.dbg touchmove.dbg");f.off("mouseup.dbg touchend.dbg mouseleave.dbg")})})};b.prototype.disable=function(){var g=d(this.element);g.off("mousedown.dbg touchstart.dbg");f.off("mousemove.dbg touchmove.dbg mouseup.dbg touchend.dbg mouseleave.dbg")};d.fn.backgroundDraggable=function(h){var h=h;var g=Array.prototype.slice.call(arguments,1);return this.each(function(){var k=d(this);if(typeof h=="undefined"||typeof h=="object"){h=d.extend({},d.fn.backgroundDraggable.defaults,h);var j=new b(this,h);k.data("dbg",j)}else{if(typeof h=="string"&&k.data("dbg")){var j=k.data("dbg");b.prototype[h].apply(j,g)}}})};d.fn.backgroundDraggable.defaults={bound:true,axis:undefined,units:"percent"}}(jQuery));(function(a){a.fn.dragsort=function(c){if(c=="destroy"){a(this.selector).trigger("dragsort-uninit");return}var d=a.extend({},a.fn.dragsort.defaults,c);var b=[];var f=null,e=null;this.each(function(h,g){if(a(g).is("table")&&a(g).children().size()==1&&a(g).children().is("tbody")){g=a(g).children().get(0)}var j={draggedItem:null,placeHolderItem:null,pos:null,offset:null,offsetLimit:null,scroll:null,container:g,init:function(){d.tagName=a(this.container).children().size()==0?"li":a(this.container).children().get(0).tagName.toLowerCase();if(d.itemSelector==""){d.itemSelector=d.tagName}if(d.dragSelector==""){d.dragSelector=d.tagName}if(d.placeHolderTemplate==""){d.placeHolderTemplate="<"+d.tagName+">&nbsp;</"+d.tagName+">"}a(this.container).attr("data-listidx",h).mousedown(this.grabItem).bind("dragsort-uninit",this.uninit);this.styleDragHandlers(true)},uninit:function(){var k=b[a(this).attr("data-listidx")];a(k.container).unbind("mousedown",k.grabItem).unbind("dragsort-uninit");k.styleDragHandlers(false)},getItems:function(){return a(this.container).children(d.itemSelector)},styleDragHandlers:function(k){this.getItems().map(function(){return a(this).is(d.dragSelector)?this:a(this).find(d.dragSelector).get()}).css("cursor",k?"pointer":"")},grabItem:function(q){var p=b[a(this).attr("data-listidx")];var o=a(q.target).closest("[data-listidx] > "+d.tagName).get(0);var l=p.getItems().filter(function(){return this==o}).size()>0;if(q.which!=1||a(q.target).is(d.dragSelectorExclude)||a(q.target).closest(d.dragSelectorExclude).size()>0||!l){return}q.preventDefault();var k=q.target;while(!a(k).is(d.dragSelector)){if(k==this){return}k=k.parentNode}a(k).attr("data-cursor",a(k).css("cursor"));a(k).css("cursor","move");var n=this;var m=function(){p.dragStart.call(n,q);a(p.container).unbind("mousemove",m)};a(p.container).mousemove(m).mouseup(function(){a(p.container).unbind("mousemove",m);a(k).css("cursor",a(k).attr("data-cursor"))})},dragStart:function(p){if(f!=null&&f.draggedItem!=null){f.dropItem()}f=b[a(this).attr("data-listidx")];f.draggedItem=a(p.target).closest("[data-listidx] > "+d.tagName);f.draggedItem.attr("data-origpos",a(this).attr("data-listidx")+"-"+a(f.container).children().index(f.draggedItem));var m=parseInt(f.draggedItem.css("marginTop"));var r=parseInt(f.draggedItem.css("marginLeft"));f.offset=f.draggedItem.offset();f.offset.top=p.pageY-f.offset.top+(isNaN(m)?0:m)-1;f.offset.left=p.pageX-f.offset.left+(isNaN(r)?0:r)-1;if(!d.dragBetween){var o=a(f.container).outerHeight()==0?Math.max(1,Math.round(0.5+f.getItems().size()*f.draggedItem.outerWidth()/a(f.container).outerWidth()))*f.draggedItem.outerHeight():a(f.container).outerHeight();f.offsetLimit=a(f.container).offset();f.offsetLimit.right=f.offsetLimit.left+a(f.container).outerWidth()-f.draggedItem.outerWidth();f.offsetLimit.bottom=f.offsetLimit.top+o-f.draggedItem.outerHeight()}var n=f.draggedItem.height();var l=f.draggedItem.width();if(d.tagName=="tr"){f.draggedItem.children().each(function(){a(this).width(a(this).width())});f.placeHolderItem=f.draggedItem.clone().attr("data-placeholder",true);f.draggedItem.after(f.placeHolderItem);f.placeHolderItem.children().each(function(){a(this).css({borderWidth:0,width:a(this).width()+1,height:a(this).height()+1}).html("&nbsp;")})}else{f.draggedItem.after(d.placeHolderTemplate);f.placeHolderItem=f.draggedItem.next().css({height:n,width:l}).attr("data-placeholder",true)}if(d.tagName=="td"){var k=f.draggedItem.closest("table").get(0);a("<table id='"+k.id+"' style='border-width: 0px;' class='dragSortItem "+k.className+"'><tr></tr></table>").appendTo("body").children().append(f.draggedItem)}var q=f.draggedItem.attr("style");f.draggedItem.attr("data-origstyle",q?q:"");f.draggedItem.css({position:"absolute",opacity:0.8,"z-index":999,height:n,width:l});f.scroll={moveX:0,moveY:0,maxX:a(document).width()-a(window).width(),maxY:a(document).height()-a(window).height()};f.scroll.scrollY=window.setInterval(function(){if(d.scrollContainer!=window){a(d.scrollContainer).scrollTop(a(d.scrollContainer).scrollTop()+f.scroll.moveY);return}var s=a(d.scrollContainer).scrollTop();if(f.scroll.moveY>0&&s<f.scroll.maxY||f.scroll.moveY<0&&s>0){a(d.scrollContainer).scrollTop(s+f.scroll.moveY);f.draggedItem.css("top",f.draggedItem.offset().top+f.scroll.moveY+1)}},10);f.scroll.scrollX=window.setInterval(function(){if(d.scrollContainer!=window){a(d.scrollContainer).scrollLeft(a(d.scrollContainer).scrollLeft()+f.scroll.moveX);return}var s=a(d.scrollContainer).scrollLeft();if(f.scroll.moveX>0&&s<f.scroll.maxX||f.scroll.moveX<0&&s>0){a(d.scrollContainer).scrollLeft(s+f.scroll.moveX);f.draggedItem.css("left",f.draggedItem.offset().left+f.scroll.moveX+1)}},10);a(b).each(function(u,s){s.createDropTargets();s.buildPositionTable()});f.setPos(p.pageX,p.pageY);a(document).bind("mousemove",f.swapItems);a(document).bind("mouseup",f.dropItem);if(d.scrollContainer!=window){a(window).bind("wheel",f.wheel)}},setPos:function(l,q){var o=q-this.offset.top;var n=l-this.offset.left;if(!d.dragBetween){o=Math.min(this.offsetLimit.bottom,Math.max(o,this.offsetLimit.top));n=Math.min(this.offsetLimit.right,Math.max(n,this.offsetLimit.left))}var m=this.draggedItem.offsetParent().not("body").offset();if(m!=null){o-=m.top;n-=m.left}if(d.scrollContainer==window){q-=a(window).scrollTop();l-=a(window).scrollLeft();q=Math.max(0,q-a(window).height()+5)+Math.min(0,q-5);l=Math.max(0,l-a(window).width()+5)+Math.min(0,l-5)}else{var k=a(d.scrollContainer);var p=k.offset();q=Math.max(0,q-k.height()-p.top)+Math.min(0,q-p.top);l=Math.max(0,l-k.width()-p.left)+Math.min(0,l-p.left)}f.scroll.moveX=l==0?0:l*d.scrollSpeed/Math.abs(l);f.scroll.moveY=q==0?0:q*d.scrollSpeed/Math.abs(q);this.draggedItem.css({top:o,left:n})},wheel:function(m){if(f&&d.scrollContainer!=window){var l=a(d.scrollContainer);var n=l.offset();m=m.originalEvent;if(m.clientX>n.left&&m.clientX<n.left+l.width()&&m.clientY>n.top&&m.clientY<n.top+l.height()){var k=(m.deltaMode==0?1:10)*m.deltaY;l.scrollTop(l.scrollTop()+k);m.preventDefault()}}},buildPositionTable:function(){var k=[];this.getItems().not([f.draggedItem[0],f.placeHolderItem[0]]).each(function(l){var m=a(this).offset();m.right=m.left+a(this).outerWidth();m.bottom=m.top+a(this).outerHeight();m.elm=this;k[l]=m});this.pos=k},dropItem:function(){if(f.draggedItem==null){return}var m=f.draggedItem.attr("data-origstyle");f.draggedItem.attr("style",m);if(m==""){f.draggedItem.removeAttr("style")}f.draggedItem.removeAttr("data-origstyle");f.styleDragHandlers(true);f.placeHolderItem.before(f.draggedItem);f.placeHolderItem.remove();a("[data-droptarget], .dragSortItem").remove();window.clearInterval(f.scroll.scrollY);window.clearInterval(f.scroll.scrollX);if(f.draggedItem.attr("data-origpos")!=a(b).index(f)+"-"+a(f.container).children().index(f.draggedItem)){if(d.dragEnd.apply(f.draggedItem)==false){var l=f.draggedItem.attr("data-origpos").split("-");var k=a(b[l[0]].container).children().not(f.draggedItem).eq(l[1]);if(k.size()>0){k.before(f.draggedItem)}else{if(l[1]==0){a(b[l[0]].container).prepend(f.draggedItem)}else{a(b[l[0]].container).append(f.draggedItem)}}}}f.draggedItem.removeAttr("data-origpos");f.draggedItem=null;a(document).unbind("mousemove",f.swapItems);a(document).unbind("mouseup",f.dropItem);if(d.scrollContainer!=window){a(window).unbind("wheel",f.wheel)}return false},swapItems:function(p){if(f.draggedItem==null){return false}f.setPos(p.pageX,p.pageY);var o=f.findPos(p.pageX,p.pageY);var n=f;for(var l=0;o==-1&&d.dragBetween&&l<b.length;l++){o=b[l].findPos(p.pageX,p.pageY);n=b[l]}if(o==-1){return false}var k=function(){return a(n.container).children().not(n.draggedItem)};var m=k().not(d.itemSelector).each(function(q){this.idx=k().index(this)});if(e==null||e.top>f.draggedItem.offset().top||e.left>f.draggedItem.offset().left){a(n.pos[o].elm).before(f.placeHolderItem)}else{a(n.pos[o].elm).after(f.placeHolderItem)}m.each(function(){var q=k().eq(this.idx).get(0);if(this!=q&&k().index(this)<this.idx){a(this).insertAfter(q)}else{if(this!=q){a(this).insertBefore(q)}}});a(b).each(function(r,q){q.createDropTargets();q.buildPositionTable()});e=f.draggedItem.offset();return false},findPos:function(k,m){for(var l=0;l<this.pos.length;l++){if(this.pos[l].left<k&&this.pos[l].right>k&&this.pos[l].top<m&&this.pos[l].bottom>m){return l}}return -1},createDropTargets:function(){if(!d.dragBetween){return}a(b).each(function(){var l=a(this.container).find("[data-placeholder]");var k=a(this.container).find("[data-droptarget]");if(l.size()>0&&k.size()>0){k.remove()}else{if(l.size()==0&&k.size()==0){if(d.tagName=="td"){a(d.placeHolderTemplate).attr("data-droptarget",true).appendTo(this.container)}else{a(this.container).append(f.placeHolderItem.removeAttr("data-placeholder").clone().attr("data-droptarget",true))}f.placeHolderItem.attr("data-placeholder",true)}}})}};j.init();b.push(j)});return this};a.fn.dragsort.defaults={itemSelector:"",dragSelector:"",dragSelectorExclude:"input, textarea, .event-pin-create-item-remove",dragEnd:function(){},dragBetween:false,placeHolderTemplate:"",scrollContainer:window,scrollSpeed:5}})(jQuery);
/*!
 * jQuery Selectbox plugin 0.2
 *
 * Copyright 2011-2012, Dimitar Ivanov (http://www.bulgaria-web-developers.com/projects/javascript/selectbox/)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 *
 * Date: Tue Jul 17 19:58:36 2012 +0300
 */
(function(d,f){var e="selectbox",c=false,b=true;function a(){this._state=[];this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",classFocus:"sbFocus",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}d.extend(a.prototype,{_selectBoxChangeContent:function(j,m){if(d(j).data("_selectBoxChangeContent")==true){return}var g=d(j).data("_selectBoxChangeContent",true),h=this,l=g.html(),k=function(){if(l!=g.html()){l=g.html();m.call(h,j)}setTimeout(function(){k()},20)};k()},_isOpenSelectbox:function(h){if(!h){return c}var g=this._getInst(h);return g.isOpen},_isDisabledSelectbox:function(h){if(!h){return c}var g=this._getInst(h);return g.isDisabled},_attachSelectbox:function(p,l){if(this._getInst(p)){return c}this._selectBoxChangeContent(p,function(s){this._detachSelectbox(s);this._attachSelectbox(s)});var k=d(p),w=this,n=w._newInst(k),m,u,j,q,x=c,v=k.find("optgroup"),h=k.find("option"),o=h.length;k.attr("sb",n.uid);d.extend(n.settings,w._defaults,l);w._state[n.uid]=c;k.hide();function g(){var y,z,s=this.attr("id").split("_")[1];for(y in w._state){if(y!==s){if(w._state.hasOwnProperty(y)){z=d("select[sb='"+y+"']")[0];if(z){w._closeSelectbox(z)}}}}}m=d("<div>",{id:"sbHolder_"+n.uid,"class":n.settings.classHolder,tabindex:k.attr("tabindex")});u=d("<a>",{id:"sbSelector_"+n.uid,href:"#","class":n.settings.classSelector,click:function(y){y.preventDefault();g.apply(d(this),[]);var s=d(this).attr("id").split("_")[1];if(w._state[s]){w._closeSelectbox(p)}else{w._openSelectbox(p)}}});j=d("<a>",{id:"sbToggle_"+n.uid,href:"#","class":n.settings.classToggle,click:function(y){y.preventDefault();g.apply(d(this),[]);var s=d(this).attr("id").split("_")[1];if(w._state[s]){w._closeSelectbox(p)}else{w._openSelectbox(p)}}});j.appendTo(m);q=d("<ul>",{id:"sbOptions_"+n.uid,"class":n.settings.classOptions,css:{display:"none"}});k.children().each(function(z){var A=d(this),s,y={};if(A.is("option")){r(A)}else{if(A.is("optgroup")){s=d("<li>");d("<span>",{text:A.attr("label")}).addClass(n.settings.classGroup).appendTo(s);s.appendTo(q);if(A.is(":disabled")){y.disabled=true}y.sub=true;r(A.find("option"),y)}}});function r(){var y=arguments[1]&&arguments[1].sub?true:false,s=arguments[1]&&arguments[1].disabled?true:false;arguments[0].each(function(A){var B=d(this),z=d("<li>"),C;if(B.is(":selected")){u.text(B.text());x=b}if(A===o-1){z.addClass("last")}if(!B.is(":disabled")&&!s){C=d("<a>",{href:"#"+B.val(),rel:B.val()}).text(B.text()).bind("click.sb",function(G){if(G&&G.preventDefault){G.preventDefault()}var E=j,F=d(this),D=E.attr("id").split("_")[1];w._changeSelectbox(p,F.attr("rel"),F.text());w._closeSelectbox(p)}).bind("mouseover.sb",function(){var D=d(this);D.parent().siblings().find("a").removeClass(n.settings.classFocus);D.addClass(n.settings.classFocus)}).bind("mouseout.sb",function(){d(this).removeClass(n.settings.classFocus)});if(y){C.addClass(n.settings.classSub)}if(B.is(":selected")){C.addClass(n.settings.classFocus)}C.appendTo(z)}else{C=d("<span>",{text:B.text()}).addClass(n.settings.classDisabled);if(y){C.addClass(n.settings.classSub)}C.appendTo(z)}z.appendTo(q)})}if(!x){u.text(h.first().text())}d.data(p,e,n);m.data("uid",n.uid).bind("keydown.sb",function(C){var F=C.charCode?C.charCode:C.keyCode?C.keyCode:0,E=d(this),B=E.data("uid"),A=E.siblings("select[sb='"+B+"']").data(e),D=E.siblings(["select[sb='",B,"']"].join("")).get(0),s=E.find("ul").find("a."+A.settings.classFocus);switch(F){case 37:case 38:if(s.length>0){var y;d("a",E).removeClass(A.settings.classFocus);y=s.parent().prevAll("li:has(a)").eq(0).find("a");if(y.length>0){y.addClass(A.settings.classFocus).focus();d("#sbSelector_"+B).text(y.text())}}break;case 39:case 40:var y;d("a",E).removeClass(A.settings.classFocus);if(s.length>0){y=s.parent().nextAll("li:has(a)").eq(0).find("a")}else{y=E.find("ul").find("a").eq(0)}if(y.length>0){y.addClass(A.settings.classFocus).focus();d("#sbSelector_"+B).text(y.text())}break;case 13:if(s.length>0){w._changeSelectbox(D,s.attr("rel"),s.text())}w._closeSelectbox(D);break;case 9:if(D){var A=w._getInst(D);if(A){if(s.length>0){w._changeSelectbox(D,s.attr("rel"),s.text())}w._closeSelectbox(D)}}var z=parseInt(E.attr("tabindex"),10);if(!C.shiftKey){z++}else{z--}d("*[tabindex='"+z+"']").focus();break;case 27:w._closeSelectbox(D);break}C.stopPropagation();return false}).delegate("a","mouseover",function(s){d(this).addClass(n.settings.classFocus)}).delegate("a","mouseout",function(s){d(this).removeClass(n.settings.classFocus)});u.appendTo(m);q.appendTo(m);m.insertAfter(k);d("html").on("mousedown",function(s){s.stopPropagation();d("select").selectbox("close")});d([".",n.settings.classHolder,", .",n.settings.classSelector].join("")).mousedown(function(s){s.stopPropagation()})},_detachSelectbox:function(h){var g=this._getInst(h);if(!g){return c}d("#sbHolder_"+g.uid).remove();d.data(h,e,null);d(h).show()},_changeSelectbox:function(k,j,l){var g,h=this._getInst(k);if(h){g=this._get(h,"onChange");d("#sbSelector_"+h.uid).text(l)}j=j.replace(/\'/g,"\\'");d(k).find("option").removeAttr("selected");d(k).val(j);if(h&&g){g.apply((h.input?h.input[0]:null),[j,h])}else{if(h&&h.input){h.input.trigger("change")}}},_enableSelectbox:function(h){var g=this._getInst(h);if(!g||!g.isDisabled){return c}d("#sbHolder_"+g.uid).removeClass(g.settings.classHolderDisabled);g.isDisabled=c;d.data(h,e,g)},_disableSelectbox:function(h){var g=this._getInst(h);if(!g||g.isDisabled){return c}d("#sbHolder_"+g.uid).addClass(g.settings.classHolderDisabled);g.isDisabled=b;d.data(h,e,g)},_optionSelectbox:function(k,g,j){var h=this._getInst(k);if(!h){return c}h[g]=j;d.data(k,e,h)},_openSelectbox:function(n){var l=this._getInst(n);if(!l||l.isOpen||l.isDisabled){return}var h=d("#sbOptions_"+l.uid),m=parseInt(d(window).height(),10),k=d("#sbHolder_"+l.uid).offset(),g=d(window).scrollTop(),p=h.prev().height(),o=m-(k.top-g)-p/2,j=this._get(l,"onOpen");h.css({top:p+"px",maxHeight:(o-p)+"px"});l.settings.effect==="fade"?h.fadeIn(l.settings.speed):h.slideDown(l.settings.speed);d("#sbToggle_"+l.uid).addClass(l.settings.classToggleOpen);this._state[l.uid]=b;l.isOpen=b;if(j){j.apply((l.input?l.input[0]:null),[l])}d.data(n,e,l)},_closeSelectbox:function(j){var h=this._getInst(j);if(!h||!h.isOpen){return}var g=this._get(h,"onClose");h.settings.effect==="fade"?d("#sbOptions_"+h.uid).fadeOut(h.settings.speed):d("#sbOptions_"+h.uid).slideUp(h.settings.speed);d("#sbToggle_"+h.uid).removeClass(h.settings.classToggleOpen);this._state[h.uid]=c;h.isOpen=c;if(g){g.apply((h.input?h.input[0]:null),[h])}d.data(j,e,h)},_newInst:function(g){var h=g[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:h,input:g,uid:Math.floor(Math.random()*99999999),isOpen:c,isDisabled:c,settings:{}}},_getInst:function(h){try{return d.data(h,e)}catch(g){throw"Missing instance data for this selectbox"}},_get:function(h,g){return h.settings[g]!==f?h.settings[g]:this._defaults[g]}});d.fn.selectbox=function(h){var g=Array.prototype.slice.call(arguments,1);if(typeof h=="string"&&h=="isDisabled"){return d.selectbox["_"+h+"Selectbox"].apply(d.selectbox,[this[0]].concat(g))}if(h=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.selectbox["_"+h+"Selectbox"].apply(d.selectbox,[this[0]].concat(g))}return this.each(function(){typeof h=="string"?d.selectbox["_"+h+"Selectbox"].apply(d.selectbox,[this].concat(g)):d.selectbox._attachSelectbox(this,h)})};d.selectbox=new a();d.selectbox.version="0.2"})(jQuery);(function(a){a.fn.aToolTip=function(b){var d={closeTipBtn:"aToolTipCloseBtn",toolTipId:"aToolTip",fixed:false,clickIt:false,inSpeed:200,outSpeed:100,tipContent:"",toolTipClass:"defaultTheme",xOffset:5,yOffset:5,onShow:null,onHide:null},c=a.extend({},d,b);return this.each(function(){var j=a(this);if(j.attr("title")){var h=j.attr("title")}else{var h=c.tipContent}var e=function(){a("body").append("<div id='"+c.toolTipId+"' class='"+c.toolTipClass+"'><p class='aToolTipContent'>"+h+"</p></div>");if(h&&c.clickIt){a("#"+c.toolTipId+" p.aToolTipContent").append("<a id='"+c.closeTipBtn+"' href='#' alt='close'>close</a>")}},f=function(){a("#"+c.toolTipId).css({top:(j.offset().top-a("#"+c.toolTipId).outerHeight()-c.yOffset)+"px",left:(j.offset().left+j.outerWidth()+c.xOffset)+"px"}).stop().fadeIn(c.inSpeed,function(){if(a.isFunction(c.onShow)){c.onShow(j)}})},g=function(){a("#"+c.toolTipId).stop().fadeOut(c.outSpeed,function(){a(this).remove();if(a.isFunction(c.onHide)){c.onHide(j)}})};if(h&&!c.clickIt){j.hover(function(){a("#"+c.toolTipId).remove();j.attr({title:""});e();f()},function(){g()})}if(h&&c.clickIt){j.click(function(k){a("#"+c.toolTipId).remove();j.attr({title:""});e();f();a("#"+c.closeTipBtn).click(function(){g();return false});return false})}if(!c.fixed&&!c.clickIt){j.mousemove(function(k){a("#"+c.toolTipId).css({top:(k.pageY-a("#"+c.toolTipId).outerHeight()-c.yOffset),left:(k.pageX+c.xOffset)})})}})}})(jQuery);
/*!
 * $ Templates Plugin 1.0.4
 * https://github.com/KanbanSolutions/jquery-tmpl
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(f,h){var w=f.fn.domManip,k="_tmplitem",r={},g={},A,z={key:0,data:{}},y=0,s=0,j=[];var b={sq_escape:/([\\'])/g,sq_unescape:/\\'/g,dq_unescape:/\\\\/g,nl_strip:/[\r\t\n]/g,shortcut_replace:/\$\{([^\}]*)\}/g,lang_parse:/\{\%(\/?)(\w+|.)(?:\(((?:[^\%]|\%(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\%]|\%(?!\}))*?)\))?\s*\%\}/g,old_lang_parse:/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,template_anotate:/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,text_only_template:/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,html_expr:/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! |\{\%! /,last_word:/\w$/};function m(D,C,F,G){var E={data:G||(G===0||G===false)?G:(C?C.data:{}),_wrap:C?C._wrap:null,tmpl:null,parent:C||null,nodes:[],calls:d,nest:c,wrap:p,html:u,update:B};if(D){f.extend(E,D,{nodes:[],parent:C})}if(F){E.tmpl=F;E._ctnt=E._ctnt||f.isFunction(E.tmpl)&&E.tmpl(f,E)||F;E.key=++y;(j.length?g:r)[y]=E}return E}f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(C,D){f.fn[C]=function(E){var H=[],K=f(E),G,I,F,L,J=this.length===1&&this[0].parentNode;A=r||{};if(J&&J.nodeType===11&&J.childNodes.length===1&&K.length===1){K[D](this[0]);H=this}else{for(I=0,F=K.length;I<F;I++){s=I;G=(I>0?this.clone(true):this).get();f(K[I])[D](G);H=H.concat(G)}s=0;H=this.pushStack(H,C,K.selector)}L=A;A=null;f.tmpl.complete(L);return H}});f.fn.extend({tmpl:function(F,E,C){var D=f.tmpl(this[0],F,E,C);return D},tmplItem:function(){var C=f.tmplItem(this[0]);return C},template:function(D){var C=f.template(D,this[0]);return C},domManip:function(G,J,I,K){if(G[0]&&f.isArray(G[0])){var D=f.makeArray(arguments),C=G[0],H=C.length,E=0,F;while(E<H&&!(F=f.data(C[E++],"tmplItem"))){}if(F&&s){D[2]=function(L){f.tmpl.afterManip(this,L,I)}}w.apply(this,D)}else{w.apply(this,arguments)}s=0;if(!A){f.tmpl.complete(r)}return this}});f.extend({tmpl:function(E,H,G,D){var F,C=!D;if(C){D=z;E=f.template[E]||f.template(null,E);g={}}else{if(!E){E=D.tmpl;r[D.key]=D;D.nodes=[];if(D.wrapped){v(D,D.wrapped)}return f(o(D,null,D.tmpl(f,D)))}}if(!E){return[]}if(typeof H==="function"){H=H.call(D||{})}if(G&&G.wrapped){v(G,G.wrapped)}F=f.isArray(H)?f.map(H,function(I){return I?m(G,D,E,I):null}):[m(G,D,E,H)];return C?f(o(D,null,F)):F},tmplItem:function(D){var C;if(D instanceof f){D=D[0]}while(D&&D.nodeType===1&&!(C=f.data(D,"tmplItem"))&&(D=D.parentNode)){}return C||z},template:function(D,C){if(C){if(typeof C==="string"){C=n(C)}else{if(C instanceof f){C=C[0]||{}}}if(C.nodeType){C=f.data(C,"tmpl")||f.data(C,"tmpl",n(C.innerHTML))}return typeof D==="string"?(f.template[D]=C):C}return D?(typeof D!=="string"?f.template(null,D):(f.template[D]||f.template(null,D))):null},encode:function(C){return(""+C).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});f.extend(f.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{open:"}else{"},elif:{open:"}else if(($notnull_1) && $1a){"},elseif:{open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(C){r={}},afterManip:function x(E,C,F){var D=C.nodeType===11?f.makeArray(C.childNodes):C.nodeType===1?[C]:[];F.call(E,C);q(D);s++}});function o(C,G,E){var F,D=E?f.map(E,function(H){return(typeof H==="string")?(C.key?H.replace(b.template_anotate,"$1 "+k+'="'+C.key+'" $2'):H):o(H,C,H._ctnt)}):C;if(G){return D}D=D.join("");D.replace(b.text_only_template,function(I,J,H,K){F=f(H).get();q(F);if(J){F=a(J).concat(F)}if(K){F=F.concat(a(K))}});return F?F:a(D)}function a(D){var C=document.createElement("div");C.innerHTML=D;return f.makeArray(C.childNodes)}function n(E){var D=function(O,I,M,J,K,P,L){if(!M){return"');__.push('"}var R=f.tmpl.tag[M],H,N,Q;if(!R&&window.console&&console.group){console.group("Exception");console.error(E);console.error("Unknown tag: ",M);console.error(O);console.groupEnd("Exception")}if(!R){return"');__.push('"}H=R._default||[];if(P&&!b.last_word.test(K)){K+=P;P=""}if(K){K=l(K);L=L?(","+l(L)+")"):(P?")":"");N=P?(K.indexOf(".")>-1?K+l(P):("("+K+").call($item"+L)):K;Q=P?N:"(typeof("+K+")==='function'?("+K+").call($item):("+K+"))"}else{Q=N=H.$1||"null"}J=l(J);return"');"+R[I?"close":"open"].split("$notnull_1").join(K?"typeof("+K+")!=='undefined' && ("+K+")!=null":"true").split("$1a").join(Q).split("$1").join(N).split("$2").join(J||H.$2||"")+"__.push('"};var F=function(){if(f.tmpl.tag[arguments[2]]){console.group("Depreciated");console.info(E);console.info("Markup has old style indicators, use {% %} instead of {{ }}");console.info(arguments[0]);console.groupEnd("Depreciated");return D.apply(this,arguments)}else{return"');__.push('{{"+arguments[2]+"}}');__.push('"}};var C="var $=$,call,__=[],$data=$item.data; with($data){__.push('";var G=f.trim(E);G=G.replace(b.sq_escape,"\\$1");G=G.replace(b.nl_strip," ");G=G.replace(b.shortcut_replace,"{%= $1%}");G=G.replace(b.lang_parse,D);G=G.replace(b.old_lang_parse,F);C+=G;C+="');}return __;";return new Function("$","$item",C)}function v(D,C){D._wrap=o(D,true,f.isArray(C)?C:[b.html_expr.test(C)?C:f(C).html()]).join("")}function l(C){return C?C.replace(b.sq_unescape,"'").replace(b.dq_unescape,"\\"):null}function e(C){var D=document.createElement("div");D.appendChild(C.cloneNode(true));return D.innerHTML}function q(I){var K="_"+s,D,C,G={},H,F,E;for(H=0,F=I.length;H<F;H++){if((D=I[H]).nodeType!==1){continue}C=D.getElementsByTagName("*");for(E=C.length-1;E>=0;E--){J(C[E])}J(D)}function J(Q){var N,P=Q,O,L,M;if((M=Q.getAttribute(k))){while(P.parentNode&&(P=P.parentNode).nodeType===1&&!(N=P.getAttribute(k))){}if(N!==M){P=P.parentNode?(P.nodeType===11?0:(P.getAttribute(k)||0)):0;if(!(L=r[M])){L=g[M];L=m(L,r[P]||g[P]);L.key=++y;r[y]=L}if(s){R(M)}}Q.removeAttribute(k)}else{if(s&&(L=f.data(Q,"tmplItem"))){R(L.key);r[L.key]=L;P=f.data(Q.parentNode,"tmplItem");P=P?P.key:0}}if(L){O=L;while(O&&O.key!=P){O.nodes.push(Q);O=O.parent}delete L._ctnt;delete L._wrap;f.data(Q,"tmplItem",L)}function R(S){S=S+K;L=G[S]=(G[S]||m(L,r[L.parent.key+K]||L.parent))}}}function d(E,C,F,D){if(!E){return j.pop()}j.push({_:E,tmpl:C,item:this,data:F,options:D})}function c(C,E,D){return f.tmpl(f.template(C),E,D,this)}function p(E,C){var D=E.options||{};D.wrapped=C;return f.tmpl(f.template(E.tmpl),E.data,D,E.item)}function u(D,E){var C=this._wrap;return f.map(f(f.isArray(C)?C.join(""):C).filter(D||"*"),function(F){return E?F.innerText||F.textContent:F.outerHTML||e(F)})}function B(){var C=this.nodes;f.tmpl(null,null,null,this).insertBefore(C[0]);f(C).remove()}})(jQuery);(function(a){jQuery.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){if(this.type!=="textarea"){return false}var g=jQuery(this),c=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),j=parseInt(g.css("line-height"),10)||parseInt(g.css("font-size"),"10"),l=parseInt(g.css("height"),10)||j*3,k=parseInt(g.css("max-height"),10)||Number.MAX_VALUE,d=0;if(k<0){k=Number.MAX_VALUE}c.appendTo(g.parent());var f=b.length;while(f--){c.css(b[f].toString(),g.css(b[f].toString()))}function h(){var n=Math.floor(parseInt(g.width(),10));if(c.width()!==n){c.css({width:n+"px"});e(true)}}function m(n,p){var o=Math.floor(parseInt(n,10));if(g.outerHeight()!==o){g.css({height:o+"px",overflow:p})}}function e(q){var p=g.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />");var n=c.html().replace(/<br>/ig,"<br />");if(q||p+"&nbsp;"!==n){c.html(p+"&nbsp;");if(Math.abs(c.outerHeight()+j-g.outerHeight())>3){var o=c.outerHeight()+j;if(o>=k){m(k,"auto")}else{if(o<=l){m(l,"hidden")}else{m(o,"hidden")}}}}}g.css({overflow:"hidden"});g.bind("keyup change cut paste",function(){e()});a(window).bind("resize",h);g.bind("resize",h);g.bind("update",e);g.bind("blur",function(){});g.bind("input paste",function(n){setTimeout(e,250)});e()})}})})(jQuery);
/*!
 * Masonry PACKAGED v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(f){function e(){}function h(b){function k(a){a.prototype.option||(a.prototype.option=function(c){b.isPlainObject(c)&&(this.options=b.extend(!0,this.options,c))})}function j(a,l){b.fn[a]=function(r){if("string"==typeof r){for(var q=g.call(arguments,1),p=0,o=this.length;o>p;p++){var n=this[p],m=b.data(n,a);if(m){if(b.isFunction(m[r])&&"_"!==r.charAt(0)){var c=m[r].apply(m,q);if(void 0!==c){return c}}else{d("no such method '"+r+"' for "+a+" instance")}}else{d("cannot call methods on "+a+" prior to initialization; attempted to call '"+r+"'")}}return this}return this.each(function(){var s=b.data(this,a);s?(s.option(r),s._init()):(s=new l(this,r),b.data(this,a,s))})}}if(b){var d="undefined"==typeof console?e:function(c){console.error(c)};return b.bridget=function(l,c){k(c),j(l,c)},b.bridget}}var g=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],h):h(f.jQuery)}(window),function(h){function g(a){var d=h.event;return d.target=d.target||d.srcElement||a,d}var m=document.documentElement,l=function(){};m.addEventListener?l=function(e,d,f){e.addEventListener(d,f,!1)}:m.attachEvent&&(l=function(b,f,e){b[f+e]=e.handleEvent?function(){var a=g(b);e.handleEvent.call(e,a)}:function(){var a=g(b);e.call(b,a)},b.attachEvent("on"+f,b[f+e])});var k=function(){};m.removeEventListener?k=function(e,d,f){e.removeEventListener(d,f,!1)}:m.detachEvent&&(k=function(f,e,o){f.detachEvent("on"+e,f[e+o]);try{delete f[e+o]}catch(n){f[e+o]=void 0}});var j={bind:l,unbind:k};"function"==typeof define&&define.amd?define("eventie/eventie",j):"object"==typeof exports?module.exports=j:h.eventie=j}(this),function(h){function g(b){"function"==typeof b&&(g.isReady?b():j.push(b))}function m(b){var o="readystatechange"===b.type&&"complete"!==k.readyState;if(!g.isReady&&!o){g.isReady=!0;for(var n=0,f=j.length;f>n;n++){var e=j[n];e()}}}function l(a){return a.bind(k,"DOMContentLoaded",m),a.bind(k,"readystatechange",m),a.bind(h,"load",m),g}var k=h.document,j=[];g.isReady=!1,"function"==typeof define&&define.amd?(g.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],l)):h.docReady=l(h.eventie)}(this),function(){function h(){}function g(e,d){for(var f=e.length;f--;){if(e[f].listener===d){return f}}return -1}function m(b){return function(){return this[b].apply(this,arguments)}}var l=h.prototype,k=this,j=k.EventEmitter;l.getListeners=function(f){var e,o,n=this._getEvents();if(f instanceof RegExp){e={};for(o in n){n.hasOwnProperty(o)&&f.test(o)&&(e[o]=n[o])}}else{e=n[f]||(n[f]=[])}return e},l.flattenListeners=function(e){var d,f=[];for(d=0;d<e.length;d+=1){f.push(e[d].listener)}return f},l.getListenersAsObject=function(e){var d,f=this.getListeners(e);return f instanceof Array&&(d={},d[e]=f),d||f},l.addListener=function(b,q){var p,o=this.getListenersAsObject(b),n="object"==typeof q;for(p in o){o.hasOwnProperty(p)&&-1===g(o[p],q)&&o[p].push(n?q:{listener:q,once:!1})}return this},l.on=m("addListener"),l.addOnceListener=function(d,c){return this.addListener(d,{listener:c,once:!0})},l.once=m("addOnceListener"),l.defineEvent=function(b){return this.getListeners(b),this},l.defineEvents=function(d){for(var c=0;c<d.length;c+=1){this.defineEvent(d[c])}return this},l.removeListener=function(b,q){var p,o,n=this.getListenersAsObject(b);for(o in n){n.hasOwnProperty(o)&&(p=g(n[o],q),-1!==p&&n[o].splice(p,1))}return this},l.off=m("removeListener"),l.addListeners=function(d,c){return this.manipulateListeners(!1,d,c)},l.removeListeners=function(d,c){return this.manipulateListeners(!0,d,c)},l.manipulateListeners=function(o,n,u){var s,r,q=o?this.removeListener:this.addListener,p=o?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp){for(s=u.length;s--;){q.call(this,n,u[s])}}else{for(s in n){n.hasOwnProperty(s)&&(r=n[s])&&("function"==typeof r?q.call(this,s,r):p.call(this,s,r))}}return this},l.removeEvent=function(f){var e,o=typeof f,n=this._getEvents();if("string"===o){delete n[f]}else{if(f instanceof RegExp){for(e in n){n.hasOwnProperty(e)&&f.test(e)&&delete n[e]}}else{delete this._events}}return this},l.removeAllListeners=m("removeEvent"),l.emitEvent=function(o,n){var u,s,r,q,p=this.getListenersAsObject(o);for(r in p){if(p.hasOwnProperty(r)){for(s=p[r].length;s--;){u=p[r][s],u.once===!0&&this.removeListener(o,u.listener),q=u.listener.apply(this,n||[]),q===this._getOnceReturnValue()&&this.removeListener(o,u.listener)}}}return this},l.trigger=m("emitEvent"),l.emit=function(d){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(d,c)},l.setOnceReturnValue=function(b){return this._onceReturnValue=b,this},l._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},l._getEvents=function(){return this._events||(this._events={})},h.noConflict=function(){return k.EventEmitter=j,h},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return h}):"object"==typeof module&&module.exports?module.exports=h:this.EventEmitter=h}.call(this),function(f){function e(d){if(d){if("string"==typeof g[d]){return d}d=d.charAt(0).toUpperCase()+d.slice(1);for(var c,k=0,j=h.length;j>k;k++){if(c=h[k]+d,"string"==typeof g[c]){return c}}}}var h="Webkit Moz ms Ms O".split(" "),g=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:f.getStyleProperty=e}(window),function(j){function h(e){var d=parseFloat(e),f=-1===e.indexOf("%")&&!isNaN(d);return f&&d}function o(){for(var f={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,p=k.length;p>e;e++){var g=k[e];f[g]=0}return f}function n(b){function g(Q){if("string"==typeof Q&&(Q=document.querySelector(Q)),Q&&"object"==typeof Q&&Q.nodeType){var P=l(Q);if("none"===P.display){return o()}var O={};O.width=Q.offsetWidth,O.height=Q.offsetHeight;for(var N=O.isBorderBox=!(!c||!P[c]||"border-box"!==P[c]),M=0,L=k.length;L>M;M++){var K=k[M],J=P[K];J=f(Q,J);var I=parseFloat(J);O[K]=isNaN(I)?0:I}var H=O.paddingLeft+O.paddingRight,G=O.paddingTop+O.paddingBottom,F=O.marginLeft+O.marginRight,E=O.marginTop+O.marginBottom,D=O.borderLeftWidth+O.borderRightWidth,C=O.borderTopWidth+O.borderBottomWidth,B=N&&e,A=h(P.width);A!==!1&&(O.width=A+(B?0:H+D));var z=h(P.height);return z!==!1&&(O.height=z+(B?0:G+C)),O.innerWidth=O.width-(H+D),O.innerHeight=O.height-(G+C),O.outerWidth=O.width+F,O.outerHeight=O.height+E,O}}function f(q,p){if(m||-1===p.indexOf("%")){return p}var v=q.style,u=v.left,s=q.runtimeStyle,r=s&&s.left;return r&&(s.left=q.currentStyle.left),v.left=p,p=v.pixelLeft,v.left=u,r&&(s.left=r),p}var e,c=b("boxSizing");return function(){if(c){var p=document.createElement("div");p.style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style[c]="border-box";var r=document.body||document.documentElement;r.appendChild(p);var q=l(p);e=200===h(q.width),r.removeChild(p)}}(),g}var m=j.getComputedStyle,l=m?function(b){return m(b,null)}:function(b){return b.currentStyle},k=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("get-style-property")):j.getSize=n(j.getStyleProperty)}(window),function(u,s){function r(d,c){return d[m](c)}function q(d){if(!d.parentNode){var c=document.createDocumentFragment();c.appendChild(d)}}function p(g,d){q(g);for(var v=g.parentNode.querySelectorAll(d),j=0,h=v.length;h>j;j++){if(v[j]===g){return !0}}return !1}function o(d,c){return q(d),r(d,c)}var n,m=function(){if(s.matchesSelector){return"matchesSelector"}for(var b=["webkit","moz","ms","o"],v=0,j=b.length;j>v;v++){var h=b[v],g=h+"MatchesSelector";if(s[g]){return g}}}();if(m){var l=document.createElement("div"),k=r(l,"div");n=k?r:o}else{n=p}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return n}):window.matchesSelector=n}(this,Element.prototype),function(j){function h(e,d){for(var f in d){e[f]=d[f]}return e}function o(d){for(var c in d){return !1}return c=null,!0}function n(b){return b.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})}function m(D,C,B){function A(f,e){f&&(this.element=f,this.layout=e,this.position={x:0,y:0},this._create())}var z=B("transition"),y=B("transform"),x=z&&y,w=!!B("perspective"),v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[z],u=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var p={},f=0,s=u.length;s>f;f++){var r=u[f],q=B(r);q&&q!==r&&(p[r]=q)}return p}();h(A.prototype,D.prototype),A.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},A.prototype.handleEvent=function(f){var e="on"+f.type;this[e]&&this[e](f)},A.prototype.getSize=function(){this.size=C(this.element)},A.prototype.css=function(f){var e=this.element.style;for(var q in f){var p=g[q]||q;e[p]=f[q]}},A.prototype.getPosition=function(){var q=k(this.element),p=this.layout.options,H=p.isOriginLeft,G=p.isOriginTop,F=parseInt(q[H?"left":"right"],10),s=parseInt(q[G?"top":"bottom"],10);F=isNaN(F)?0:F,s=isNaN(s)?0:s;var r=this.layout.size;F-=H?r.paddingLeft:r.paddingRight,s-=G?r.paddingTop:r.paddingBottom,this.position.x=F,this.position.y=s},A.prototype.layoutPosition=function(){var f=this.layout.size,e=this.layout.options,p={};e.isOriginLeft?(p.left=this.position.x+f.paddingLeft+"px",p.right=""):(p.right=this.position.x+f.paddingRight+"px",p.left=""),e.isOriginTop?(p.top=this.position.y+f.paddingTop+"px",p.bottom=""):(p.bottom=this.position.y+f.paddingBottom+"px",p.top=""),this.css(p),this.emitEvent("layout",[this])};var d=w?function(f,e){return"translate3d("+f+"px, "+e+"px, 0)"}:function(f,e){return"translate("+f+"px, "+e+"px)"};A.prototype._transitionTo=function(L,K){this.getPosition();var J=this.position.x,I=this.position.y,H=parseInt(L,10),G=parseInt(K,10),F=H===this.position.x&&G===this.position.y;if(this.setPosition(L,K),F&&!this.isTransitioning){return void this.layoutPosition()}var s=L-J,r=K-I,q={},p=this.layout.options;s=p.isOriginLeft?s:-s,r=p.isOriginTop?r:-r,q.transform=d(s,r),this.transition({to:q,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},A.prototype.goTo=function(f,e){this.setPosition(f,e),this.layoutPosition()},A.prototype.moveTo=x?A.prototype._transitionTo:A.prototype.goTo,A.prototype.setPosition=function(f,e){this.position.x=parseInt(f,10),this.position.y=parseInt(e,10)},A.prototype._nonTransition=function(f){this.css(f.to),f.isCleaning&&this._removeStyles(f.to);for(var e in f.onTransitionEnd){f.onTransitionEnd[e].call(this)}},A.prototype._transition=function(f){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(f)}var e=this._transn;for(var q in f.onTransitionEnd){e.onEnd[q]=f.onTransitionEnd[q]}for(q in f.to){e.ingProperties[q]=!0,f.isCleaning&&(e.clean[q]=!0)}if(f.from){this.css(f.from);var p=this.element.offsetHeight;p=null}this.enableTransition(f.to),this.css(f.to),this.isTransitioning=!0};var c=y&&n(y)+",opacity";A.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:c,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(v,this,!1))},A.prototype.transition=A.prototype[z?"_transition":"_nonTransition"],A.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},A.prototype.onotransitionend=function(e){this.ontransitionend(e)};var b={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};A.prototype.ontransitionend=function(p){if(p.target===this.element){var f=this._transn,r=b[p.propertyName]||p.propertyName;if(delete f.ingProperties[r],o(f.ingProperties)&&this.disableTransition(),r in f.clean&&(this.element.style[p.propertyName]="",delete f.clean[r]),r in f.onEnd){var q=f.onEnd[r];q.call(this),delete f.onEnd[r]}this.emitEvent("transitionEnd",[this])}},A.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(v,this,!1),this.isTransitioning=!1},A.prototype._removeStyles=function(f){var e={};for(var p in f){e[p]=""}this.css(e)};var E={transitionProperty:"",transitionDuration:""};return A.prototype.removeTransitionStyles=function(){this.css(E)},A.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},A.prototype.remove=function(){if(!z||!parseFloat(this.layout.options.transitionDuration)){return void this.removeElem()}var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},A.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},A.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},A.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},A}var l=j.getComputedStyle,k=l?function(b){return l(b,null)}:function(b){return b.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],m):(j.Outlayer={},j.Outlayer.Item=m(j.EventEmitter,j.getSize,j.getStyleProperty))}(window),function(C){function B(e,d){for(var f in d){e[f]=d[f]}return e}function A(b){return"[object Array]"===q.call(b)}function z(f){var c=[];if(A(f)){c=f}else{if(f&&"number"==typeof f.length){for(var h=0,g=f.length;g>h;h++){c.push(f[h])}}else{c.push(f)}}return c}function y(e,d){var f=o(d,e);-1!==f&&d.splice(f,1)}function x(b){return b.replace(/(.)([A-Z])/g,function(e,d,f){return d+"-"+f}).toLowerCase()}function w(k,j,h,f,e,d){function b(g,n){if("string"==typeof g&&(g=v.querySelector(g)),!g||!p(g)){return void (u&&u.error("Bad "+this.constructor.namespace+" element: "+g))}this.element=g,this.options=B({},this.constructor.defaults),this.option(n);var l=++a;this.element.outlayerGUID=l,m[l]=this,this._create(),this.options.isInitLayout&&this.layout()}var a=0,m={};return b.namespace="outlayer",b.Item=d,b.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},B(b.prototype,h.prototype),b.prototype.option=function(c){B(this.options,c)},b.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),B(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},b.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},b.prototype._itemize=function(n){for(var l=this._filterFindItemElements(n),I=this.constructor.Item,H=[],G=0,F=l.length;F>G;G++){var E=l[G],D=new I(E,this);H.push(D)}return H},b.prototype._filterFindItemElements=function(J){J=z(J);for(var I=this.options.itemSelector,H=[],G=0,F=J.length;F>G;G++){var E=J[G];if(p(E)){if(I){e(E,I)&&H.push(E);for(var D=E.querySelectorAll(I),n=0,l=D.length;l>n;n++){H.push(D[n])}}else{H.push(E)}}}return H},b.prototype.getItemElements=function(){for(var l=[],g=0,n=this.items.length;n>g;g++){l.push(this.items[g].element)}return l},b.prototype.layout=function(){this._resetLayout(),this._manageStamps();var c=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,c),this._isLayoutInited=!0},b.prototype._init=b.prototype.layout,b.prototype._resetLayout=function(){this.getSize()},b.prototype.getSize=function(){this.size=f(this.element)},b.prototype._getMeasurement=function(l,g){var D,n=this.options[l];n?("string"==typeof n?D=this.element.querySelector(n):p(n)&&(D=n),this[l]=D?f(D)[g]:n):this[l]=0},b.prototype.layoutItems=function(g,c){g=this._getItemsForLayout(g),this._layoutItems(g,c),this._postLayout()},b.prototype._getItemsForLayout=function(l){for(var g=[],E=0,D=l.length;D>E;E++){var n=l[E];n.isIgnored||g.push(n)}return g},b.prototype._layoutItems=function(J,I){function H(){G.emitEvent("layoutComplete",[G,J])}var G=this;if(!J||!J.length){return void H()}this._itemsOn(J,"layout",H);for(var F=[],E=0,D=J.length;D>E;E++){var n=J[E],l=this._getItemLayoutPosition(n);l.item=n,l.isInstant=I||n.isLayoutInstant,F.push(l)}this._processLayoutQueue(F)},b.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},b.prototype._processLayoutQueue=function(l){for(var g=0,D=l.length;D>g;g++){var n=l[g];this._positionItem(n.item,n.x,n.y,n.isInstant)}},b.prototype._positionItem=function(l,g,D,n){n?l.goTo(g,D):l.moveTo(g,D)},b.prototype._postLayout=function(){this.resizeContainer()},b.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var c=this._getContainerSize();c&&(this._setContainerMeasure(c.width,!0),this._setContainerMeasure(c.height,!1))}},b.prototype._getContainerSize=r,b.prototype._setContainerMeasure=function(l,g){if(void 0!==l){var n=this.size;n.isBorderBox&&(l+=g?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),l=Math.max(l,0),this.element.style[g?"width":"height"]=l+"px"}},b.prototype._itemsOn=function(K,J,I){function H(){return G++,G===F&&I.call(E),!0}for(var G=0,F=K.length,E=this,D=0,n=K.length;n>D;D++){var l=K[D];l.on(J,H)}},b.prototype.ignore=function(g){var c=this.getItem(g);c&&(c.isIgnored=!0)},b.prototype.unignore=function(g){var c=this.getItem(g);c&&delete c.isIgnored},b.prototype.stamp=function(l){if(l=this._find(l)){this.stamps=this.stamps.concat(l);for(var g=0,D=l.length;D>g;g++){var n=l[g];this.ignore(n)}}},b.prototype.unstamp=function(l){if(l=this._find(l)){for(var g=0,D=l.length;D>g;g++){var n=l[g];y(n,this.stamps),this.unignore(n)}}},b.prototype._find=function(c){return c?("string"==typeof c&&(c=this.element.querySelectorAll(c)),c=z(c)):void 0},b.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var l=0,g=this.stamps.length;g>l;l++){var n=this.stamps[l];this._manageStamp(n)}}},b.prototype._getBoundingRect=function(){var g=this.element.getBoundingClientRect(),c=this.size;this._boundingRect={left:g.left+c.paddingLeft+c.borderLeftWidth,top:g.top+c.paddingTop+c.borderTopWidth,right:g.right-(c.paddingRight+c.borderRightWidth),bottom:g.bottom-(c.paddingBottom+c.borderBottomWidth)}},b.prototype._manageStamp=r,b.prototype._getElementOffset=function(l){var g=l.getBoundingClientRect(),E=this._boundingRect,D=f(l),n={left:g.left-E.left-D.marginLeft,top:g.top-E.top-D.marginTop,right:E.right-g.right-D.marginRight,bottom:E.bottom-g.bottom-D.marginBottom};return n},b.prototype.handleEvent=function(g){var c="on"+g.type;this[c]&&this[c](g)},b.prototype.bindResize=function(){this.isResizeBound||(k.bind(C,"resize",this),this.isResizeBound=!0)},b.prototype.unbindResize=function(){this.isResizeBound&&k.unbind(C,"resize",this),this.isResizeBound=!1},b.prototype.onresize=function(){function g(){c.resize(),delete c.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var c=this;this.resizeTimeout=setTimeout(g,100)},b.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},b.prototype.needsResizeLayout=function(){var g=f(this.element),c=this.size&&g;return c&&g.innerWidth!==this.size.innerWidth},b.prototype.addItems=function(g){var c=this._itemize(g);return c.length&&(this.items=this.items.concat(c)),c},b.prototype.appended=function(g){var c=this.addItems(g);c.length&&(this.layoutItems(c,!0),this.reveal(c))},b.prototype.prepended=function(l){var g=this._itemize(l);if(g.length){var n=this.items.slice(0);this.items=g.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(g,!0),this.reveal(g),this.layoutItems(n)}},b.prototype.reveal=function(l){var g=l&&l.length;if(g){for(var D=0;g>D;D++){var n=l[D];n.reveal()}}},b.prototype.hide=function(l){var g=l&&l.length;if(g){for(var D=0;g>D;D++){var n=l[D];n.hide()}}},b.prototype.getItem=function(l){for(var g=0,D=this.items.length;D>g;g++){var n=this.items[g];if(n.element===l){return n}}},b.prototype.getItems=function(l){if(l&&l.length){for(var g=[],F=0,E=l.length;E>F;F++){var D=l[F],n=this.getItem(D);n&&g.push(n)}return g}},b.prototype.remove=function(n){n=z(n);var l=this.getItems(n);if(l&&l.length){this._itemsOn(l,"remove",function(){this.emitEvent("removeComplete",[this,l])});for(var F=0,E=l.length;E>F;F++){var D=l[F];D.remove(),y(D,this.items)}}},b.prototype.destroy=function(){var l=this.element.style;l.height="",l.position="",l.width="";for(var g=0,D=this.items.length;D>g;g++){var n=this.items[g];n.destroy()}this.unbindResize(),delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},b.data=function(g){var c=g&&g.outlayerGUID;return c&&m[c]},b.create=function(g,n){function l(){b.apply(this,arguments)}return Object.create?l.prototype=Object.create(b.prototype):B(l.prototype,b.prototype),l.prototype.constructor=l,l.defaults=B({},b.defaults),B(l.defaults,n),l.prototype.settings={},l.namespace=g,l.data=b.data,l.Item=function(){d.apply(this,arguments)},l.Item.prototype=new d,j(function(){for(var M=x(g),L=v.querySelectorAll(".js-"+M),K="data-"+M+"-options",J=0,I=L.length;I>J;J++){var H,G=L[J],F=G.getAttribute(K);try{H=F&&JSON.parse(F)}catch(E){u&&u.error("Error parsing "+K+" on "+G.nodeName.toLowerCase()+(G.id?"#"+G.id:"")+": "+E);continue}var D=new l(G,H);s&&s.data(G,g,D)}}),s&&s.bridget&&s.bridget(g,l),l},b.Item=d,b}var v=C.document,u=C.console,s=C.jQuery,r=function(){},q=Object.prototype.toString,p="object"==typeof HTMLElement?function(b){return b instanceof HTMLElement}:function(b){return b&&"object"==typeof b&&1===b.nodeType&&"string"==typeof b.nodeName},o=Array.prototype.indexOf?function(d,c){return d.indexOf(c)}:function(f,e){for(var h=0,g=f.length;g>h;h++){if(f[h]===e){return h}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],w):C.Outlayer=w(C.eventie,C.docReady,C.EventEmitter,C.getSize,C.matchesSelector,C.Outlayer.Item)}(window),function(e){function d(g,c){var h=g.create("masonry");return h.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var b=this.cols;for(this.colYs=[];b--;){this.colYs.push(0)}this.maxY=0},h.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var b=this.items[0],j=b&&b.element;this.columnWidth=j&&c(j).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},h.prototype.getContainerWidth=function(){var b=this.options.isFitWidth?this.element.parentNode:this.element,j=c(b);this.containerWidth=j&&j.innerWidth},h.prototype._getItemLayoutPosition=function(x){x.getSize();var w=x.size.outerWidth%this.columnWidth,v=w&&1>w?"round":"ceil",u=Math[v](x.size.outerWidth/this.columnWidth);u=Math.min(u,this.cols);for(var s=this._getColGroup(u),r=Math.min.apply(Math,s),q=f(s,r),p={x:this.columnWidth*q,y:r},o=r+x.size.outerHeight,n=this.cols+1-s.length,m=0;n>m;m++){this.colYs[q+m]=o}return p},h.prototype._getColGroup=function(k){if(2>k){return this.colYs}for(var j=[],n=this.cols+1-k,m=0;n>m;m++){var l=this.colYs.slice(m,m+k);j[m]=Math.max.apply(Math,l)}return j},h.prototype._manageStamp=function(r){var q=c(r),p=this._getElementOffset(r),o=this.options.isOriginLeft?p.left:p.right,n=o+q.outerWidth,m=Math.floor(o/this.columnWidth);m=Math.max(0,m);var l=Math.floor(n/this.columnWidth);l-=n%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var k=(this.options.isOriginTop?p.top:p.bottom)+q.outerHeight,b=m;l>=b;b++){this.colYs[b]=Math.max(k,this.colYs[b])}},h.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var b={height:this.maxY};return this.options.isFitWidth&&(b.width=this._getContainerFitWidth()),b},h.prototype._getContainerFitWidth=function(){for(var k=0,j=this.cols;--j&&0===this.colYs[j];){k++}return(this.cols-k)*this.columnWidth-this.gutter},h.prototype.needsResizeLayout=function(){var b=this.containerWidth;return this.getContainerWidth(),b!==this.containerWidth},h}var f=Array.prototype.indexOf?function(g,c){return g.indexOf(c)}:function(h,g){for(var l=0,k=h.length;k>l;l++){var j=h[l];if(j===g){return l}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],d):e.Masonry=d(e.Outlayer,e.getSize)}(window);window.JSON||(window.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i){return"null"}gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1){h[c]=str(c,i)||"null"}return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1){d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}}else{for(d in i){Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}}return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number"){for(d=0;d<c;d+=1){indent+=" "}}else{typeof c=="string"&&(indent=c)}rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number"){return str("",{"":a})}throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object"){for(c in e){Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c])}}return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}(),function(f,e){var h=f.History=f.History||{},g=f.jQuery;if(typeof h.Adapter!="undefined"){throw new Error("History.js Adapter has already been loaded...")}h.Adapter={bind:function(j,d,k){g(j).bind(d,k)},trigger:function(j,d,k){g(j).trigger(d,k)},extractEventData:function(b,l,k){var j=l&&l.originalEvent&&l.originalEvent[b]||k&&k[b]||e;return j},onDomLoad:function(b){g(b)}},typeof h.init!="undefined"&&h.init()}(window),function(j,h){var o=j.document,n=j.setTimeout||n,m=j.clearTimeout||m,l=j.setInterval||l,k=j.History=j.History||{};if(typeof k.initHtml4!="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}k.initHtml4=function(){if(typeof k.initHtml4.initialized!="undefined"){return !1}k.initHtml4.initialized=!0,k.enabled=!0,k.savedHashes=[],k.isLastHash=function(e){var d=k.getHashByIndex(),f;return f=e===d,f},k.saveHash=function(b){return k.isLastHash(b)?!1:(k.savedHashes.push(b),!0)},k.getHashByIndex=function(d){var c=null;return typeof d=="undefined"?c=k.savedHashes[k.savedHashes.length-1]:d<0?c=k.savedHashes[k.savedHashes.length+d]:c=k.savedHashes[d],c},k.discardedHashes={},k.discardedStates={},k.discardState=function(g,f,r){var q=k.getHashByState(g),p;return p={discardedState:g,backState:r,forwardState:f},k.discardedStates[q]=p,!0},k.discardHash=function(f,e,p){var g={discardedHash:f,backState:p,forwardState:e};return k.discardedHashes[f]=g,!0},k.discardedState=function(e){var d=k.getHashByState(e),f;return f=k.discardedStates[d]||!1,f},k.discardedHash=function(d){var c=k.discardedHashes[d]||!1;return c},k.recycleState=function(d){var c=k.getHashByState(d);return k.discardedState(d)&&delete k.discardedStates[c],!0},k.emulated.hashChange&&(k.hashChangeInit=function(){k.checkerFunction=null;var a="",p,g,f,c;return k.isInternetExplorer()?(p="historyjs-iframe",g=o.createElement("iframe"),g.setAttribute("id",p),g.style.display="none",o.body.appendChild(g),g.contentWindow.document.open(),g.contentWindow.document.close(),f="",c=!1,k.checkerFunction=function(){if(c){return !1}c=!0;var e=k.getHash()||"",b=k.unescapeHash(g.contentWindow.document.location.hash)||"";return e!==a?(a=e,b!==e&&(f=b=e,g.contentWindow.document.open(),g.contentWindow.document.close(),g.contentWindow.document.location.hash=k.escapeHash(e)),k.Adapter.trigger(j,"hashchange")):b!==f&&(f=b,k.setHash(b,!1)),c=!1,!0}):k.checkerFunction=function(){var b=k.getHash();return b!==a&&(a=b,k.Adapter.trigger(j,"hashchange")),!0},k.intervalList.push(l(k.checkerFunction,k.options.hashChangeInterval)),!0},k.Adapter.onDomLoad(k.hashChangeInit)),k.emulated.pushState&&(k.onHashChange=function(a){var s=a&&a.newURL||o.location.href,r=k.getHashByUrl(s),q=null,p=null,g=null,c;return k.isLastHash(r)?(k.busy(!1),!1):(k.doubleCheckComplete(),k.saveHash(r),r&&k.isTraditionalAnchor(r)?(k.Adapter.trigger(j,"anchorchange"),k.busy(!1),!1):(q=k.extractState(k.getFullUrl(r||o.location.href,!1),!0),k.isLastSavedState(q)?(k.busy(!1),!1):(p=k.getHashByState(q),c=k.discardedState(q),c?(k.getHashByIndex(-2)===k.getHashByState(c.forwardState)?k.back(!1):k.forward(!1),!1):(k.pushState(q.data,q.title,q.url,!1),!0))))},k.Adapter.bind(j,"hashchange",k.onHashChange),k.pushState=function(v,u,s,r){if(k.getHashByUrl(s)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(r!==!1&&k.busy()){return k.pushQueue({scope:k,callback:k.pushState,args:arguments,queue:r}),!1}k.busy(!0);var q=k.createStateObject(v,u,s),p=k.getHashByState(q),g=k.getState(!1),c=k.getHashByState(g),a=k.getHash();return k.storeState(q),k.expectedStateId=q.id,k.recycleState(q),k.setTitle(q),p===c?(k.busy(!1),!1):p!==a&&p!==k.getShortUrl(o.location.href)?(k.setHash(p,!1),!1):(k.saveState(q),k.Adapter.trigger(j,"statechange"),k.busy(!1),!0)},k.replaceState=function(p,g,v,u){if(k.getHashByUrl(v)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(u!==!1&&k.busy()){return k.pushQueue({scope:k,callback:k.replaceState,args:arguments,queue:u}),!1}k.busy(!0);var s=k.createStateObject(p,g,v),r=k.getState(!1),q=k.getStateByIndex(-2);return k.discardState(r,s,q),k.pushState(s.data,s.title,s.url,!1),!0}),k.emulated.pushState&&k.getHash()&&!k.emulated.hashChange&&k.Adapter.onDomLoad(function(){k.Adapter.trigger(j,"hashchange")})},typeof k.init!="undefined"&&k.init()}(window),function(C,B){var A=C.console||B,z=C.document,y=C.navigator,x=C.sessionStorage||!1,w=C.setTimeout,v=C.clearTimeout,u=C.setInterval,s=C.clearInterval,r=C.JSON,q=C.alert,p=C.History=C.History||{},o=C.history;r.stringify=r.stringify||r.encode,r.parse=r.parse||r.decode;if(typeof p.init!="undefined"){throw new Error("History.js Core has already been loaded...")}p.init=function(){return typeof p.Adapter=="undefined"?!1:(typeof p.initCore!="undefined"&&p.initCore(),typeof p.initHtml4!="undefined"&&p.initHtml4(),!0)},p.initCore=function(){if(typeof p.initCore.initialized!="undefined"){return !1}p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.storeInterval=p.options.storeInterval||1000,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||z.title,p.intervalList=[],p.clearAllIntervals=function(){var d,c=p.intervalList;if(typeof c!="undefined"&&c!==null){for(d=0;d<c.length;d++){s(c[d])}p.intervalList=null}},p.debug=function(){(p.options.debug||!1)&&p.log.apply(p,arguments)},p.log=function(){var d=typeof A!="undefined"&&typeof A.log!="undefined"&&typeof A.log.apply!="undefined",c=z.getElementById("log"),E,D,n,m,l;d?(m=Array.prototype.slice.call(arguments),E=m.shift(),typeof A.debug!="undefined"?A.debug.apply(A,[E,m]):A.log.apply(A,[E,m])):E="\n"+arguments[0]+"\n";for(D=1,n=arguments.length;D<n;++D){l=arguments[D];if(typeof l=="object"&&typeof r!="undefined"){try{l=r.stringify(l)}catch(k){}}E+="\n"+l+"\n"}return c?(c.value+=E+"\n-----\n",c.scrollTop=c.scrollHeight-c.clientHeight):d||q(E),!0},p.getInternetExplorerMajorVersion=function(){var c=p.getInternetExplorerMajorVersion.cached=typeof p.getInternetExplorerMajorVersion.cached!="undefined"?p.getInternetExplorerMajorVersion.cached:function(){var e=3,d=z.createElement("div"),f=d.getElementsByTagName("i");while((d.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&f[0]){}return e>4?e:!1}();return c},p.isInternetExplorer=function(){var c=p.isInternetExplorer.cached=typeof p.isInternetExplorer.cached!="undefined"?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return c},p.emulated={pushState:!Boolean(C.history&&C.history.pushState&&C.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(y.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(y.userAgent)),hashChange:Boolean(!("onhashchange" in C||"onhashchange" in z)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&y.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(y.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&y.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(y.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(d){for(var c in d){return !1}return !0},p.cloneObject=function(e){var d,f;return e?(d=r.stringify(e),f=r.parse(d)):f={},f},p.getRootUrl=function(){var c=z.location.protocol+"//"+(z.location.hostname||z.location.host);if(z.location.port||!1){c+=":"+z.location.port}return c+="/",c},p.getBaseHref=function(){var e=z.getElementsByTagName("base"),d=null,f="";return e.length===1&&(d=e[0],f=d.href.replace(/[^\/]+$/,"")),f=f.replace(/\/+$/,""),f&&(f+="/"),f},p.getBaseUrl=function(){var c=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return c},p.getPageUrl=function(){var e=p.getState(!1,!1),d=(e||{}).url||z.location.href,f;return f=d.replace(/\/+$/,"").replace(/[^\/]+$/,function(h,g,j){return/\./.test(h)?h:h+"/"}),f},p.getBasePageUrl=function(){var c=z.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,d,f){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return c},p.getFullUrl=function(f,e){var h=f,g=f.substring(0,1);return e=typeof e=="undefined"?!0:e,/[a-z]+\:\/\//.test(f)||(g==="/"?h=p.getRootUrl()+f.replace(/^\/+/,""):g==="#"?h=p.getPageUrl().replace(/#.*/,"")+f:g==="?"?h=p.getPageUrl().replace(/[\?#].*/,"")+f:e?h=p.getBaseUrl()+f.replace(/^(\.\/)+/,""):h=p.getBasePageUrl()+f.replace(/^(\.\/)+/,"")),h.replace(/\#$/,"")},p.getShortUrl=function(f){var e=f,h=p.getBaseUrl(),g=p.getRootUrl();return p.emulated.pushState&&(e=e.replace(h,"")),e=e.replace(g,"/"),p.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),e},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,d){typeof e=="undefined"&&(e=!0),typeof d=="undefined"&&(d=!0);var f=p.getLastSavedState();return !f&&d&&(f=p.createStateObject()),e&&(f=p.cloneObject(f),f.url=f.cleanUrl||f.url),f},p.getIdByState=function(e){var d=p.extractId(e.url),f;if(!d){f=p.getStateString(e);if(typeof p.stateToId[f]!="undefined"){d=p.stateToId[f]}else{if(typeof p.store.stateToId[f]!="undefined"){d=p.store.stateToId[f]}else{for(;;){d=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof p.idToState[d]=="undefined"&&typeof p.store.idToState[d]=="undefined"){break}}p.stateToId[f]=d,p.idToState[d]=e}}}return d},p.normalizeState=function(e){var d,f;if(!e||typeof e!="object"){e={}}if(typeof e.normalized!="undefined"){return e}if(!e.data||typeof e.data!="object"){e.data={}}d={},d.normalized=!0,d.title=e.title||"",d.url=p.getFullUrl(p.unescapeString(e.url||z.location.href)),d.hash=p.getShortUrl(d.url),d.data=p.cloneObject(e.data),d.id=p.getIdByState(d),d.cleanUrl=d.url.replace(/\??\&_suid.*/,""),d.url=d.cleanUrl,f=!p.isEmptyObject(d.data);if(d.title||f){d.hash=p.getShortUrl(d.url).replace(/\??\&_suid.*/,""),/\?/.test(d.hash)||(d.hash+="?"),d.hash+="&_suid="+d.id}return d.hashedUrl=p.getFullUrl(d.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(d)&&(d.url=d.hashedUrl),d},p.createStateObject=function(f,e,h){var g={data:f,title:e,url:h};return g=p.normalizeState(g),g},p.getStateById=function(d){d=String(d);var e=p.idToState[d]||p.store.idToState[d]||B;return e},p.getStateString=function(f){var e,h,g;return e=p.normalizeState(f),h={data:e.data,title:f.title,url:f.url},g=r.stringify(h),g},p.getStateId=function(e){var d,f;return d=p.normalizeState(e),f=d.id,f},p.getHashByState=function(e){var d,f;return d=p.normalizeState(e),f=d.hash,f},p.extractId=function(f){var e,h,g;return h=/(.*)\&_suid=([0-9]+)$/.exec(f),g=h?h[1]||f:f,e=h?String(h[2]||""):"",e||!1},p.isTraditionalAnchor=function(d){var c=!/[\/\?\.]/.test(d);return c},p.extractState=function(g,f){var k=null,j,h;return f=f||!1,j=p.extractId(g),j&&(k=p.getStateById(j)),k||(h=p.getFullUrl(g),j=p.getIdByUrl(h)||!1,j&&(k=p.getStateById(j)),!k&&f&&!p.isTraditionalAnchor(g)&&(k=p.createStateObject(null,null,h))),k},p.getIdByUrl=function(d){var e=p.urlToId[d]||p.store.urlToId[d]||B;return e},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||B},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||B},p.hasUrlDuplicate=function(e){var d=!1,f;return f=p.extractState(e.url),d=f&&f.id!==e.id,d},p.storeState=function(c){return p.urlToId[c.url]=c.id,p.storedStates.push(p.cloneObject(c)),c},p.isLastSavedState=function(g){var f=!1,k,j,h;return p.savedStates.length&&(k=g.id,j=p.getLastSavedState(),h=j.id,f=k===h),f},p.saveState=function(c){return p.isLastSavedState(c)?!1:(p.savedStates.push(p.cloneObject(c)),!0)},p.getStateByIndex=function(d){var c=null;return typeof d=="undefined"?c=p.savedStates[p.savedStates.length-1]:d<0?c=p.savedStates[p.savedStates.length+d]:c=p.savedStates[d],c},p.getHash=function(){var c=p.unescapeHash(z.location.hash);return c},p.unescapeString=function(e){var g=e,f;for(;;){f=C.unescape(g);if(f===g){break}g=f}return g},p.unescapeHash=function(d){var c=p.normalizeHash(d);return c=p.unescapeString(c),c},p.normalizeHash=function(d){var c=d.replace(/[^#]*#/,"").replace(/#.*/,"");return c},p.setHash=function(g,d){var k,j,h;return d!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:d}),!1):(k=p.escapeHash(g),p.busy(!0),j=p.extractState(g,!0),j&&!p.emulated.pushState?p.pushState(j.data,j.title,j.url,!1):z.location.hash!==k&&(p.bugs.setHash?(h=p.getPageUrl(),p.pushState(null,null,h+"#"+k,!1)):z.location.hash=k),p)},p.escapeHash=function(d){var e=p.normalizeHash(d);return e=C.escape(e),p.bugs.hashEscape||(e=e.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),e},p.getHashByUrl=function(d){var c=String(d).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return c=p.unescapeHash(c),c},p.setTitle=function(f){var d=f.title,h;d||(h=p.getStateByIndex(0),h&&h.url===f.url&&(d=h.title||p.options.initialTitle));try{z.getElementsByTagName("title")[0].innerHTML=d.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(g){}return z.title=d,p},p.queues=[],p.busy=function(d){typeof d!="undefined"?p.busy.flag=d:typeof p.busy.flag=="undefined"&&(p.busy.flag=!1);if(!p.busy.flag){v(p.busy.timeout);var c=function(){var e,g,f;if(p.busy.flag){return}for(e=p.queues.length-1;e>=0;--e){g=p.queues[e];if(g.length===0){continue}f=g.shift(),p.fireQueueItem(f),p.busy.timeout=w(c,p.options.busyDelay)}};p.busy.timeout=w(c,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(c){return c.callback.apply(c.scope||p,c.args||[])},p.pushQueue=function(c){return p.queues[c.queue||0]=p.queues[c.queue||0]||[],p.queues[c.queue||0].push(c),p},p.queue=function(d,c){return typeof d=="function"&&(d={callback:d}),typeof c!="undefined"&&(d.queue=c),p.busy()?p.pushQueue(d):p.fireQueueItem(d),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(v(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(c){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=w(function(){return p.doubleCheckClear(),p.stateChanged||c(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var d=p.extractState(z.location.href),e;if(!p.isLastSavedState(d)){e=d}else{return}return e||(e=p.createStateObject()),p.Adapter.trigger(C,"popstate"),p},p.back=function(c){return c!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:c}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),o.go(-1),!0)},p.forward=function(c){return c!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:c}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),o.go(1),!0)},p.go=function(e,d){var f;if(e>0){for(f=1;f<=e;++f){p.forward(d)}}else{if(!(e<0)){throw new Error("History.go: History.go requires a positive or negative integer passed.")}for(f=-1;f>=e;--f){p.back(d)}}return p};if(p.emulated.pushState){var b=function(){};p.pushState=p.pushState||b,p.replaceState=p.replaceState||b}else{p.onPopState=function(d,n){var m=!1,l=!1,k,j;return p.doubleCheckComplete(),k=p.getHash(),k?(j=p.extractState(k||z.location.href,!0),j?p.replaceState(j.data,j.title,j.url,!1):(p.Adapter.trigger(C,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(m=p.Adapter.extractEventData("state",d,n)||!1,m?l=p.getStateById(m):p.expectedStateId?l=p.getStateById(p.expectedStateId):l=p.extractState(z.location.href),l||(l=p.createStateObject(null,null,z.location.href)),p.expectedStateId=!1,p.isLastSavedState(l)?(p.busy(!1),!1):(p.storeState(l),p.saveState(l),p.setTitle(l),p.Adapter.trigger(C,"statechange"),p.busy(!1),!0))},p.Adapter.bind(C,"popstate",p.onPopState),p.pushState=function(g,l,k,j){if(p.getHashByUrl(k)&&p.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(j!==!1&&p.busy()){return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:j}),!1}p.busy(!0);var h=p.createStateObject(g,l,k);return p.isLastSavedState(h)?p.busy(!1):(p.storeState(h),p.expectedStateId=h.id,o.pushState(h.id,h.title,h.url),p.Adapter.trigger(C,"popstate")),!0},p.replaceState=function(g,l,k,j){if(p.getHashByUrl(k)&&p.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(j!==!1&&p.busy()){return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:j}),!1}p.busy(!0);var h=p.createStateObject(g,l,k);return p.isLastSavedState(h)?p.busy(!1):(p.storeState(h),p.expectedStateId=h.id,o.replaceState(h.id,h.title,h.url),p.Adapter.trigger(C,"popstate")),!0}}if(x){try{p.store=r.parse(x.getItem("History.store"))||{}}catch(a){p.store={}}p.normalizeStore()}else{p.store={},p.normalizeStore()}p.Adapter.bind(C,"beforeunload",p.clearAllIntervals),p.Adapter.bind(C,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(z.location.href,!0))),x&&(p.onUnload=function(){var e,d;try{e=r.parse(x.getItem("History.store"))||{}}catch(f){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(d in p.idToState){if(!p.idToState.hasOwnProperty(d)){continue}e.idToState[d]=p.idToState[d]}for(d in p.urlToId){if(!p.urlToId.hasOwnProperty(d)){continue}e.urlToId[d]=p.urlToId[d]}for(d in p.stateToId){if(!p.stateToId.hasOwnProperty(d)){continue}e.stateToId[d]=p.stateToId[d]}p.store=e,p.normalizeStore(),x.setItem("History.store",r.stringify(e))},p.intervalList.push(u(p.onUnload,p.options.storeInterval)),p.Adapter.bind(C,"beforeunload",p.onUnload),p.Adapter.bind(C,"unload",p.onUnload));if(!p.emulated.pushState){p.bugs.safariPoll&&p.intervalList.push(u(p.safariStatePoll,p.options.safariPollInterval));if(y.vendor==="Apple Computer, Inc."||(y.appCodeName||"")==="Mozilla"){p.Adapter.bind(C,"hashchange",function(){p.Adapter.trigger(C,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(C,"hashchange")})}}},p.init()}(window);(function(d){var f=d.fn.append;d.fn.append=function(){return f.apply(this,arguments).trigger("append")};d.fn.callbackAfter=function(h,g){g=g||0;if(d.isFunction(h)){return d(this).each(function(){if(g){self=this;setTimeout(function(){d.isFunction(h)?h.call(self):null},g)}else{d.isFunction(h)?h.call(this):null}})}return this};d.joQueue={_timer:null,_joQueue:[],add:function(k,h,l){var g=function(m){d.joQueue._timer=setTimeout(function(){m=d.joQueue.add();if(d.joQueue._joQueue.length){g(m)}},m||2)};if(k){d.joQueue._joQueue.push([k,h,l]);if(d.joQueue._joQueue.length==1){g(l)}return}var j=d.joQueue._joQueue.shift();if(!j){return 0}j[0].call(j[1]||window);return j[2]},clear:function(){clearTimeout(d.joQueue._timer);d.joQueue._joQueue=[]}};d.fn.LazyLoad=function(){loadImage=function(g,j){if(!j){return}var h=new Image();h.src=j;h.onload=function(){g.src=h.src;d(g).addClass("lazy-load-loaded loaded")};h.onerror=function(){d(g).addClass("lazy-load-loaded loaded");g.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAQAAADa613fAAAAAmJLR0QA/4ePzL8AAAm0SURBVHja7ZxpcFPXFced7UPSmTadpkn7vSkzbdPOtOkkpQvB2AYSdwoudmfY96VkKWk7UDBbwW1CMi0DCS1pMiQZQvzOlbwk2IxxCgaCMNRkwdhuaWxc6GBisCwvkqzlvV8/+PlZkmVL8irR/N8XPd0rW7/RPfeee849Ly3tM/1faP9dMkkyVa5aIk9q67X18qRaonIls/Dr++9Kga//5udUlvYHKVGXVECIfqmAuiQlslNlvXtPEiLIQ7JdTolfEOzGUeMMtTRxlRZu4MTJDVq4ShO1ODhq2A1BEL+c0rbJQ0mCYP+qtk5dFIRSvZomuogtgy6aqKZUFwR1QVt36IEJhVA/llLRhXK9nk6Gow7qKNcF0aVU++GEQGjT1UnBrn/ATUaqm5zHrgtyQjLH1yJ+JDVCsX4RH6OlHmop0gU5pyaPD8SX1eti2PUG/Iy2/NRj18VQrx26b0whuE1WKpfgwMNYyY0DQbWr5WOGUXyvFAtl+nXGWi2U6YLYi+8dA4zCR1WzcI4A46EAZxFUs+3h0Z6jVquA3bjMeOoydkN82orRNPAtwhGjk/GWi3JDkC2jA3GH9rJQafQwEfJSaQjanm23jxzjoFA1TpYR3VqqEORNuWNkIPsEBzoTKZ3TCLJvhLZRNcEYvShVCLJhuBhrhPcMP8kgP5WGoFYNA8P2iPjLJ8jEo/ti5Yb45XsJYrz1RfUfu9FBMsmFTVfN8oXEfKpi4TLJpiYEsSViHSuFsySjziLIsvgddVeZHkhKkABlujjjdPLlgHCdZFULgrwa3z7cOEMyy4EYcewi1T/suiepQdzYdTkbM6QgNJDsqkPQMoa2j1NFuj/pQfwU6VI1dHSEi6SCahGGiINJiV33pQRID3ZdSgbD+IoEz5MqOo8Ei+6PPl/9WmhLGZCbCOpX0UEulOukkMp09WG0cM93hPpU4qAOwfbNgRayXehMKZAOokZY5NQ7KTWwAEoHribv3iP+6lTj4Azik7sHuCZNMecJtzWLt5uvDDx4cEdE5ttxA046QuZ9p5WCcNOGERa78uDBa+0DndYVK/vVONBVUQUS42NB0tltRlSOsREAHwdZSCY57KIlpG8uNQRJZwdB850XSKfbfL2SBVY0P8BBFpFJNr+jHp0g6WRYV6zNXSeCtiPcQkrthhEDZDo5pkPZB/InlvAxAa6zg0W4IkBmkmu+52cumSbIJVawir6FdzdL+IgA7fyNWXxKkHSuxj20DOyGFIeD/KtiaA6CTKeQ3xCwQK4wnWbrTy5DRYBkkc9RAE6w1fpFXuIQdnYRBJxk8u+QLRMJgkCFIfVh6X0ViLWZCpKJm6Ucs0DKWRHSfoD8CJAMKtlIANjBeyZIkDyu08UcOoFjLDMHmce0kyDpNJt3HmIHoxyowPE7+3+PSbG93iAZeKlhPm4TRPhtSHsJzwwA6eLntOIljy4T5CT5ePCwlUrgHZ6lB3AzmxxyKCZIOtPJIoss5sWR6q5FsD3YDzIj9pzVCwKbeMMEOcKKkOD2AbYMAPHyHMUcpQBMkM3MJJtsZrIBP6dZiAcwaKONAgoTHlpNCCqrH2SOcCVOkP8ym7fZCLSSZe0mfaykOApIDc+Sz2kTxMUs01KC5HCdTqZzwYotPz8MkCsIKqcfZLFwLU4Q+AvzzFnrZRbzId1c5TmWhozofhCD+SygxwSxsdXqs5NC4ADzOEcXrSh+yvsRNhJ7aF1D0Bb1gzwp3IgJ8pi5pHmYbVqHwdssIJPZ/DFk8oUczhJkKl5gD88DMIUulnPY6nOCJXiAYhaTRTYb+AgIMoWp1rUvJsgNBG1tP8gGsdbq1FJ7eLrh1gGJY2glpyKHVhzGnpyKNPY4pt/kVOT0G8eCCD6WMQ/oYhVF1rsaq4CA2dbrls+ilk6m0Br2eZ2lzDVfdzGFDDKYwTM0A938JKR3e9jcdS6GIx9yNEomCbUxQepZxmrqMCjhl5Yb/jQlQANLWU2dCZJLLd2kR4A0sJzV5v/pZipX8NDOizwFEb3byKDRWk0C8bso8TiNsJeDKF4EbjDDtKlmZuIGXuItFC8MCbKXt1DsMkEeM1sdzIsKEt/6HuE0xuPGu8mjnU+ZQ4AednLA9LB+D3jJw2m2DQbiI4+btJp9+kB6KODPIwCJcOPj2VidIB/wsJ0TgIP5gI+FVFttPWynalCQk+QDAbZzzPziT5BNJr/gk6ggWeY1N7GNVaytbpAtzCCbbB5nPdBNHg18TB4GBltMn/ZxNgwKsjmsT5+NuKnmZ7QOaSMJbXVV1tDzViuz6MSDhw5ycBHgFXazl79GaYsGctPq4yIHV4iN+FnDkWEOrUYENS2hcJCy/FYvBdiARnKZx5WwNh8FqKgg/X5vkAK0EJDzPEHDMEGihIPS0uRkqT54YmUNFdbd31kBuHmKtUCANRwJa+sDmWZFQxxhfd5jBd2kmzYwn1KI6N1GRsj964OClOhyfGDSbZvQMeiM5Qy566LD3NV5AW9YBL8LFz5umpGsvstNmxUYAg9OfGZLt7mL8YX09uENuXNa0bRIuRC0zQPPnnw7FYPY8o1oaYWPUy6t8EH0jO46GYXj4eOZ6NGejgpy6IFUSr3VDJ56602G9qQERg82PWJNj0xP16YEyAWEIY9xqJMpc2Dg2NAnHzJTYRKuG+iaREE5Z9fdSY3hxqaLI/bpoMliOJIa5DTKKHw0nhNbr0lY/in54iayP86jgOJM3qOAh3XVVvSleKvZlifr4cxqBLUkkXOm9ngCROOtRgSlJViGpJpterIdYLYbqimhA8xpaWlphd9PwiPlvsLvDqscSahMmkP+FYYYCVlHGMrGW6Lsoq8Q5nTqF8Kkpckd8ubElib5qULQ3uC2EVZZbbtd2yNUGt4JwfBydHSKxczfZZNQprsmYMItM8SQTaNZub5cfDZ9fJfIxt6CyqWjXBtqe1g1C9XjVuJajSCfJFyKFGfRsQhl+th7xtc4rAsiBz8/dtXsy8QpOBi7rZeb9xFU26gPqQFBo/vkVTHsev0YFOb7qMOuK0O9ErejPkLTnyxnhSK9ltHzxfoelaCqbY+M78MrMqRKsOs1o/LwihpsuqCOa1Mn5nEik6VEgkKZXodrmCtFHWW6oAJSJD+Y0GejFN2vrVMf9D7g5QyNdGLE/PoGnTRyhhJdEOS8PDNo8HO8VfgtbbMcF58g2IwKw0EtjVylhVacOGnlGldppBYHFYbNEATVI8dVftTEwIQ/QehuLUPbIUXyz96nCEW9/KpBirQdatqApFky6vidtgfVNJkji7W12nptvbZWFsscNU2+Fpbe/0y3sP4HyizS1r5qnHIAAAAASUVORK5CYII="}};return this.each(function(g,h){if(!d(h).hasClass("lazy-load-loaded")){loadImage(this,d(this).data("original"),1)}})};var c={text:/^['"]?(.+?)["']?$/,url:/^url\(["']?(.+?)['"]?\)$/};function b(h){if(h&&h.length){var j=h.match(c.text)[1],g=j.match(c.url);return g?'<img src="'+g[1]+'" />':j}}function a(j,h,g){if(j!="after"){j="before"}if(g=b(h.currentStyle[j])){d(h)[j=="before"?"prepend":"append"](d(document.createElement("span")).addClass(j).html(g))}}d.pseudo=function(g){a("before",g);a("after",g);g.runtimeStyle.behavior=null};d.fn.serializeObject=serializeObject;if(document.createStyleSheet){var e=document.createStyleSheet(null,0);e.addRule(".dummy","display: static;");e.cssText="html, head, head *, body, *.before, *.after, *.before *, *.after * { behavior: none; } * { behavior: expression($.pseudo(this)); }"}d.fn.isVisible=function(){var j=d(this),g=j.parents(),h=function(k){if(!d(k).is(":visible")){return true}if(d(k).is(":hidden")){return true}if(d(k).css("display")=="none"){return true}return false};for(i=0;i<j.size();i++){if(h(j[i])){return false}}for(i=0;i<g.size();i++){if(h(g[i])){return false}}return true}})(jQuery);(function(){var b=/\s*(?:((?:(?:\\\.|[^.,])+\.?)+)\s*([!~><=]=|[><])\s*("|')?((?:\\\3|.)*?)\3|(.+?))\s*(?:,|$)/g;function a(c,d){d=d.match(/(?:\\\.|[^.])+(?=\.|$)/g);var e=jQuery.data(c)[d.shift()];while(e&&d[0]){e=e[d.shift()]}return e||undefined}jQuery.expr[":"].data=function(d,g,j){b.lastIndex=0;var l=j[3],f,c,e,h=null,k=false;while(f=b.exec(l)){c=f[4];e=a(d,f[1]||f[5]);switch(f[2]){case"==":k=e==c;break;case"!=":k=e!=c;break;case"<=":k=e<=c;break;case">=":k=e>=c;break;case"~=":k=RegExp(c).test(e);break;case">":k=e>c;break;case"<":k=e<c;break;default:if(f[5]){k=!!e}}h=h===null?k:h&&k}return h}}());RegExp.escape=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|#]/g,"\\$&")};function serializeObject(d,e){var a="";for(key in d){if("object"===typeof(d[key])&&null!==d[key]){a+=serializeObject(d[key],e.replace("${ext}","["+key+"]${ext}"));continue}var b=!e?key:e.replace("${key}",key).replace("${ext}","");var c=d[key];a+="&"+b+"="+d[key]}return a}
/*!
 * Auto Complete 5.0
 * November 22, 2009
 * Corey Hart @ http://www.codenothing.com
 */
(function(g,h){g.fn.autoComplete=function(){var k=c.call(arguments),j=this,m=k.shift(),l=(typeof m==="string");if(l){m=m.replace(".","-")}k=m==="button-supply"||m==="direct-supply"?g.isArray(k[0])&&g.isArray(k[0][0])?k[0]:k:k[1]===h&&g.isArray(k[0])?k[0]:k;return l?g(j)[m==="option"&&k.length<2?"triggerHandler":"trigger"]("autoComplete."+m,k):m&&m[g.expando]?g(j).trigger(m,k):a.call(j,m)};g.fn.bgiframe=g.fn.bgiframe?g.fn.bgiframe:g.fn.bgIframe?g.fn.bgIframe:function(){return this};g.expando=g.expando!==h?g.expando:(function(){var k=g.Event("keyup"),j;for(j in k){if(j.indexOf("jQuery")===0){return j}}return"jQuery"+k.timeStamp})();function b(){return(new Date).getTime()}var d=true,e=false,c=Array.prototype.slice,f=g.autoComplete={counter:0,length:0,stack:{},order:[],hasFocus:e,getFocus:function(){return this.order[0]?this.stack[this.order[0]]:h},getPrevious:function(){for(var k=1,j=this.order.length;k<j;k++){if(this.order[k]){return this.stack[this.order[k]]}}return h},remove:function(n){for(var m=0,j=this.order.length;m<j;m++){if(this.order[m]===n){this.order[m]=h}}this.stack[n]=h;this.length--;delete this.stack[n]},getAll:function(){for(var m=0,k=this.counter,j=[];m<k;m++){if(this.stack[m]){j.push(this.stack[m])}}return g(j)},defaults:{backwardsCompatible:e,ajax:"ajax.php",ajaxCache:g.ajaxSettings.cache,dataSupply:[],dataFn:h,dataName:"ac-data",list:"auto-complete-list",rollover:"auto-complete-list-rollover",width:"329px",striped:h,maxHeight:h,newList:e,postVar:"value",postData:{},minChars:1,maxItems:-1,maxRequests:0,requestType:"POST",inputControl:h,autoFill:e,nonInput:h,multiple:e,multipleSeparator:" ",onBlur:h,onFocus:h,onHide:h,onLoad:h,onRender:h,onMaxRequest:function(){},onRollover:h,onSelect:h,onShow:h,onSubmit:function(){return d},spinner:h,preventEnterSubmit:d,delay:0,useCache:d,cacheLimit:50}},a=function(j){return this.each(function(){var E=this,k=g(E).attr("autocomplete","off"),I=d,q={},A="",B={length:0},x,z,P,l,H,K=e,J,s,p=-1,o,n,D=(function(){f.length++;return ++f.counter})(),m=0,C={length:0,val:h,list:{}},M=g.extend({width:k.outerWidth()},f.defaults,j||{},g.metadata?k.metadata():{}),w=!M.newList&&g("ul."+M.list)[0]?g("ul."+M.list).eq(0).bgiframe().data("autoComplete",d):g('<div class="autocomplete"><div class="autocomplete-scroll"><ul/></div></div>').hide().insertAfter(E).find("ul").addClass(M.list).bgiframe().data("ac-selfmade",d).data("autoComplete",d),r=g(document).bind("click.autoComplete-"+D,function(R){var Q;if(I&&K&&(!q||R.timeStamp-q.timeStamp>200)&&(Q=g(R.target)).closest("ul").data("ac-input-index")!==D&&Q.data("ac-input-index")!==D){w.hide(R);k.blur()}q=R});u();M.requestType=M.requestType.toUpperCase();n=M.multiple?M.multipleSeparator:h;f.stack[D]=E;k.data("autoComplete",d).data("ac-input-index",D).data("ac-active",I).data("ac-initial-settings",g.extend(d,{},M)).data("ac-settings",M).bind(window.opera?"keypress.autoComplete":"keydown.autoComplete",function(R){if(!I){return d}var Q=(q=R).keyCode,S=e;if(Q==9&&K){G(R)}else{if(Q==13&&x){S=M.preventEnterSubmit&&K?e:d;G(R)}else{if(Q==38){if(p>0){p--;v(R)}else{p=-1;k.val(A);w.hide(R)}}else{if(Q==40){if(p<B.length-1){p++;y(R)}}else{if(Q==33){if(p>0){p-=H;if(p<0){p=0}v(R)}}else{if(Q==34){if(p<B.length-1){p+=H;if(p>B.length-1){p=B.length-1}y(R)}}else{if(M.nonInput&&g.inArray(Q,M.nonInput)){w.html("").hide(R)}else{return d}}}}}}}q[g.expando+"_autoComplete_keydown"]=d;return S}).bind("keyup.autoComplete",function(R){if(!I||q[g.expando+"_autoComplete_keydown"]){return d}A=k.val();var Q=(q=R).keyCode,S=n?A.split(n).pop():A;if(Q!=13){C.val=M.inputControl===h?S:M.inputControl.apply(E,M.backwardsCompatible?[S,Q,w,R]:[R,{val:S,key:Q,ul:w}]);if(C.val.length>=M.minChars){N(R,M,C,(Q==8||Q==32))}else{if(Q==8){w.html("").hide(R)}}}}).bind("blur.autoComplete",function(Q){if(!I||K){return d}q=Q;k.data("ac-hasFocus",e);p=-1;if(f.order[0]!==h){f.order.unshift(h)}f.hasFocus=e;w.hide(Q);if(M.onBlur){M.onBlur.apply(E,M.backwardsCompatible?[A,w,Q]:[Q,{val:A,ul:w}])}}).bind("focus.autoComplete",function(R,Q){if(!I||(f.focus===D&&Q===g.expando+"_autoComplete")||q[g.expando+"_autoComplete_enter"]){return d}q=R;if(D!=w.data("ac-input-index")){w.html("").hide(R)}k.data("ac-hasFocus",d);if(f.order[0]===h){if(f.order[1]===D){f.order.shift()}else{f.order[0]=D}}else{if(f.order[0]!=D&&f.order[1]!=D){f.order.unshift(D)}}if(f.order.length>f.defaults.cacheLimit){f.order.pop()}f.hasFocus=d;if(M.onFocus){M.onFocus.apply(E,M.backwardsCompatible?[w,R]:[R,{ul:w}])}}).bind("autoComplete.settings",function(S,Q){if(!I){return d}if(g.isFunction(Q)){var R=Q.apply(E,M.backwardsCompatible?[M,C,w,S]:[S,{settings:M,cache:C,ul:w}]);if(g.isArray(R)&&R[0]!==h){M=g.extend(d,{},M,R[0]||M);C=g.extend(d,{},C,R[1]||C)}}else{M=g.extend(d,{},M,Q||{})}M.requestType=M.requestType.toUpperCase();n=M.multiple?M.multipleSeparator:h;k.data("ac-settings",M);w=!M.newList&&w.hasClass(M.list)?w:!M.newList&&g("ul."+M.list)[0]?g("ul."+M.list).bgiframe().data("autoComplete",d):g('<div class="autocomplete"><div class="autocomplete-scroll"><ul/></div></div>').hide().insertAfter(E).find("ul").addClass(M.list).bgiframe().data("ac-selfmade",d).data("autoComplete",d);u();return q=S}).bind("autoComplete.flush",function(Q,R){if(!I){return d}C={length:0,val:h,list:{}};if(!R){m=0}return q=Q}).bind("autoComplete.button-ajax",function(R,Q,S){if(!I){return d}q=R;k.trigger("focus",[g.expando+"_autoComplete"]);if(typeof Q==="string"){S=Q;Q={}}C.val=S||"NON_404_<>!@$^&";return N(R,g.extend(d,{},M,{maxItems:-1,postData:Q||{}}),C)}).bind("autoComplete.button-supply",function(Q,R,S){if(!I){return d}q=Q;k.trigger("focus",[g.expando+"_autoComplete"]);if(typeof R==="string"){S=R;R=h}C.val=S||"NON_404_SUPPLY_<>!@$^&";R=g.isArray(R)&&R.length?R:M.dataSupply;return N(Q,g.extend(d,{},M,{maxItems:-1,dataSupply:R,dataFn:function(){return d}}),C)}).bind("autoComplete.direct-supply",function(Q,R,S){if(!I){return d}q=Q;k.trigger("focus",[g.expando+"_autoComplete"]);if(typeof R==="string"){S=R;R=h}C.val=S||"NON_404_SUPPLY_<>!@$^&";R=g.isArray(R)&&R.length?R:M.dataSupply;return O(Q,R,g.extend(d,{},M,{maxItems:-1,dataSupply:R,dataFn:function(){return d}}),C)}).bind("autoComplete.search",function(Q,R){if(!I){return d}C.val=R||"";return N(q=Q,M,C)}).bind("autoComplete.option",function(S){if(!I){return d}q=S;var Q=c.call(arguments),R=Q.length;return R==3?(function(){M[Q[1]]=Q[2];k.data("ac-settings",M);return Q[2]})():R==2?(function(){switch(Q[1]){case"ul":return w;case"cache":return C;case"xhr":return s;case"input":return k;default:return M[Q[1]]||h}})():M}).bind("autoComplete.enable",function(Q){k.data("ac-active",I=d);return q=Q}).bind("autoComplete.disable",function(Q){k.data("ac-active",I=e);w.html("").hide(Q);return q=Q}).bind("autoComplete.destroy",function(R){k.removeData("autoComplete").removeData("ac-input-index").removeData("ac-initial-settings").removeData("ac-settings").removeData("ac-active").unbind(".autoComplete").unbind("autoComplete."+["settings","flush","button-ajax","button-supply","direct-supply","search","option","enable","disable","destroy"].join(" autoComplete.")).parents("form").eq(0).unbind("submit.autoComplete-"+D);r.unbind("click.autoComplete-"+D);f.remove(D);I=e;var S=w.html("").hide(R).data("ac-inputs"),Q;S[D]=h;for(Q in S){if(S[Q]===d){return q=R}}if(w.data("ac-selfmade")===d){w.remove()}return q=R}).parents("form").eq(0).bind("submit.autoComplete-"+D,function(R){if(!I){return d}var Q=q[g.expando+"_autoComplete_enter"]||e;q=R;return M.preventEnterSubmit?(K||Q)?e:M.onSubmit.call(E,R,{form:this,ul:w}):M.onSubmit.call(E,R,{form:this,ul:w})});function N(S,R,Q,U,T){if(R.spinner){R.spinner.call(E,S,{active:d,ul:w})}if(J){J=clearTimeout(J)}if(R.delay>0&&T===h){return J=setTimeout(function(){N(S,R,Q,U,d);J=clearTimeout(J)},R.delay)}if(s){s.abort()}if(R.useCache&&Q.list[Q.val]){return O(S,Q.list[Q.val],R,Q,U)}if(R.dataSupply.length){return L(S,R,Q,U)}if(R.maxRequests&&++m>=R.maxRequests){w.html("").hide(S);if(R.spinner){R.spinner.call(E,S,{active:e,ul:w})}return m>R.maxRequests?e:R.onMaxRequest.apply(E,R.backwardsCompatible?[Q.val,w,S,A]:[S,{search:Q.val,val:A,ul:w}])}R.postData[R.postVar]=Q.val;return s=g.ajax({type:R.requestType,url:R.ajax,data:R.postData,dataType:"json",cache:R.ajaxCache,success:function(V){O(S,V,R,Q,U)},error:function(){w.html("").hide(S);if(R.spinner){R.spinner.call(E,S,{active:e,ul:w})}}})}function L(R,U,Q,T){var X=[],Y=[],Z=g.isFunction(U.dataFn),aa=Z?h:new RegExp("^"+Q.val,"i"),V=0,ab,W=0,S=U.dataSupply.length;for(;W<S;W++){ab=U.dataSupply[W];ab=typeof ab==="object"&&ab.value?ab:{value:ab};Y=U.backwardsCompatible?[Q.val,ab.value,X,W,U.dataSupply,w,R]:[R,{val:Q.val,entry:ab.value,list:X,i:W,supply:U.dataSupply,ul:w}];if((Z&&U.dataFn.apply(E,Y))||(!Z&&ab.value.match(aa))){if(U.maxItems>-1&&++V>U.maxItems){break}X.push(ab)}}return O(R,X,U,Q,T)}function G(Q){if(K){if(M.onSelect){M.onSelect.apply(E,M.backwardsCompatible?[o,x,w,Q]:[Q,{data:o,li:x,ul:w}])}F(h);var R=k.val();A=k.val();if(q.type=="keydown"){q[g.expando+"_autoComplete_enter"]=d}}w.hide(Q);return x}function v(R){if(x){x.removeClass(M.rollover)}w.show(R);x=B.eq(p).addClass(M.rollover);o=x.data(M.dataName);if(!x.length||!o){return e}F(o.value||"");if(M.onRollover){M.onRollover.apply(E,M.backwardsCompatible?[o,x,w,R]:[R,{data:o,li:x,ul:w}])}var Q=p*l;if(Q<z-P){z=Q+P;w.scrollTop(Q)}return x}function y(R){if(x){x.removeClass(M.rollover)}w.show(R);x=B.eq(p).addClass(M.rollover);o=x.data(M.dataName);if(!x.length||!o){return e}F(o.value||"");var Q=(p+1)*l;if(Q>z){w.scrollTop((z=Q)-P)}if(M.onRollover){M.onRollover.apply(E,M.backwardsCompatible?[o,x,w,R]:[R,{data:o,li:x,ul:w}])}return x}function u(){if(!w[g.expando+"_autoComplete"]){var R=w.hide,Q=w.show;w.hide=function(T,U,V){if(M.onHide&&K){M.onHide.call(E,T,{ul:w});q[g.expando+"_autoComplete_hide"]=d}K=e;w.closest(".autocomplete").hide().addClass("hide");return R.call(w,U,V)};w.show=function(T,U,V){if(0>=w.find("li").length){return Q.call(w,U,V)}if(M.onShow&&!K){M.onShow.call(E,T,{ul:w})}K=d;w.closest(".autocomplete").show().removeClass("hide");return Q.call(w,U,V)};w[g.expando+"_autoComplete"]=d}var S=w.data("ac-inputs")||{};S[D]=d;return w.data("ac-inputs",S)}function F(S){if(S===h){var T,Q;T=Q=k.val().length}else{if(n){S=A.substr(0,A.length-A.split(n).pop().length)+S+n}var T=A.length,Q=S.length;S=S.split("-");k.val(S[0])}if(!M.autoFill||T>Q){return e}else{if(E.createTextRange){var R=E.createTextRange();if(S===h){R.move("character",T);R.select()}else{R.collapse(d);R.moveStart("character",T);R.moveEnd("character",Q);R.select()}}else{if(E.setSelectionRange){E.setSelectionRange(T,Q)}else{if(E.selectionStart){E.selectionStart=T;E.selectionEnd=Q}}}}return d}function O(R,ab,W,Q,V){if(W.onLoad){ab=W.onLoad.call(E,R,{list:ab,settings:W,cache:Q,ul:w})}if(W.spinner){W.spinner.call(E,R,{active:e,ul:w})}if(W.useCache&&Q.list[Q.val]===h){Q.length++;Q.list[Q.val]=ab;if(Q.length>W.cacheLimit){Q.list={};Q.length=0}}p=-1;var Z=k.offset(),S=[],T=0,X=0,aa=0,Y=e,U=ab?ab.length:0;for(;aa<U;aa++){if(ab[aa].value){if(W.maxItems>-1&&++T>W.maxItems){break}S.push(W.striped&&Y?'<li class="'+W.striped+'">':"<li>",ab[aa].display||ab[aa].value,"</li>");Y=!Y}}B=w.html(S.join("")).children("li");for(U=B.length;X<U;X++){g.data(B[X],W.dataName,ab[X]);g.data(B[X],"ac-index",X)}if(W.onRender){W.onRender.call(E,R,{list:ab,settings:W,cache:Q,ul:w})}if(w.closest(".autocomplete-scroll").jScrollPane){w.closest(".autocomplete").hide();var ac=parseInt(k.data("item-height"));var ad=parseInt(k.data("visible-items"));if(!ac||isNaN(ac)){ac=80}if(!ad||isNaN(ad)){ad=3}if(ab&&ad>ab.length){ad=ab.length}if(0==ad||!ab){ad=1}w.closest(".autocomplete-scroll").css("height",(ac*ad)+"px");w.closest(".autocomplete-scroll").bind("jsp-initialised",function(af,ae){w.closest(".autocomplete").find(".jspContainer, .jspPane").css("width","100%");w.closest(".autocomplete").show()}).jScrollPane({autoReinitialise:true,mouseWheelSpeed:50}).bind("mousewheel touchmove",function(ae){ae.preventDefault()});w.closest(".autocomplete").show()}if(W.autoFill&&!V){p=0;o=ab[0];F(o.value||"");x=B.eq(0).addClass(W.rollover)}w.unbind(".autoComplete").data("ac-input-index",D).bind("mouseout.autoComplete",function(){x.removeClass(W.rollover)}).bind("mouseover.autoComplete",function(ae){x=g(ae.target).closest("li");if(x.length<1){return e}B.filter("."+W.rollover).removeClass(W.rollover);p=x.addClass(W.rollover).data("ac-index");o=x.data(W.dataName);if(W.onRollover){W.onRollover.apply(E,W.backwardsCompatible?[o,x,w,ae]:[ae,{data:o,li:x,ul:w}])}}).bind("click.autoComplete",function(af){k.trigger("focus",[g.expando+"_autoComplete"]);k.val(A=n?A.substr(0,A.length-A.split(n).pop().length)+o.value+n:o.value);var ag=k.val();var ae=ag.split("-");k.val(ae[0]);w.hide(af);F(h);if(W.onSelect){W.onSelect.apply(E,W.backwardsCompatible?[o,x,w,af]:[af,{data:o,li:x,ul:w}])}}).css({top:Z.top+k.outerHeight(),left:Z.left,width:W.width}).scrollTop(0);if(W.maxHeight){w.css({height:l*B.length>W.maxHeight?W.maxHeight:"auto",overflow:"auto"})}P=w.show(R).outerHeight();z=P;l=B.eq(0).outerHeight();H=Math.floor(z/l);q.timeStamp=b();return w}})}})(jQuery);(function(a){a.fn.imagesLoaded=function(f){var d=this.find("img"),e=[],c=this,b=d.length;if(!d.length){f.call(this);return this}d.one("load error",function(){if(--b===0){b=d.length;d.one("load error",function(){if(--b===0){f.call(c)}}).each(function(){this.src=e.shift()})}}).each(function(){e.push(this.src);this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="});return this}})(jQuery);(function(aM){var ax,aD,aI,aC,az,aQ,ay,aF="Close",aO="BeforeClose",aN="AfterClose",aw="BeforeAppend",aB="MarkupParse",aL="Open",aE="Change",aK="mfp",aJ="."+aK,av="mfp-ready",an="mfp-removing",ar="mfp-prevent-close",au=function(){},aP=!!window.jQuery,ai=aM(window),at=function(a,b){ax.ev.on(aK+a+aJ,b)},aG=function(b,e,a,d){var c=document.createElement("div");return c.className="mfp-"+b,a&&(c.innerHTML=a),d?e&&e.appendChild(c):(c=aM(c),e&&c.appendTo(e)),c},X=function(b,a){ax.ev.triggerHandler(aK+b,a),ax.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),ax.st.callbacks[b]&&ax.st.callbacks[b].apply(ax,aM.isArray(a)?a:[a]))},al=function(a){return a===ay&&ax.currTemplate.closeBtn||(ax.currTemplate.closeBtn=aM(ax.st.closeMarkup.replace("%title%",ax.st.tClose)),ay=a),ax.currTemplate.closeBtn},aR=function(){aM.magnificPopup.instance||(ax=new au,ax.init(),aM.magnificPopup.instance=ax)},aa=function(){var b=document.createElement("p").style,a=["ms","O","Moz","Webkit"];if(void 0!==b.transition){return !0}for(;a.length;){if(a.pop()+"Transition" in b){return !0}}return !1};au.prototype={constructor:au,init:function(){var a=navigator.appVersion;ax.isIE7=-1!==a.indexOf("MSIE 7."),ax.isIE8=-1!==a.indexOf("MSIE 8."),ax.isLowIE=ax.isIE7||ax.isIE8,ax.isAndroid=/android/gi.test(a),ax.isIOS=/iphone|ipad|ipod/gi.test(a),ax.supportsTransition=aa(),ax.probablyMobile=ax.isAndroid||ax.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),aC=aM(document),ax.popupsCache={}},open:function(e){aI||(aI=aM(document.body));var a;if(e.isObj===!1){ax.items=e.items.toArray(),ax.index=0;var q,h=e.items;for(a=0;h.length>a;a++){if(q=h[a],q.parsed&&(q=q.el[0]),q===e.el[0]){ax.index=a;break}}}else{ax.items=aM.isArray(e.items)?e.items:[e.items],ax.index=e.index||0}if(ax.isOpen){return ax.updateItemHTML(),void 0}ax.types=[],aQ="",ax.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):aC,e.key?(ax.popupsCache[e.key]||(ax.popupsCache[e.key]={}),ax.currTemplate=ax.popupsCache[e.key]):ax.currTemplate={},ax.st=aM.extend(!0,{},aM.magnificPopup.defaults,e),ax.fixedContentPos="auto"===ax.st.fixedContentPos?!ax.probablyMobile:ax.st.fixedContentPos,ax.st.modal&&(ax.st.closeOnContentClick=!1,ax.st.closeOnBgClick=!1,ax.st.showCloseBtn=!1,ax.st.enableEscapeKey=!1),ax.bgOverlay||(ax.bgOverlay=aG("bg").on("click"+aJ,function(){ax.close()}),ax.wrap=aG("wrap").attr("tabindex",-1).on("click"+aJ,function(c){ax._checkIfClose(c.target)&&ax.close()}),ax.container=aG("container",ax.wrap)),ax.contentContainer=aG("content"),ax.st.preloader&&(ax.preloader=aG("preloader",ax.container,ax.st.tLoading));var o=aM.magnificPopup.modules;for(a=0;o.length>a;a++){var k=o[a];k=k.charAt(0).toUpperCase()+k.slice(1),ax["init"+k].call(ax)}X("BeforeOpen"),ax.st.showCloseBtn&&(ax.st.closeBtnInside?(at(aB,function(g,d,l,c){l.close_replaceWith=al(c.type)}),aQ+=" mfp-close-btn-in"):ax.wrap.append(al())),ax.st.alignTop&&(aQ+=" mfp-align-top"),ax.fixedContentPos?ax.wrap.css({overflow:ax.st.overflowY,overflowX:"hidden",overflowY:ax.st.overflowY}):ax.wrap.css({top:ai.scrollTop(),position:"absolute"}),(ax.st.fixedBgPos===!1||"auto"===ax.st.fixedBgPos&&!ax.fixedContentPos)&&ax.bgOverlay.css({height:aC.height(),position:"absolute"}),ax.st.enableEscapeKey&&aC.on("keyup"+aJ,function(c){27===c.keyCode&&ax.close()}),ai.on("resize"+aJ,function(){ax.updateSize()}),ax.st.closeOnContentClick||(aQ+=" mfp-auto-cursor"),aQ&&ax.wrap.addClass(aQ);var p=ax.wH=ai.height(),f={};if(ax.fixedContentPos&&ax._hasScrollBar(p)){var j=ax._getScrollbarSize();j&&(f.marginRight=j)}ax.fixedContentPos&&(ax.isIE7?aM("body, html").css("overflow","hidden"):f.overflow="hidden");var b=ax.st.mainClass;return ax.isIE7&&(b+=" mfp-ie7"),b&&ax._addClassToMFP(b),ax.updateItemHTML(),X("BuildControls"),aM("html").css(f),ax.bgOverlay.add(ax.wrap).prependTo(ax.st.prependTo||aI),ax._lastFocusedEl=document.activeElement,setTimeout(function(){ax.content?(ax._addClassToMFP(av),ax._setFocus()):ax.bgOverlay.addClass(av),aC.on("focusin"+aJ,ax._onFocusIn)},16),ax.isOpen=!0,ax.updateSize(p),X(aL),e},close:function(){ax.isOpen&&(X(aO),ax.isOpen=!1,ax.st.removalDelay&&!ax.isLowIE&&ax.supportsTransition?(ax._addClassToMFP(an),setTimeout(function(){ax._close()},ax.st.removalDelay)):ax._close())},_close:function(){X(aF);var b=an+" "+av+" ";if(ax.bgOverlay.detach(),ax.wrap.detach(),ax.container.empty(),ax.st.mainClass&&(b+=ax.st.mainClass+" "),ax._removeClassFromMFP(b),ax.fixedContentPos){var a={marginRight:""};ax.isIE7?aM("body, html").css("overflow",""):a.overflow="",aM("html").css(a)}aC.off("keyup"+aJ+" focusin"+aJ),ax.ev.off(aJ),ax.wrap.attr("class","mfp-wrap").removeAttr("style"),ax.bgOverlay.attr("class","mfp-bg"),ax.container.attr("class","mfp-container"),!ax.st.showCloseBtn||ax.st.closeBtnInside&&ax.currTemplate[ax.currItem.type]!==!0||ax.currTemplate.closeBtn&&ax.currTemplate.closeBtn.detach(),ax._lastFocusedEl&&aM(ax._lastFocusedEl).focus(),ax.currItem=null,ax.content=null,ax.currTemplate=null,ax.prevHeight=0,X(aN)},updateSize:function(b){if(ax.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,a=window.innerHeight*c;ax.wrap.css("height",a),ax.wH=a}else{ax.wH=b||ai.height()}ax.fixedContentPos||ax.wrap.css("height",ax.wH),X("Resize")},updateItemHTML:function(){var e=ax.items[ax.index];ax.contentContainer.detach(),ax.content&&ax.content.detach(),e.parsed||(e=ax.parseEl(ax.index));var c=e.type;if(X("BeforeChange",[ax.currItem?ax.currItem.type:"",c]),ax.currItem=e,!ax.currTemplate[c]){var d=ax.st[c]?ax.st[c].markup:!1;X("FirstMarkupParse",d),ax.currTemplate[c]=d?aM(d):!0}az&&az!==e.type&&ax.container.removeClass("mfp-"+az+"-holder");var b=ax["get"+c.charAt(0).toUpperCase()+c.slice(1)](e,ax.currTemplate[c]);ax.appendContent(b,c),e.preloaded=!0,X(aE,e),az=e.type,ax.container.prepend(ax.contentContainer),X("AfterChange")},appendContent:function(a,b){ax.content=a,a?ax.st.showCloseBtn&&ax.st.closeBtnInside&&ax.currTemplate[b]===!0?ax.content.find(".mfp-close").length||ax.content.append(al()):ax.content=a:ax.content="",X(aw),ax.container.addClass("mfp-"+b+"-holder"),ax.contentContainer.append(ax.content)},parseEl:function(f){var c,e=ax.items[f];if(e.tagName?e={el:aM(e)}:(c=e.type,e={data:e,src:e.src}),e.el){for(var d=ax.types,b=0;d.length>b;b++){if(e.el.hasClass("mfp-"+d[b])){c=d[b];break}}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=c||ax.st.type||"inline",e.index=f,e.parsed=!0,ax.items[f]=e,X("ElementParse",e),ax.items[f]},addGroup:function(b,d){var a=function(e){e.mfpEl=this,ax._openClick(e,b,d)};d||(d={});var c="click.magnificPopup";d.mainEl=b,d.items?(d.isObj=!0,b.off(c).on(c,a)):(d.isObj=!1,d.delegate?b.off(c).on(c,d.delegate,a):(d.items=b,b.off(c).on(c,a)))},_openClick:function(f,c,e){var d=void 0!==e.midClick?e.midClick:aM.magnificPopup.defaults.midClick;if(d||2!==f.which&&!f.ctrlKey&&!f.metaKey){var b=void 0!==e.disableOn?e.disableOn:aM.magnificPopup.defaults.disableOn;if(b){if(aM.isFunction(b)){if(!b.call(ax)){return !0}}else{if(b>ai.width()){return !0}}}f.type&&(f.preventDefault(),ax.isOpen&&f.stopPropagation()),e.el=aM(f.mfpEl),e.delegate&&(e.items=c.find(e.delegate)),ax.open(e)}},updateStatus:function(b,a){if(ax.preloader){aD!==b&&ax.container.removeClass("mfp-s-"+aD),a||"loading"!==b||(a=ax.st.tLoading);var c={status:b,text:a};X("UpdateStatus",c),b=c.status,a=c.text,ax.preloader.html(a),ax.preloader.find("a").on("click",function(d){d.stopImmediatePropagation()}),ax.container.addClass("mfp-s-"+b),aD=b}},_checkIfClose:function(c){if(!aM(c).hasClass(ar)){var a=ax.st.closeOnContentClick,b=ax.st.closeOnBgClick;if(a&&b){return !0}if(!ax.content||aM(c).hasClass("mfp-close")||ax.preloader&&c===ax.preloader[0]){return !0}if(c===ax.content[0]||aM.contains(ax.content[0],c)){if(a){return !0}}else{if(b&&aM.contains(document,c)){return !0}}return !1}},_addClassToMFP:function(a){ax.bgOverlay.addClass(a),ax.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),ax.wrap.removeClass(a)},_hasScrollBar:function(a){return(ax.isIE7?aC.height():document.body.scrollHeight)>(a||ai.height())},_setFocus:function(){(ax.st.focus?ax.content.find(ax.st.focus).eq(0):ax.wrap).focus()},_onFocusIn:function(a){return a.target===ax.wrap[0]||aM.contains(ax.wrap[0],a.target)?void 0:(ax._setFocus(),!1)},_parseMarkup:function(b,d,a){var c;a.data&&(d=aM.extend(a.data,d)),X(aB,[b,d,a]),aM.each(d,function(h,j){if(void 0===j||j===!1){return !0}if(c=h.split("_"),c.length>1){var f=b.find(aJ+"-"+c[0]);if(f.length>0){var g=c[1];"replaceWith"===g?f[0]!==j[0]&&f.replaceWith(j):"img"===g?f.is("img")?f.attr("src",j):f.replaceWith('<img src="'+j+'" class="'+f.attr("class")+'" />'):f.attr(c[1],j)}}else{b.find(aJ+"-"+h).html(j)}})},_getScrollbarSize:function(){if(void 0===ax.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),ax.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return ax.scrollbarSize}},aM.magnificPopup={instance:null,proto:au.prototype,modules:[],open:function(a,b){return aR(),a=a?aM.extend(!0,{},a):{},a.isObj=!0,a.index=b||0,this.instance.open(a)},close:function(){return aM.magnificPopup.instance&&aM.magnificPopup.instance.close()},registerModule:function(a,b){b.options&&(aM.magnificPopup.defaults[a]=b.options),aM.extend(this.proto,b.proto),this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},aM.fn.magnificPopup=function(f){aR();var c=aM(this);if("string"==typeof f){if("open"===f){var e,d=aP?c.data("magnificPopup"):c[0].magnificPopup,b=parseInt(arguments[1],10)||0;d.items?e=d.items[b]:(e=c,d.delegate&&(e=e.find(d.delegate)),e=e.eq(b)),ax._openClick({mfpEl:e},c,d)}else{ax.isOpen&&ax[f].apply(ax,Array.prototype.slice.call(arguments,1))}}else{f=aM.extend(!0,{},f),aP?c.data("magnificPopup",f):c[0].magnificPopup=f,ax.addGroup(c,f)}return c};var ac,ad,aq,af="inline",ao=function(){aq&&(ad.after(aq.addClass(ac)).detach(),aq=null)};aM.magnificPopup.registerModule(af,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){ax.types.push(af),at(aF+"."+af,function(){ao()})},getInline:function(f,c){if(ao(),f.src){var e=ax.st.inline,d=aM(f.src);if(d.length){var b=d[0].parentNode;b&&b.tagName&&(ad||(ac=e.hiddenClass,ad=aG(ac),ac="mfp-"+ac),aq=d.after(ad).detach().removeClass(ac)),ax.updateStatus("ready")}else{ax.updateStatus("error",e.tNotFound),d=aM("<div>")}return f.inlineElement=d,d}return ax.updateStatus("ready"),ax._parseMarkup(c,{},f),c}}});var ak,aj="ajax",ag=function(){ak&&aI.removeClass(ak)},ap=function(){ag(),ax.req&&ax.req.abort()};aM.magnificPopup.registerModule(aj,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){ax.types.push(aj),ak=ax.st.ajax.cursor,at(aF+"."+aj,ap),at("BeforeChange."+aj,ap)},getAjax:function(b){ak&&aI.addClass(ak),ax.updateStatus("loading");var a=aM.extend({url:b.src,success:function(d,f,e){var c={data:d,xhr:e};X("ParseAjax",c),ax.appendContent(aM(c.data),aj),b.finished=!0,ag(),ax._setFocus(),setTimeout(function(){ax.wrap.addClass(av)},16),ax.updateStatus("ready"),X("AjaxContentAdded")},error:function(){ag(),b.finished=b.loadError=!0,ax.updateStatus("error",ax.st.ajax.tError.replace("%url%",b.src))}},ax.st.ajax.settings);return ax.req=aM.ajax(a),""}}});var aH,ae=function(b){if(b.data&&void 0!==b.data.title){return b.data.title}var a=ax.st.image.titleSrc;if(a){if(aM.isFunction(a)){return a.call(ax,b)}if(b.el){return b.el.attr(a)||""}}return""};aM.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=ax.st.image,b=".image";ax.types.push("image"),at(aL+b,function(){"image"===ax.currItem.type&&a.cursor&&aI.addClass(a.cursor)}),at(aF+b,function(){a.cursor&&aI.removeClass(a.cursor),ai.off("resize"+aJ)}),at("Resize"+b,ax.resizeImage),ax.isLowIE&&at("AfterChange",ax.resizeImage)},resizeImage:function(){var a=ax.currItem;if(a&&a.img&&ax.st.image.verticalFit){var b=0;ax.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",ax.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,aH&&clearInterval(aH),a.isCheckingImgSize=!1,X("ImageHasSize",a),a.imgHidden&&(ax.content&&ax.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(b){var d=0,a=b.img[0],c=function(e){aH&&clearInterval(aH),aH=setInterval(function(){return a.naturalWidth>0?(ax._onImageHasSize(b),void 0):(d>200&&clearInterval(aH),d++,3===d?c(10):40===d?c(50):100===d&&c(500),void 0)},e)};c(1)},getImage:function(k,e){var h=0,g=function(){k&&(k.img[0].complete?(k.img.off(".mfploader"),k===ax.currItem&&(ax._onImageHasSize(k),ax.updateStatus("ready")),k.hasSize=!0,k.loaded=!0,X("ImageLoadComplete")):(h++,200>h?setTimeout(g,100):d()))},d=function(){k&&(k.img.off(".mfploader"),k===ax.currItem&&(ax._onImageHasSize(k),ax.updateStatus("error",f.tError.replace("%url%",k.src))),k.hasSize=!0,k.loaded=!0,k.loadError=!0)},f=ax.st.image,b=e.find(".mfp-img");if(b.length){var j=document.createElement("img");j.className="mfp-img",k.img=aM(j).on("load.mfploader",g).on("error.mfploader",d),j.src=k.src,b.is("img")&&(k.img=k.img.clone()),j=k.img[0],j.naturalWidth>0?k.hasSize=!0:j.width||(k.hasSize=!1)}return ax._parseMarkup(e,{title:ae(k),img_replaceWith:k.img},k),ax.resizeImage(),k.hasSize?(aH&&clearInterval(aH),k.loadError?(e.addClass("mfp-loading"),ax.updateStatus("error",f.tError.replace("%url%",k.src))):(e.removeClass("mfp-loading"),ax.updateStatus("ready")),e):(ax.updateStatus("loading"),k.loading=!0,k.hasSize||(k.imgHidden=!0,e.addClass("mfp-loading"),ax.findImageSize(k)),e)}}});var Q,ab=function(){return void 0===Q&&(Q=void 0!==document.createElement("p").style.MozTransform),Q};aM.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var h,l=ax.st.zoom,c=".zoom";if(l.enabled&&ax.supportsTransition){var k,g,b=l.duration,f=function(n){var d=n.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),a="all "+l.duration/1000+"s "+l.easing,p={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},m="transition";return p["-webkit-"+m]=p["-moz-"+m]=p["-o-"+m]=p[m]=a,d.css(p),d},j=function(){ax.content.css("visibility","visible")};at("BuildControls"+c,function(){if(ax._allowZoom()){if(clearTimeout(k),ax.content.css("visibility","hidden"),h=ax._getItemToZoom(),!h){return j(),void 0}g=f(h),g.css(ax._getOffset()),ax.wrap.append(g),k=setTimeout(function(){g.css(ax._getOffset(!0)),k=setTimeout(function(){j(),setTimeout(function(){g.remove(),h=g=null,X("ZoomAnimationEnded")},16)},b)},16)}}),at(aO+c,function(){if(ax._allowZoom()){if(clearTimeout(k),ax.st.removalDelay=b,!h){if(h=ax._getItemToZoom(),!h){return}g=f(h)}g.css(ax._getOffset(!0)),ax.wrap.append(g),ax.content.css("visibility","hidden"),setTimeout(function(){g.css(ax._getOffset())},16)}}),at(aF+c,function(){ax._allowZoom()&&(j(),g&&g.remove(),h=null)})}},_allowZoom:function(){return"image"===ax.currItem.type},_getItemToZoom:function(){return ax.currItem.hasSize?ax.currItem.img:!1},_getOffset:function(g){var c;c=g?ax.currItem.img:ax.st.zoom.opener(ax.currItem.el||ax.currItem);var f=c.offset(),e=parseInt(c.css("padding-top"),10),b=parseInt(c.css("padding-bottom"),10);f.top-=aM(window).scrollTop()-e;var d={width:c.width(),height:(aP?c.innerHeight():c[0].offsetHeight)-b-e};return ab()?d["-moz-transform"]=d.transform="translate("+f.left+"px,"+f.top+"px)":(d.left=f.left,d.top=f.top),d}}});var G="iframe",aA="//about:blank",am=function(a){if(ax.currTemplate[G]){var b=ax.currTemplate[G].find("iframe");b.length&&(a||(b[0].src=aA),ax.isIE8&&b.css("display",a?"block":"none"))}};aM.magnificPopup.registerModule(G,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){ax.types.push(G),at("BeforeChange",function(b,a,c){a!==c&&(a===G?am():c===G&&am(!0))}),at(aF+"."+G,function(){am()})},getIframe:function(f,c){var e=f.src,d=ax.st.iframe;aM.each(d.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var b={};return d.srcAction&&(b[d.srcAction]=e),ax._parseMarkup(c,b,f),ax.updateStatus("ready"),c}}});var ah=function(a){var b=ax.items.length;return a>b-1?a-b:0>a?b+a:a},J=function(b,a,c){return b.replace(/%curr%/gi,a+1).replace(/%total%/gi,c)};aM.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=ax.st.gallery,a=".mfp-gallery",b=Boolean(aM.fn.mfpFastClick);return ax.direction=!0,c&&c.enabled?(aQ+=" mfp-gallery",at(aL+a,function(){c.navigateByImgClick&&ax.wrap.on("click"+a,".mfp-img",function(){return ax.items.length>1?(ax.next(),!1):void 0}),aC.on("keydown"+a,function(d){37===d.keyCode?ax.prev():39===d.keyCode&&ax.next()})}),at("UpdateStatus"+a,function(d,f){f.text&&(f.text=J(f.text,ax.currItem.index,ax.items.length))}),at(aB+a,function(h,f,j,g){var d=ax.items.length;j.counter=d>1?J(c.tCounter,g.index,d):""}),at("BuildControls"+a,function(){if(ax.items.length>1&&c.arrows&&!ax.arrowLeft){var e=c.arrowMarkup,g=ax.arrowLeft=aM(e.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(ar),d=ax.arrowRight=aM(e.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(ar),f=b?"mfpFastClick":"click";g[f](function(){ax.prev()}),d[f](function(){ax.next()}),ax.isIE7&&(aG("b",g[0],!1,!0),aG("a",g[0],!1,!0),aG("b",d[0],!1,!0),aG("a",d[0],!1,!0)),ax.container.append(g.add(d))}}),at(aE+a,function(){ax._preloadTimeout&&clearTimeout(ax._preloadTimeout),ax._preloadTimeout=setTimeout(function(){ax.preloadNearbyImages(),ax._preloadTimeout=null},16)}),at(aF+a,function(){aC.off(a),ax.wrap.off("click"+a),ax.arrowLeft&&b&&ax.arrowLeft.add(ax.arrowRight).destroyMfpFastClick(),ax.arrowRight=ax.arrowLeft=null}),void 0):!1},next:function(){ax.direction=!0,ax.index=ah(ax.index+1),ax.updateItemHTML()},prev:function(){ax.direction=!1,ax.index=ah(ax.index-1),ax.updateItemHTML()},goTo:function(a){ax.direction=a>=ax.index,ax.index=a,ax.updateItemHTML()},preloadNearbyImages:function(){var b,d=ax.st.gallery.preload,a=Math.min(d[0],ax.items.length),c=Math.min(d[1],ax.items.length);for(b=1;(ax.direction?c:a)>=b;b++){ax._preloadItem(ax.index+b)}for(b=1;(ax.direction?a:c)>=b;b++){ax._preloadItem(ax.index-b)}},_preloadItem:function(b){if(b=ah(b),!ax.items[b].preloaded){var a=ax.items[b];a.parsed||(a=ax.parseEl(b)),X("LazyLoad",a),"image"===a.type&&(a.img=aM('<img class="mfp-img" />').on("load.mfploader",function(){a.hasSize=!0}).on("error.mfploader",function(){a.hasSize=!0,a.loadError=!0,X("LazyLoadError",a)}).attr("src",a.src)),a.preloaded=!0}}}});var V="retina";aM.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(b){return"@2x"+b})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=ax.st.retina,b=a.ratio;b=isNaN(b)?b():b,b>1&&(at("ImageHasSize."+V,function(d,c){c.img.css({"max-width":c.img[0].naturalWidth/b,width:"100%"})}),at("ElementParse."+V,function(d,c){c.src=a.replaceSrc(c,b)}))}}}}),function(){var b=1000,e="ontouchstart" in window,a=function(){ai.off("touchmove"+c+" touchend"+c)},d="mfpFastClick",c="."+d;aM.fn.mfpFastClick=function(f){return aM(this).each(function(){var h,k=aM(this);if(e){var g,q,o,j,n,m;k.on("touchstart"+c,function(l){j=!1,m=1,n=l.originalEvent?l.originalEvent.touches[0]:l.touches[0],q=n.clientX,o=n.clientY,ai.on("touchmove"+c,function(p){n=p.originalEvent?p.originalEvent.touches:p.touches,m=n.length,n=n[0],(Math.abs(n.clientX-q)>10||Math.abs(n.clientY-o)>10)&&(j=!0,a())}).on("touchend"+c,function(p){a(),j||m>1||(h=!0,p.preventDefault(),clearTimeout(g),g=setTimeout(function(){h=!1},b),f())})})}k.on("click"+c,function(){h||f()})})},aM.fn.destroyMfpFastClick=function(){aM(this).off("touchstart"+c+" click"+c),e&&ai.off("touchmove"+c+" touchend"+c)}}(),aR()})(window.jQuery||window.Zepto);
/*!
 * jQuery UI Datepicker @VERSION
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery",],a)}else{a(jQuery)}}(function(d){d.extend(d.ui,{datepicker:{version:"@VERSION"}});var f;function g(j){var h,k;while(j.length&&j[0]!==document){h=j.css("position");if(h==="absolute"||h==="relative"||h==="fixed"){k=parseInt(j.css("zIndex"),10);if(!isNaN(k)&&k!==0){return k}}j=j.parent()}return 0}function c(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};d.extend(this._defaults,this.regional[""]);this.regional.en=d.extend(true,{},this.regional[""]);this.regional["en-US"]=d.extend(true,{},this.regional.en);this.dpDiv=b(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}d.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(h){a(this._defaults,h||{});return this},_attachDatepicker:function(l,h){var m,k,j;m=l.nodeName.toLowerCase();k=(m==="div"||m==="span");if(!l.id){this.uuid+=1;l.id="dp"+this.uuid}j=this._newInst(d(l),k);j.settings=d.extend({},h||{});if(m==="input"){this._connectDatepicker(l,j)}else{if(k){this._inlineDatepicker(l,j)}}},_newInst:function(j,h){var k=j[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:k,input:j,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:(!h?this.dpDiv:b(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(k,j){var h=d(k);j.append=d([]);j.trigger=d([]);if(h.hasClass(this.markerClassName)){return}this._attachments(h,j);h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(j);d.data(k,"datepicker",j);if(j.settings.disabled){this._disableDatepicker(k)}},_attachments:function(k,n){var j,m,h,o=this._get(n,"appendText"),l=this._get(n,"isRTL");if(n.append){n.append.remove()}if(o){n.append=d("<span class='"+this._appendClass+"'>"+o+"</span>");k[l?"before":"after"](n.append)}k.unbind("focus",this._showDatepicker);if(n.trigger){n.trigger.remove()}j=this._get(n,"showOn");if(j==="focus"||j==="both"){k.focus(this._showDatepicker)}if(j==="button"||j==="both"){m=this._get(n,"buttonText");h=this._get(n,"buttonImage");n.trigger=d(this._get(n,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:h,alt:m,title:m}):d("<button type='button'></button>").addClass(this._triggerClass).html(!h?m:d("<img/>").attr({src:h,alt:m,title:m})));k[l?"before":"after"](n.trigger);n.trigger.click(function(){if(d.datepicker._datepickerShowing&&d.datepicker._lastInput===k[0]){d.datepicker._hideDatepicker()}else{if(d.datepicker._datepickerShowing&&d.datepicker._lastInput!==k[0]){d.datepicker._hideDatepicker();d.datepicker._showDatepicker(k[0])}else{d.datepicker._showDatepicker(k[0])}}return false})}},_autoSize:function(o){if(this._get(o,"autoSize")&&!o.inline){var l,j,k,n,m=new Date(2009,12-1,20),h=this._get(o,"dateFormat");if(h.match(/[DM]/)){l=function(p){j=0;k=0;for(n=0;n<p.length;n++){if(p[n].length>j){j=p[n].length;k=n}}return k};m.setMonth(l(this._get(o,(h.match(/MM/)?"monthNames":"monthNamesShort"))));m.setDate(l(this._get(o,(h.match(/DD/)?"dayNames":"dayNamesShort")))+20-m.getDay())}o.input.attr("size",this._formatDate(o,m).length)}},_inlineDatepicker:function(j,h){var k=d(j);if(k.hasClass(this.markerClassName)){return}k.addClass(this.markerClassName).append(h.dpDiv);d.data(j,"datepicker",h);this._setDate(h,this._getDefaultDate(h),true);this._updateDatepicker(h);this._updateAlternate(h);if(h.settings.disabled){this._disableDatepicker(j)}h.dpDiv.css("display","block")},_dialogDatepicker:function(p,j,n,k,o){var h,s,m,r,q,l=this._dialogInst;if(!l){this.uuid+=1;h="dp"+this.uuid;this._dialogInput=d("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);l=this._dialogInst=this._newInst(this._dialogInput,false);l.settings={};d.data(this._dialogInput[0],"datepicker",l)}a(l.settings,k||{});j=(j&&j.constructor===Date?this._formatDate(l,j):j);this._dialogInput.val(j);this._pos=(o?(o.length?o:[o.pageX,o.pageY]):null);if(!this._pos){s=document.documentElement.clientWidth;m=document.documentElement.clientHeight;r=document.documentElement.scrollLeft||document.body.scrollLeft;q=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(s/2)-100+r,(m/2)-150+q]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");l.settings.onSelect=n;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(d.blockUI){d.blockUI(this.dpDiv)}d.data(this._dialogInput[0],"datepicker",l);return this},_destroyDatepicker:function(k){var l,h=d(k),j=d.data(k,"datepicker");if(!h.hasClass(this.markerClassName)){return}l=k.nodeName.toLowerCase();d.removeData(k,"datepicker");if(l==="input"){j.append.remove();j.trigger.remove();h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(l==="div"||l==="span"){h.removeClass(this.markerClassName).empty()}}if(f===j){f=null}},_enableDatepicker:function(l){var m,k,h=d(l),j=d.data(l,"datepicker");if(!h.hasClass(this.markerClassName)){return}m=l.nodeName.toLowerCase();if(m==="input"){l.disabled=false;j.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(m==="div"||m==="span"){k=h.children("."+this._inlineClass);k.children().removeClass("ui-state-disabled");k.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=d.map(this._disabledInputs,function(n){return(n===l?null:n)})},_disableDatepicker:function(l){var m,k,h=d(l),j=d.data(l,"datepicker");if(!h.hasClass(this.markerClassName)){return}m=l.nodeName.toLowerCase();if(m==="input"){l.disabled=true;j.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(m==="div"||m==="span"){k=h.children("."+this._inlineClass);k.children().addClass("ui-state-disabled");k.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=d.map(this._disabledInputs,function(n){return(n===l?null:n)});this._disabledInputs[this._disabledInputs.length]=l},_isDisabledDatepicker:function(j){if(!j){return false}for(var h=0;h<this._disabledInputs.length;h++){if(this._disabledInputs[h]===j){return true}}return false},_getInst:function(j){try{return d.data(j,"datepicker")}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(o,j,n){var k,h,m,p,l=this._getInst(o);if(arguments.length===2&&typeof j==="string"){return(j==="defaults"?d.extend({},d.datepicker._defaults):(l?(j==="all"?d.extend({},l.settings):this._get(l,j)):null))}k=j||{};if(typeof j==="string"){k={};k[j]=n}if(l){if(this._curInst===l){this._hideDatepicker()}h=this._getDateDatepicker(o,true);m=this._getMinMaxDate(l,"min");p=this._getMinMaxDate(l,"max");a(l.settings,k);if(m!==null&&k.dateFormat!==undefined&&k.minDate===undefined){l.settings.minDate=this._formatDate(l,m)}if(p!==null&&k.dateFormat!==undefined&&k.maxDate===undefined){l.settings.maxDate=this._formatDate(l,p)}if("disabled" in k){if(k.disabled){this._disableDatepicker(o)}else{this._enableDatepicker(o)}}this._attachments(d(o),l);this._autoSize(l);this._setDate(l,h);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(k,h,j){this._optionDatepicker(k,h,j)},_refreshDatepicker:function(j){var h=this._getInst(j);if(h){this._updateDatepicker(h)}},_setDateDatepicker:function(k,h){var j=this._getInst(k);if(j){this._setDate(j,h);this._updateDatepicker(j);this._updateAlternate(j)}},_getDateDatepicker:function(k,h){var j=this._getInst(k);if(j&&!j.inline){this._setDateFromField(j,h)}return(j?this._getDate(j):null)},_doKeyDown:function(l){var j,h,n,m=d.datepicker._getInst(l.target),o=true,k=m.dpDiv.is(".ui-datepicker-rtl");m._keyEvent=true;if(d.datepicker._datepickerShowing){switch(l.keyCode){case 9:d.datepicker._hideDatepicker();o=false;break;case 13:n=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",m.dpDiv);if(n[0]){d.datepicker._selectDay(l.target,m.selectedMonth,m.selectedYear,n[0])}j=d.datepicker._get(m,"onSelect");if(j){h=d.datepicker._formatDate(m);j.apply((m.input?m.input[0]:null),[h,m])}else{d.datepicker._hideDatepicker()}return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(l.target,(l.ctrlKey?-d.datepicker._get(m,"stepBigMonths"):-d.datepicker._get(m,"stepMonths")),"M");break;case 34:d.datepicker._adjustDate(l.target,(l.ctrlKey?+d.datepicker._get(m,"stepBigMonths"):+d.datepicker._get(m,"stepMonths")),"M");break;case 35:if(l.ctrlKey||l.metaKey){d.datepicker._clearDate(l.target)}o=l.ctrlKey||l.metaKey;break;case 36:if(l.ctrlKey||l.metaKey){d.datepicker._gotoToday(l.target)}o=l.ctrlKey||l.metaKey;break;case 37:if(l.ctrlKey||l.metaKey){d.datepicker._adjustDate(l.target,(k?+1:-1),"D")}o=l.ctrlKey||l.metaKey;if(l.originalEvent.altKey){d.datepicker._adjustDate(l.target,(l.ctrlKey?-d.datepicker._get(m,"stepBigMonths"):-d.datepicker._get(m,"stepMonths")),"M")}break;case 38:if(l.ctrlKey||l.metaKey){d.datepicker._adjustDate(l.target,-7,"D")}o=l.ctrlKey||l.metaKey;break;case 39:if(l.ctrlKey||l.metaKey){d.datepicker._adjustDate(l.target,(k?-1:+1),"D")}o=l.ctrlKey||l.metaKey;if(l.originalEvent.altKey){d.datepicker._adjustDate(l.target,(l.ctrlKey?+d.datepicker._get(m,"stepBigMonths"):+d.datepicker._get(m,"stepMonths")),"M")}break;case 40:if(l.ctrlKey||l.metaKey){d.datepicker._adjustDate(l.target,+7,"D")}o=l.ctrlKey||l.metaKey;break;default:o=false}}else{if(l.keyCode===36&&l.ctrlKey){d.datepicker._showDatepicker(this)}else{o=false}}if(o){l.preventDefault();l.stopPropagation()}},_doKeyPress:function(k){var j,h,l=d.datepicker._getInst(k.target);if(d.datepicker._get(l,"constrainInput")){j=d.datepicker._possibleChars(d.datepicker._get(l,"dateFormat"));h=String.fromCharCode(k.charCode==null?k.keyCode:k.charCode);return k.ctrlKey||k.metaKey||(h<" "||!j||j.indexOf(h)>-1)}},_doKeyUp:function(k){var h,l=d.datepicker._getInst(k.target);if(l.input.val()!==l.lastVal){try{h=d.datepicker.parseDate(d.datepicker._get(l,"dateFormat"),(l.input?l.input.val():null),d.datepicker._getFormatConfig(l));if(h){d.datepicker._setDateFromField(l);d.datepicker._updateAlternate(l);d.datepicker._updateDatepicker(l)}}catch(j){}}return true},_showDatepicker:function(j){j=j.target||j;if(j.nodeName.toLowerCase()!=="input"){j=d("input",j.parentNode)[0]}if(d.datepicker._isDisabledDatepicker(j)||d.datepicker._lastInput===j){return}var l,p,k,n,o,h,m;l=d.datepicker._getInst(j);if(d.datepicker._curInst&&d.datepicker._curInst!==l){d.datepicker._curInst.dpDiv.stop(true,true);if(l&&d.datepicker._datepickerShowing){d.datepicker._hideDatepicker(d.datepicker._curInst.input[0])}}p=d.datepicker._get(l,"beforeShow");k=p?p.apply(j,[j,l]):{};if(k===false){return}a(l.settings,k);l.lastVal=null;d.datepicker._lastInput=j;d.datepicker._setDateFromField(l);if(d.datepicker._inDialog){j.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(j);d.datepicker._pos[1]+=j.offsetHeight}n=false;d(j).parents().each(function(){n|=d(this).css("position")==="fixed";return !n});o={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;l.dpDiv.empty();l.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(l);o=d.datepicker._checkOffset(l,o,n);l.dpDiv.css({position:(d.datepicker._inDialog&&d.blockUI?"static":(n?"fixed":"absolute")),display:"none",left:o.left+"px",top:o.top+"px"});if(!l.inline){h=d.datepicker._get(l,"showAnim");m=d.datepicker._get(l,"duration");l.dpDiv.css("z-index",g(d(j))+1);d.datepicker._datepickerShowing=true;if(d.effects&&d.effects.effect[h]){l.dpDiv.show(h,d.datepicker._get(l,"showOptions"),m)}else{l.dpDiv[h||"show"](h?m:null)}if(d.datepicker._shouldFocusInput(l)){l.input.focus()}d.datepicker._curInst=l}},_updateDatepicker:function(l){this.maxRows=4;f=l;l.dpDiv.empty().append(this._generateHTML(l));this._attachHandlers(l);var n,h=this._getNumberOfMonths(l),m=h[1],k=17,j=l.dpDiv.find("."+this._dayOverClass+" a");if(j.length>0){e.apply(j.get(0))}l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(m>1){l.dpDiv.addClass("ui-datepicker-multi-"+m).css("width",(k*m)+"em")}l.dpDiv[(h[0]!==1||h[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(l===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(l)){l.input.focus()}if(l.yearshtml){n=l.yearshtml;setTimeout(function(){if(n===l.yearshtml&&l.yearshtml){l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml)}n=l.yearshtml=null},0)}},_shouldFocusInput:function(h){return h.input&&h.input.is(":visible")&&!h.input.is(":disabled")&&!h.input.is(":focus")},_checkOffset:function(n,l,k){var m=n.dpDiv.outerWidth(),q=n.dpDiv.outerHeight(),p=n.input?n.input.outerWidth():0,h=n.input?n.input.outerHeight():0,o=document.documentElement.clientWidth+(k?0:d(document).scrollLeft()),j=document.documentElement.clientHeight+(k?0:d(document).scrollTop());l.left-=(this._get(n,"isRTL")?(m-p):0);l.left-=(k&&l.left===n.input.offset().left)?d(document).scrollLeft():0;l.top-=(k&&l.top===(n.input.offset().top+h))?d(document).scrollTop():0;l.left-=Math.min(l.left,(l.left+m>o&&o>m)?Math.abs(l.left+m-o):0);l.top-=Math.min(l.top,(l.top+q>j&&j>q)?Math.abs(q+h):0);return l},_findPos:function(l){var h,k=this._getInst(l),j=this._get(k,"isRTL");while(l&&(l.type==="hidden"||l.nodeType!==1||d.expr.filters.hidden(l))){l=l[j?"previousSibling":"nextSibling"]}h=d(l).offset();return[h.left,h.top]},_hideDatepicker:function(k){var j,n,m,h,l=this._curInst;if(!l||(k&&l!==d.data(k,"datepicker"))){return}if(this._datepickerShowing){j=this._get(l,"showAnim");n=this._get(l,"duration");m=function(){d.datepicker._tidyDialog(l)};if(d.effects&&(d.effects.effect[j]||d.effects[j])){l.dpDiv.hide(j,d.datepicker._get(l,"showOptions"),n,m)}else{l.dpDiv[(j==="slideDown"?"slideUp":(j==="fadeIn"?"fadeOut":"hide"))]((j?n:null),m)}if(!j){m()}this._datepickerShowing=false;h=this._get(l,"onClose");if(h){h.apply((l.input?l.input[0]:null),[(l.input?l.input.val():""),l])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(h){h.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(j){if(!d.datepicker._curInst){return}var h=d(j.target),k=d.datepicker._getInst(h[0]);if(((h[0].id!==d.datepicker._mainDivId&&h.parents("#"+d.datepicker._mainDivId).length===0&&!h.hasClass(d.datepicker.markerClassName)&&!h.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)))||(h.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==k)){d.datepicker._hideDatepicker()}},_adjustDate:function(m,l,k){var j=d(m),h=this._getInst(j[0]);if(this._isDisabledDatepicker(j[0])){return}this._adjustInstDate(h,l+(k==="M"?this._get(h,"showCurrentAtPos"):0),k);this._updateDatepicker(h)},_gotoToday:function(l){var h,k=d(l),j=this._getInst(k[0]);if(this._get(j,"gotoCurrent")&&j.currentDay){j.selectedDay=j.currentDay;j.drawMonth=j.selectedMonth=j.currentMonth;j.drawYear=j.selectedYear=j.currentYear}else{h=new Date();j.selectedDay=h.getDate();j.drawMonth=j.selectedMonth=h.getMonth();j.drawYear=j.selectedYear=h.getFullYear()}this._notifyChange(j);this._adjustDate(k)},_selectMonthYear:function(m,h,l){var k=d(m),j=this._getInst(k[0]);j["selected"+(l==="M"?"Month":"Year")]=j["draw"+(l==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(j);this._adjustDate(k)},_selectDay:function(n,l,h,m){var j,k=d(n);if(d(m).hasClass(this._unselectableClass)||this._isDisabledDatepicker(k[0])){return}j=this._getInst(k[0]);j.selectedDay=j.currentDay=d("a",m).html();j.selectedMonth=j.currentMonth=l;j.selectedYear=j.currentYear=h;this._selectDate(n,this._formatDate(j,j.currentDay,j.currentMonth,j.currentYear))},_clearDate:function(j){var h=d(j);this._selectDate(h,"")},_selectDate:function(m,h){var j,l=d(m),k=this._getInst(l[0]);h=(h!=null?h:this._formatDate(k));if(k.input){k.input.val(h)}this._updateAlternate(k);j=this._get(k,"onSelect");if(j){j.apply((k.input?k.input[0]:null),[h,k])}else{if(k.input){k.input.trigger("change")}}if(k.inline){this._updateDatepicker(k)}else{this._hideDatepicker();this._lastInput=k.input[0];if(typeof(k.input[0])!=="object"){k.input.focus()}this._lastInput=null}},_updateAlternate:function(m){var l,k,h,j=this._get(m,"altField");if(j){l=this._get(m,"altFormat")||this._get(m,"dateFormat");k=this._getDate(m);h=this.formatDate(l,k,this._getFormatConfig(m));d(j).each(function(){d(this).val(h)})}},noWeekends:function(j){var h=j.getDay();return[(h>0&&h<6),""]},iso8601Week:function(h){var j,k=new Date(h.getTime());k.setDate(k.getDate()+4-(k.getDay()||7));j=k.getTime();k.setMonth(0);k.setDate(1);return Math.floor(Math.round((j-k)/86400000)/7)+1},parseDate:function(z,u,B){if(z==null||u==null){throw"Invalid arguments"}u=(typeof u==="object"?u.toString():u+"");if(u===""){return null}var l,w,j,A=0,o=(B?B.shortYearCutoff:null)||this._defaults.shortYearCutoff,k=(typeof o!=="string"?o:new Date().getFullYear()%100+parseInt(o,10)),r=(B?B.dayNamesShort:null)||this._defaults.dayNamesShort,D=(B?B.dayNames:null)||this._defaults.dayNames,h=(B?B.monthNamesShort:null)||this._defaults.monthNamesShort,m=(B?B.monthNames:null)||this._defaults.monthNames,n=-1,E=-1,y=-1,q=-1,x=false,C,s=function(G){var H=(l+1<z.length&&z.charAt(l+1)===G);if(H){l++}return H},F=function(I){var G=s(I),J=(I==="@"?14:(I==="!"?20:(I==="y"&&G?4:(I==="o"?3:2)))),L=(I==="y"?J:1),K=new RegExp("^\\d{"+L+","+J+"}"),H=u.substring(A).match(K);if(!H){throw"Missing number at position "+A}A+=H[0].length;return parseInt(H[0],10)},p=function(H,I,K){var G=-1,J=d.map(s(H)?K:I,function(M,L){return[[L,M]]}).sort(function(M,L){return -(M[1].length-L[1].length)});d.each(J,function(M,N){var L=N[1];if(u.substr(A,L.length).toLowerCase()===L.toLowerCase()){G=N[0];A+=L.length;return false}});if(G!==-1){return G+1}else{throw"Unknown name at position "+A}},v=function(){if(u.charAt(A)!==z.charAt(l)){throw"Unexpected literal at position "+A}A++};for(l=0;l<z.length;l++){if(x){if(z.charAt(l)==="'"&&!s("'")){x=false}else{v()}}else{switch(z.charAt(l)){case"d":y=F("d");break;case"D":p("D",r,D);break;case"o":q=F("o");break;case"m":E=F("m");break;case"M":E=p("M",h,m);break;case"y":n=F("y");break;case"@":C=new Date(F("@"));n=C.getFullYear();E=C.getMonth()+1;y=C.getDate();break;case"!":C=new Date((F("!")-this._ticksTo1970)/10000);n=C.getFullYear();E=C.getMonth()+1;y=C.getDate();break;case"'":if(s("'")){v()}else{x=true}break;default:v()}}}if(A<u.length){j=u.substr(A);if(!/^\s+/.test(j)){throw"Extra/unparsed characters found in date: "+j}}if(n===-1){n=new Date().getFullYear()}else{if(n<100){n+=new Date().getFullYear()-new Date().getFullYear()%100+(n<=k?0:-100)}}if(q>-1){E=1;y=q;do{w=this._getDaysInMonth(n,E-1);if(y<=w){break}E++;y-=w}while(true)}C=this._daylightSavingAdjust(new Date(n,E-1,y));if(C.getFullYear()!==n||C.getMonth()+1!==E||C.getDate()!==y){throw"Invalid date"}return C},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(r,l,m){if(!l){return""}var u,v=(m?m.dayNamesShort:null)||this._defaults.dayNamesShort,j=(m?m.dayNames:null)||this._defaults.dayNames,p=(m?m.monthNamesShort:null)||this._defaults.monthNamesShort,n=(m?m.monthNames:null)||this._defaults.monthNames,s=function(w){var x=(u+1<r.length&&r.charAt(u+1)===w);if(x){u++}return x},h=function(y,z,w){var x=""+z;if(s(y)){while(x.length<w){x="0"+x}}return x},o=function(w,y,x,z){return(s(w)?z[y]:x[y])},k="",q=false;if(l){for(u=0;u<r.length;u++){if(q){if(r.charAt(u)==="'"&&!s("'")){q=false}else{k+=r.charAt(u)}}else{switch(r.charAt(u)){case"d":k+=h("d",l.getDate(),2);break;case"D":k+=o("D",l.getDay(),v,j);break;case"o":k+=h("o",Math.round((new Date(l.getFullYear(),l.getMonth(),l.getDate()).getTime()-new Date(l.getFullYear(),0,0).getTime())/86400000),3);break;case"m":k+=h("m",l.getMonth()+1,2);break;case"M":k+=o("M",l.getMonth(),p,n);break;case"y":k+=(s("y")?l.getFullYear():(l.getYear()%100<10?"0":"")+l.getYear()%100);break;case"@":k+=l.getTime();break;case"!":k+=l.getTime()*10000+this._ticksTo1970;break;case"'":if(s("'")){k+="'"}else{q=true}break;default:k+=r.charAt(u)}}}}return k},_possibleChars:function(m){var l,k="",j=false,h=function(n){var o=(l+1<m.length&&m.charAt(l+1)===n);if(o){l++}return o};for(l=0;l<m.length;l++){if(j){if(m.charAt(l)==="'"&&!h("'")){j=false}else{k+=m.charAt(l)}}else{switch(m.charAt(l)){case"d":case"m":case"y":case"@":k+="0123456789";break;case"D":case"M":return null;case"'":if(h("'")){k+="'"}else{j=true}break;default:k+=m.charAt(l)}}}return k},_get:function(j,h){return j.settings[h]!==undefined?j.settings[h]:this._defaults[h]},_setDateFromField:function(n,k){if(n.input.val()===n.lastVal){return}var h=this._get(n,"dateFormat"),p=n.lastVal=n.input?n.input.val():null,o=this._getDefaultDate(n),j=o,l=this._getFormatConfig(n);try{j=this.parseDate(h,p,l)||o}catch(m){p=(k?"":p)}n.selectedDay=j.getDate();n.drawMonth=n.selectedMonth=j.getMonth();n.drawYear=n.selectedYear=j.getFullYear();n.currentDay=(p?j.getDate():0);n.currentMonth=(p?j.getMonth():0);n.currentYear=(p?j.getFullYear():0);this._adjustInstDate(n)},_getDefaultDate:function(h){return this._restrictMinMax(h,this._determineDate(h,this._get(h,"defaultDate"),new Date()))},_determineDate:function(m,j,n){var l=function(p){var o=new Date();o.setDate(o.getDate()+p);return o},k=function(w){try{return d.datepicker.parseDate(d.datepicker._get(m,"dateFormat"),w,d.datepicker._getFormatConfig(m))}catch(v){}var p=(w.toLowerCase().match(/^c/)?d.datepicker._getDate(m):null)||new Date(),q=p.getFullYear(),u=p.getMonth(),o=p.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=s.exec(w);while(r){switch(r[2]||"d"){case"d":case"D":o+=parseInt(r[1],10);break;case"w":case"W":o+=parseInt(r[1],10)*7;break;case"m":case"M":u+=parseInt(r[1],10);o=Math.min(o,d.datepicker._getDaysInMonth(q,u));break;case"y":case"Y":q+=parseInt(r[1],10);o=Math.min(o,d.datepicker._getDaysInMonth(q,u));break}r=s.exec(w)}return new Date(q,u,o)},h=(j==null||j===""?n:(typeof j==="string"?k(j):(typeof j==="number"?(isNaN(j)?n:l(j)):new Date(j.getTime()))));h=(h&&h.toString()==="Invalid Date"?n:h);if(h){h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0)}return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(h){if(!h){return null}h.setHours(h.getHours()>12?h.getHours()+2:0);return h},_setDate:function(o,l,n){var h=!l,k=o.selectedMonth,m=o.selectedYear,j=this._restrictMinMax(o,this._determineDate(o,l,new Date()));o.selectedDay=o.currentDay=j.getDate();o.drawMonth=o.selectedMonth=o.currentMonth=j.getMonth();o.drawYear=o.selectedYear=o.currentYear=j.getFullYear();if((k!==o.selectedMonth||m!==o.selectedYear)&&!n){this._notifyChange(o)}this._adjustInstDate(o);if(o.input){o.input.val(h?"":this._formatDate(o))}},_getDate:function(j){var h=(!j.currentYear||(j.input&&j.input.val()==="")?null:this._daylightSavingAdjust(new Date(j.currentYear,j.currentMonth,j.currentDay)));return h},_attachHandlers:function(j){var h=this._get(j,"stepMonths"),k="#"+j.id.replace(/\\\\/g,"\\");j.dpDiv.find("[data-handler]").map(function(){var l={prev:function(){d.datepicker._adjustDate(k,-h,"M")},next:function(){d.datepicker._adjustDate(k,+h,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(k)},selectDay:function(){d.datepicker._selectDay(k,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){d.datepicker._selectMonthYear(k,this,"M");return false},selectYear:function(){d.datepicker._selectMonthYear(k,this,"Y");return false}};d(this).bind(this.getAttribute("data-event"),l[this.getAttribute("data-handler")])})},_generateHTML:function(Z){var C,B,U,M,m,ad,X,Q,ag,K,ak,u,w,v,j,ac,r,F,af,S,al,E,J,s,n,V,O,R,P,q,H,x,Y,ab,l,ae,ai,N,y,aa=new Date(),D=this._daylightSavingAdjust(new Date(aa.getFullYear(),aa.getMonth(),aa.getDate())),ah=this._get(Z,"isRTL"),aj=this._get(Z,"showButtonPanel"),T=this._get(Z,"hideIfNoPrevNext"),I=this._get(Z,"navigationAsDateFormat"),z=this._getNumberOfMonths(Z),p=this._get(Z,"showCurrentAtPos"),L=this._get(Z,"stepMonths"),G=(z[0]!==1||z[1]!==1),k=this._daylightSavingAdjust((!Z.currentDay?new Date(9999,9,9):new Date(Z.currentYear,Z.currentMonth,Z.currentDay))),o=this._getMinMaxDate(Z,"min"),A=this._getMinMaxDate(Z,"max"),h=Z.drawMonth-p,W=Z.drawYear;if(h<0){h+=12;W--}if(A){C=this._daylightSavingAdjust(new Date(A.getFullYear(),A.getMonth()-(z[0]*z[1])+1,A.getDate()));C=(o&&C<o?o:C);while(this._daylightSavingAdjust(new Date(W,h,1))>C){h--;if(h<0){h=11;W--}}}Z.drawMonth=h;Z.drawYear=W;B=this._get(Z,"prevText");B=(!I?B:this.formatDate(B,this._daylightSavingAdjust(new Date(W,h-L,1)),this._getFormatConfig(Z)));U=(this._canAdjustMonth(Z,-1,W,h)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+B+"'><span class='ui-icon ui-icon-circle-triangle-"+(ah?"e":"w")+"'>"+B+"</span></a>":(T?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+B+"'><span class='ui-icon ui-icon-circle-triangle-"+(ah?"e":"w")+"'>"+B+"</span></a>"));M=this._get(Z,"nextText");M=(!I?M:this.formatDate(M,this._daylightSavingAdjust(new Date(W,h+L,1)),this._getFormatConfig(Z)));m=(this._canAdjustMonth(Z,+1,W,h)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+M+"'><span class='ui-icon ui-icon-circle-triangle-"+(ah?"w":"e")+"'>"+M+"</span></a>":(T?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+M+"'><span class='ui-icon ui-icon-circle-triangle-"+(ah?"w":"e")+"'>"+M+"</span></a>"));ad=this._get(Z,"currentText");X=(this._get(Z,"gotoCurrent")&&Z.currentDay?k:D);ad=(!I?ad:this.formatDate(ad,X,this._getFormatConfig(Z)));Q=(!Z.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(Z,"closeText")+"</button>":"");ag=(aj)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ah?Q:"")+(this._isInRange(Z,X)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+ad+"</button>":"")+(ah?"":Q)+"</div>":"";K=parseInt(this._get(Z,"firstDay"),10);K=(isNaN(K)?0:K);ak=this._get(Z,"showWeek");u=this._get(Z,"dayNames");w=this._get(Z,"dayNamesMin");v=this._get(Z,"monthNames");j=this._get(Z,"monthNamesShort");ac=this._get(Z,"beforeShowDay");r=this._get(Z,"showOtherMonths");F=this._get(Z,"selectOtherMonths");af=this._getDefaultDate(Z);S="";al;for(E=0;E<z[0];E++){J="";this.maxRows=4;for(s=0;s<z[1];s++){n=this._daylightSavingAdjust(new Date(W,h,Z.selectedDay));V=" ui-corner-all";O="";if(G){O+="<div class='ui-datepicker-group";if(z[1]>1){switch(s){case 0:O+=" ui-datepicker-group-first";V=" ui-corner-"+(ah?"right":"left");break;case z[1]-1:O+=" ui-datepicker-group-last";V=" ui-corner-"+(ah?"left":"right");break;default:O+=" ui-datepicker-group-middle";V="";break}}O+="'>"}O+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+V+"'>"+(/all|left/.test(V)&&E===0?(ah?m:U):"")+(/all|right/.test(V)&&E===0?(ah?U:m):"")+this._generateMonthYearHeader(Z,h,W,o,A,E>0||s>0,v,j)+"</div><table class='ui-datepicker-calendar'><thead><tr>";R=(ak?"<th class='ui-datepicker-week-col'>"+this._get(Z,"weekHeader")+"</th>":"");for(al=0;al<7;al++){P=(al+K)%7;R+="<th scope='col'"+((al+K+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[P]+"'>"+w[P]+"</span></th>"}O+=R+"</tr></thead><tbody>";q=this._getDaysInMonth(W,h);if(W===Z.selectedYear&&h===Z.selectedMonth){Z.selectedDay=Math.min(Z.selectedDay,q)}H=(this._getFirstDayOfMonth(W,h)-K+7)%7;x=Math.ceil((H+q)/7);Y=(G?this.maxRows>x?this.maxRows:x:x);this.maxRows=Y;ab=this._daylightSavingAdjust(new Date(W,h,1-H));for(l=0;l<Y;l++){O+="<tr>";ae=(!ak?"":"<td class='ui-datepicker-week-col'>"+this._get(Z,"calculateWeek")(ab)+"</td>");for(al=0;al<7;al++){ai=(ac?ac.apply((Z.input?Z.input[0]:null),[ab]):[true,""]);N=(ab.getMonth()!==h);y=(N&&!F)||!ai[0]||(o&&ab<o)||(A&&ab>A);ae+="<td class='"+((al+K+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+((ab.getTime()===n.getTime()&&h===Z.selectedMonth&&Z._keyEvent)||(af.getTime()===ab.getTime()&&af.getTime()===n.getTime())?" "+this._dayOverClass:"")+(y?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!r?"":" "+ai[1]+(ab.getTime()===k.getTime()?" "+this._currentClass:"")+(ab.getTime()===D.getTime()?" ui-datepicker-today":""))+"'"+((!N||r)&&ai[2]?" title='"+ai[2].replace(/'/g,"&#39;")+"'":"")+(y?"":" data-handler='selectDay' data-event='click' data-month='"+ab.getMonth()+"' data-year='"+ab.getFullYear()+"'")+">"+(N&&!r?"&#xa0;":(y?"<span class='ui-state-default'>"+ab.getDate()+"</span>":"<a class='ui-state-default"+(ab.getTime()===D.getTime()?" ui-state-highlight":"")+(ab.getTime()===k.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+ab.getDate()+"</a>"))+"</td>";ab.setDate(ab.getDate()+1);ab=this._daylightSavingAdjust(ab)}O+=ae+"</tr>"}h++;if(h>11){h=0;W++}O+="</tbody></table>"+(G?"</div>"+((z[0]>0&&s===z[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");J+=O}S+=J}S+=ag;Z._keyEvent=false;return S},_generateMonthYearHeader:function(m,k,v,o,s,w,q,h){var A,j,B,y,n,x,u,p,l=this._get(m,"changeMonth"),C=this._get(m,"changeYear"),D=this._get(m,"showMonthAfterYear"),r="<div class='ui-datepicker-title'>",z="";if(w||!l){z+="<span class='ui-datepicker-month'>"+q[k]+"</span>"}else{A=(o&&o.getFullYear()===v);j=(s&&s.getFullYear()===v);z+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(B=0;B<12;B++){if((!A||B>=o.getMonth())&&(!j||B<=s.getMonth())){z+="<option value='"+B+"'"+(B===k?" selected='selected'":"")+">"+h[B]+"</option>"}}z+="</select>"}if(!D){r+=z+(w||!(l&&C)?"&#xa0;":"")}if(!m.yearshtml){m.yearshtml="";if(w||!C){r+="<span class='ui-datepicker-year'>"+v+"</span>"}else{y=this._get(m,"yearRange").split(":");n=new Date().getFullYear();x=function(F){var E=(F.match(/c[+\-].*/)?v+parseInt(F.substring(1),10):(F.match(/[+\-].*/)?n+parseInt(F,10):parseInt(F,10)));return(isNaN(E)?n:E)};u=x(y[0]);p=Math.max(u,x(y[1]||""));u=(o?Math.max(u,o.getFullYear()):u);p=(s?Math.min(p,s.getFullYear()):p);m.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;u<=p;u++){m.yearshtml+="<option value='"+u+"'"+(u===v?" selected='selected'":"")+">"+u+"</option>"}m.yearshtml+="</select>";r+=m.yearshtml;m.yearshtml=null}}r+=this._get(m,"yearSuffix");if(D){r+=(w||!(l&&C)?"&#xa0;":"")+z}r+="</div>";return r},_adjustInstDate:function(l,o,n){var k=l.drawYear+(n==="Y"?o:0),m=l.drawMonth+(n==="M"?o:0),h=Math.min(l.selectedDay,this._getDaysInMonth(k,m))+(n==="D"?o:0),j=this._restrictMinMax(l,this._daylightSavingAdjust(new Date(k,m,h)));l.selectedDay=j.getDate();l.drawMonth=l.selectedMonth=j.getMonth();l.drawYear=l.selectedYear=j.getFullYear();if(n==="M"||n==="Y"){this._notifyChange(l)}},_restrictMinMax:function(l,j){var k=this._getMinMaxDate(l,"min"),m=this._getMinMaxDate(l,"max"),h=(k&&j<k?k:j);return(m&&h>m?m:h)},_notifyChange:function(j){var h=this._get(j,"onChangeMonthYear");if(h){h.apply((j.input?j.input[0]:null),[j.selectedYear,j.selectedMonth+1,j])}},_getNumberOfMonths:function(j){var h=this._get(j,"numberOfMonths");return(h==null?[1,1]:(typeof h==="number"?[1,h]:h))},_getMinMaxDate:function(j,h){return this._determineDate(j,this._get(j,h+"Date"),null)},_getDaysInMonth:function(h,j){return 32-this._daylightSavingAdjust(new Date(h,j,32)).getDate()},_getFirstDayOfMonth:function(h,j){return new Date(h,j,1).getDay()},_canAdjustMonth:function(l,n,k,m){var h=this._getNumberOfMonths(l),j=this._daylightSavingAdjust(new Date(k,m+(n<0?n:h[0]*h[1]),1));if(n<0){j.setDate(this._getDaysInMonth(j.getFullYear(),j.getMonth()))}return this._isInRange(l,j)},_isInRange:function(m,k){var j,p,l=this._getMinMaxDate(m,"min"),h=this._getMinMaxDate(m,"max"),q=null,n=null,o=this._get(m,"yearRange");if(o){j=o.split(":");p=new Date().getFullYear();q=parseInt(j[0],10);n=parseInt(j[1],10);if(j[0].match(/[+\-].*/)){q+=p}if(j[1].match(/[+\-].*/)){n+=p}}return((!l||k.getTime()>=l.getTime())&&(!h||k.getTime()<=h.getTime())&&(!q||k.getFullYear()>=q)&&(!n||k.getFullYear()<=n))},_getFormatConfig:function(h){var j=this._get(h,"shortYearCutoff");j=(typeof j!=="string"?j:new Date().getFullYear()%100+parseInt(j,10));return{shortYearCutoff:j,dayNamesShort:this._get(h,"dayNamesShort"),dayNames:this._get(h,"dayNames"),monthNamesShort:this._get(h,"monthNamesShort"),monthNames:this._get(h,"monthNames")}},_formatDate:function(l,h,m,k){if(!h){l.currentDay=l.selectedDay;l.currentMonth=l.selectedMonth;l.currentYear=l.selectedYear}var j=(h?(typeof h==="object"?h:this._daylightSavingAdjust(new Date(k,m,h))):this._daylightSavingAdjust(new Date(l.currentYear,l.currentMonth,l.currentDay)));return this.formatDate(this._get(l,"dateFormat"),j,this._getFormatConfig(l))}});function b(j){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return j.delegate(h,"mouseout",function(){d(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){d(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){d(this).removeClass("ui-datepicker-next-hover")}}).delegate(h,"mouseover",e)}function e(){if(!d.datepicker._isDisabledDatepicker(f.inline?f.dpDiv.parent()[0]:f.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){d(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){d(this).addClass("ui-datepicker-next-hover")}}}function a(k,j){d.extend(k,j);for(var h in j){if(j[h]==null){k[h]=j[h]}}return k}d.fn.datepicker=function(j){if(!this.length){return this}if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick);d.datepicker.initialized=true}if(d("#"+d.datepicker._mainDivId).length===0){d("body").append(d.datepicker.dpDiv)}var h=Array.prototype.slice.call(arguments,1);if(typeof j==="string"&&(j==="isDisabled"||j==="getDate"||j==="widget")){return d.datepicker["_"+j+"Datepicker"].apply(d.datepicker,[this[0]].concat(h))}if(j==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return d.datepicker["_"+j+"Datepicker"].apply(d.datepicker,[this[0]].concat(h))}return this.each(function(){typeof j==="string"?d.datepicker["_"+j+"Datepicker"].apply(d.datepicker,[this].concat(h)):d.datepicker._attachDatepicker(this,j)})};d.datepicker=new c();d.datepicker.initialized=false;d.datepicker.uuid=new Date().getTime();d.datepicker.version="@VERSION";return d.datepicker}));!function(a){var c={},b={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4000,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};a.fn.bxSlider=function(ar){if(0==this.length){return this}if(this.length>1){return this.each(function(){a(this).bxSlider(ar)}),this}var aq={},an=this;c.el=this;var aC=a(window).width(),au=a(window).height(),az=function(){aq.settings=a.extend({},b,ar),aq.settings.slideWidth=parseInt(aq.settings.slideWidth),aq.children=an.children(aq.settings.slideSelector),aq.children.length<aq.settings.minSlides&&(aq.settings.minSlides=aq.children.length),aq.children.length<aq.settings.maxSlides&&(aq.settings.maxSlides=aq.children.length),aq.settings.randomStart&&(aq.settings.startSlide=Math.floor(Math.random()*aq.children.length)),aq.active={index:aq.settings.startSlide},aq.carousel=aq.settings.minSlides>1||aq.settings.maxSlides>1,aq.carousel&&(aq.settings.preloadImages="all"),aq.minThreshold=aq.settings.minSlides*aq.settings.slideWidth+(aq.settings.minSlides-1)*aq.settings.slideMargin,aq.maxThreshold=aq.settings.maxSlides*aq.settings.slideWidth+(aq.settings.maxSlides-1)*aq.settings.slideMargin,aq.working=!1,aq.controls={},aq.interval=null,aq.animProp="vertical"==aq.settings.mode?"top":"left",aq.usingCSS=aq.settings.useCSS&&"fade"!=aq.settings.mode&&function(){var f=document.createElement("div"),g=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var d in g){if(void 0!==f.style[g[d]]){return aq.cssPrefix=g[d].replace("Perspective","").toLowerCase(),aq.animProp="-"+aq.cssPrefix+"-transform",!0}}return !1}(),"vertical"==aq.settings.mode&&(aq.settings.maxSlides=aq.settings.minSlides),an.data("origStyle",an.attr("style")),an.children(aq.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))}),aA()},aA=function(){an.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),aq.viewport=an.parent(),aq.loader=a('<div class="bx-loading" />'),aq.viewport.prepend(aq.loader),an.css({width:"horizontal"==aq.settings.mode?100*aq.children.length+215+"%":"auto",position:"relative"}),aq.usingCSS&&aq.settings.easing?an.css("-"+aq.cssPrefix+"-transition-timing-function",aq.settings.easing):aq.settings.easing||(aq.settings.easing="swing"),ay(),aq.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),aq.viewport.parent().css({maxWidth:ap()}),aq.settings.pager||aq.viewport.parent().css({margin:"0 auto 0px"}),aq.children.css({"float":"horizontal"==aq.settings.mode?"left":"none",listStyle:"none",position:"relative"}),aq.children.css("width",am()),"horizontal"==aq.settings.mode&&aq.settings.slideMargin>0&&aq.children.css("marginRight",aq.settings.slideMargin),"vertical"==aq.settings.mode&&aq.settings.slideMargin>0&&aq.children.css("marginBottom",aq.settings.slideMargin),"fade"==aq.settings.mode&&(aq.children.css({position:"absolute",zIndex:0,display:"none"}),aq.children.eq(aq.settings.startSlide).css({zIndex:aq.settings.slideZIndex,display:"block"})),aq.controls.el=a('<div class="bx-controls" />'),aq.settings.captions&&K(),aq.active.last=aq.settings.startSlide==aj()-1,aq.settings.video&&an.fitVids();var d=aq.children.eq(aq.settings.startSlide);"all"==aq.settings.preloadImages&&(d=aq.children),aq.settings.ticker?aq.settings.pager=!1:(aq.settings.pager&&G(),aq.settings.controls&&af(),aq.settings.auto&&aq.settings.autoControls&&ad(),(aq.settings.controls||aq.settings.autoControls||aq.settings.pager)&&aq.viewport.after(aq.controls.el)),ax(d,aw)},ax=function(g,d){var f=g.find("img, iframe").length;if(0==f){return d(),void 0}var h=0;g.find("img, iframe").each(function(){a(this).one("load",function(){++h==f&&d()}).each(function(){this.complete&&a(this).load()})})},aw=function(){if(aq.settings.infiniteLoop&&"fade"!=aq.settings.mode&&!aq.settings.ticker){var g="vertical"==aq.settings.mode?aq.settings.minSlides:aq.settings.maxSlides,d=aq.children.slice(0,g).clone().addClass("bx-clone"),f=aq.children.slice(-g).clone().addClass("bx-clone");an.append(d).prepend(f)}aq.loader.remove(),J(),"vertical"==aq.settings.mode&&(aq.settings.adaptiveHeight=!0),aq.viewport.height(al()),an.redrawSlider(),aq.settings.onSliderLoad(aq.active.index),aq.initialized=!0,aq.settings.responsive&&a(window).bind("resize",e),aq.settings.auto&&aq.settings.autoStart&&ac(),aq.settings.ticker&&aa(),aq.settings.pager&&ao(aq.settings.startSlide),aq.settings.controls&&B(),aq.settings.touchEnabled&&!aq.settings.ticker&&Q()},al=function(){var f=0,d=a();if("vertical"==aq.settings.mode||aq.settings.adaptiveHeight){if(aq.carousel){var g=1==aq.settings.moveSlides?aq.active.index:aq.active.index*at();for(d=aq.children.eq(g),i=1;i<=aq.settings.maxSlides-1;i++){d=g+i>=aq.children.length?d.add(aq.children.eq(i-1)):d.add(aq.children.eq(g+i))}}else{d=aq.children.eq(aq.active.index)}}else{d=aq.children}return"vertical"==aq.settings.mode?(d.each(function(){f+=a(this).outerHeight()}),aq.settings.slideMargin>0&&(f+=aq.settings.slideMargin*(aq.settings.minSlides-1))):f=Math.max.apply(Math,d.map(function(){return a(this).outerHeight(!1)}).get()),f},ap=function(){var d="100%";return aq.settings.slideWidth>0&&(d="horizontal"==aq.settings.mode?aq.settings.maxSlides*aq.settings.slideWidth+(aq.settings.maxSlides-1)*aq.settings.slideMargin:aq.settings.slideWidth),d},am=function(){var d=aq.settings.slideWidth,f=aq.viewport.width();return 0==aq.settings.slideWidth||aq.settings.slideWidth>f&&!aq.carousel||"vertical"==aq.settings.mode?d=f:aq.settings.maxSlides>1&&"horizontal"==aq.settings.mode&&(f>aq.maxThreshold||f<aq.minThreshold&&(d=(f-aq.settings.slideMargin*(aq.settings.minSlides-1))/aq.settings.minSlides)),d},ay=function(){var d=1;if("horizontal"==aq.settings.mode&&aq.settings.slideWidth>0){if(aq.viewport.width()<aq.minThreshold){d=aq.settings.minSlides}else{if(aq.viewport.width()>aq.maxThreshold){d=aq.settings.maxSlides}else{var f=aq.children.first().width();d=Math.floor(aq.viewport.width()/f)}}}else{"vertical"==aq.settings.mode&&(d=aq.settings.minSlides)}return d},aj=function(){var f=0;if(aq.settings.moveSlides>0){if(aq.settings.infiniteLoop){f=aq.children.length/at()}else{for(var g=0,d=0;g<aq.children.length;){++f,g=d+ay(),d+=aq.settings.moveSlides<=ay()?aq.settings.moveSlides:ay()}}}else{f=Math.ceil(aq.children.length/ay())}return f},at=function(){return aq.settings.moveSlides>0&&aq.settings.moveSlides<=ay()?aq.settings.moveSlides:ay()},J=function(){if(aq.children.length>aq.settings.maxSlides&&aq.active.last&&!aq.settings.infiniteLoop){if("horizontal"==aq.settings.mode){var f=aq.children.last(),g=f.position();aB(-(g.left-(aq.viewport.width()-f.width())),"reset",0)}else{if("vertical"==aq.settings.mode){var d=aq.children.length-aq.settings.minSlides,g=aq.children.eq(d).position();aB(-g.top,"reset",0)}}}else{var g=aq.children.eq(aq.active.index*at()).position();aq.active.index==aj()-1&&(aq.active.last=!0),void 0!=g&&("horizontal"==aq.settings.mode?aB(-g.left,"reset",0):"vertical"==aq.settings.mode&&aB(-g.top,"reset",0))}},aB=function(g,k,f,h){if(aq.usingCSS){var l="vertical"==aq.settings.mode?"translate3d(0, "+g+"px, 0)":"translate3d("+g+"px, 0, 0)";an.css("-"+aq.cssPrefix+"-transition-duration",f/1000+"s"),"slide"==k?(an.css(aq.animProp,l),an.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){an.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),ae()})):"reset"==k?an.css(aq.animProp,l):"ticker"==k&&(an.css("-"+aq.cssPrefix+"-transition-timing-function","linear"),an.css(aq.animProp,l),an.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){an.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),aB(h.resetValue,"reset",0),R()}))}else{var d={};d[aq.animProp]=g,"slide"==k?an.animate(d,f,aq.settings.easing,function(){ae()}):"reset"==k?an.css(aq.animProp,g):"ticker"==k&&an.animate(d,speed,"linear",function(){aB(h.resetValue,"reset",0),R()})}},ak=function(){for(var g="",d=aj(),f=0;d>f;f++){var h="";aq.settings.buildPager&&a.isFunction(aq.settings.buildPager)?(h=aq.settings.buildPager(f),aq.pagerEl.addClass("bx-custom-pager")):(h=f+1,aq.pagerEl.addClass("bx-default-pager")),g+='<div class="bx-pager-item"><a href="" data-slide-index="'+f+'" class="bx-pager-link">'+h+"</a></div>"}aq.pagerEl.html(g)},G=function(){aq.settings.pagerCustom?aq.pagerEl=a(aq.settings.pagerCustom):(aq.pagerEl=a('<div class="bx-pager" />'),aq.settings.pagerSelector?a(aq.settings.pagerSelector).html(aq.pagerEl):aq.controls.el.addClass("bx-has-pager").append(aq.pagerEl),ak()),aq.pagerEl.on("click","a",ab)},af=function(){aq.controls.next=a('<a class="bx-next" href="">'+aq.settings.nextText+"</a>"),aq.controls.prev=a('<a class="bx-prev" href="">'+aq.settings.prevText+"</a>"),aq.controls.next.bind("click",ai),aq.controls.prev.bind("click",ah),aq.settings.nextSelector&&a(aq.settings.nextSelector).append(aq.controls.next),aq.settings.prevSelector&&a(aq.settings.prevSelector).append(aq.controls.prev),aq.settings.nextSelector||aq.settings.prevSelector||(aq.controls.directionEl=a('<div class="bx-controls-direction" />'),aq.controls.directionEl.append(aq.controls.prev).append(aq.controls.next),aq.controls.el.addClass("bx-has-controls-direction").append(aq.controls.directionEl))},ad=function(){aq.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+aq.settings.startText+"</a></div>"),aq.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+aq.settings.stopText+"</a></div>"),aq.controls.autoEl=a('<div class="bx-controls-auto" />'),aq.controls.autoEl.on("click",".bx-start",av),aq.controls.autoEl.on("click",".bx-stop",U),aq.settings.autoControlsCombine?aq.controls.autoEl.append(aq.controls.start):aq.controls.autoEl.append(aq.controls.start).append(aq.controls.stop),aq.settings.autoControlsSelector?a(aq.settings.autoControlsSelector).html(aq.controls.autoEl):aq.controls.el.addClass("bx-has-controls-auto").append(aq.controls.autoEl),ag(aq.settings.autoStart?"stop":"start")},K=function(){aq.children.each(function(){var d=a(this).find("img:first").attr("title");void 0!=d&&(""+d).length&&a(this).append('<div class="bx-caption"><span>'+d+"</span></div>")})},ai=function(d){aq.settings.auto&&an.stopAuto(),an.goToNextSlide(),d.preventDefault()},ah=function(d){aq.settings.auto&&an.stopAuto(),an.goToPrevSlide(),d.preventDefault()},av=function(d){an.startAuto(),d.preventDefault()},U=function(d){an.stopAuto(),d.preventDefault()},ab=function(g){aq.settings.auto&&an.stopAuto();var d=a(g.currentTarget),f=parseInt(d.attr("data-slide-index"));f!=aq.active.index&&an.goToSlide(f),g.preventDefault()},ao=function(f){var d=aq.children.length;return"short"==aq.settings.pagerType?(aq.settings.maxSlides>1&&(d=Math.ceil(aq.children.length/aq.settings.maxSlides)),aq.pagerEl.html(f+1+aq.settings.pagerShortSeparator+d),void 0):(aq.pagerEl.find("a").removeClass("active"),aq.pagerEl.each(function(g,h){a(h).find("a").eq(f).addClass("active")}),void 0)},ae=function(){if(aq.settings.infiniteLoop){var d="";0==aq.active.index?d=aq.children.eq(0).position():aq.active.index==aj()-1&&aq.carousel?d=aq.children.eq((aj()-1)*at()).position():aq.active.index==aq.children.length-1&&(d=aq.children.eq(aq.children.length-1).position()),d&&("horizontal"==aq.settings.mode?aB(-d.left,"reset",0):"vertical"==aq.settings.mode&&aB(-d.top,"reset",0))}aq.working=!1,aq.settings.onSlideAfter(aq.children.eq(aq.active.index),aq.oldIndex,aq.active.index)},ag=function(d){aq.settings.autoControlsCombine?aq.controls.autoEl.html(aq.controls[d]):(aq.controls.autoEl.find("a").removeClass("active"),aq.controls.autoEl.find("a:not(.bx-"+d+")").addClass("active"))},B=function(){1==aj()?(aq.controls.prev.addClass("disabled"),aq.controls.next.addClass("disabled")):!aq.settings.infiniteLoop&&aq.settings.hideControlOnEnd&&(0==aq.active.index?(aq.controls.prev.addClass("disabled"),aq.controls.next.removeClass("disabled")):aq.active.index==aj()-1?(aq.controls.next.addClass("disabled"),aq.controls.prev.removeClass("disabled")):(aq.controls.prev.removeClass("disabled"),aq.controls.next.removeClass("disabled")))},ac=function(){aq.settings.autoDelay>0?setTimeout(an.startAuto,aq.settings.autoDelay):an.startAuto(),aq.settings.autoHover&&an.hover(function(){aq.interval&&(an.stopAuto(!0),aq.autoPaused=!0)},function(){aq.autoPaused&&(an.startAuto(!0),aq.autoPaused=null)})},aa=function(){var f=0;if("next"==aq.settings.autoDirection){an.append(aq.children.clone().addClass("bx-clone"))}else{an.prepend(aq.children.clone().addClass("bx-clone"));var d=aq.children.first().position();f="horizontal"==aq.settings.mode?-d.left:-d.top}aB(f,"reset",0),aq.settings.pager=!1,aq.settings.controls=!1,aq.settings.autoControls=!1,aq.settings.tickerHover&&!aq.usingCSS&&aq.viewport.hover(function(){an.stop()},function(){var k=0;aq.children.each(function(){k+="horizontal"==aq.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)});var g=aq.settings.speed/k,h="horizontal"==aq.settings.mode?"left":"top",l=g*(k-Math.abs(parseInt(an.css(h))));R(l)}),R()},R=function(g){speed=g?g:aq.settings.speed;var k={left:0,top:0},f={left:0,top:0};"next"==aq.settings.autoDirection?k=an.find(".bx-clone").first().position():f=aq.children.first().position();var h="horizontal"==aq.settings.mode?-k.left:-k.top,l="horizontal"==aq.settings.mode?-f.left:-f.top,d={resetValue:l};aB(h,"ticker",speed,d)},Q=function(){aq.touch={start:{x:0,y:0},end:{x:0,y:0}},aq.viewport.bind("touchstart",s)},s=function(d){if(aq.working){d.preventDefault()}else{aq.touch.originalPos=an.position();var f=d.originalEvent;aq.touch.start.x=f.changedTouches[0].pageX,aq.touch.start.y=f.changedTouches[0].pageY,aq.viewport.bind("touchmove",j),aq.viewport.bind("touchend",F)}},j=function(f){var k=f.originalEvent,d=Math.abs(k.changedTouches[0].pageX-aq.touch.start.x),g=Math.abs(k.changedTouches[0].pageY-aq.touch.start.y);if(3*d>g&&aq.settings.preventDefaultSwipeX?f.preventDefault():3*g>d&&aq.settings.preventDefaultSwipeY&&f.preventDefault(),"fade"!=aq.settings.mode&&aq.settings.oneToOneTouch){var l=0;if("horizontal"==aq.settings.mode){var h=k.changedTouches[0].pageX-aq.touch.start.x;l=aq.touch.originalPos.left+h}else{var h=k.changedTouches[0].pageY-aq.touch.start.y;l=aq.touch.originalPos.top+h}aB(l,"reset",0)}},F=function(f){aq.viewport.unbind("touchmove",j);var h=f.originalEvent,d=0;if(aq.touch.end.x=h.changedTouches[0].pageX,aq.touch.end.y=h.changedTouches[0].pageY,"fade"==aq.settings.mode){var g=Math.abs(aq.touch.start.x-aq.touch.end.x);g>=aq.settings.swipeThreshold&&(aq.touch.start.x>aq.touch.end.x?an.goToNextSlide():an.goToPrevSlide(),an.stopAuto())}else{var g=0;"horizontal"==aq.settings.mode?(g=aq.touch.end.x-aq.touch.start.x,d=aq.touch.originalPos.left):(g=aq.touch.end.y-aq.touch.start.y,d=aq.touch.originalPos.top),!aq.settings.infiniteLoop&&(0==aq.active.index&&g>0||aq.active.last&&0>g)?aB(d,"reset",200):Math.abs(g)>=aq.settings.swipeThreshold?(0>g?an.goToNextSlide():an.goToPrevSlide(),an.stopAuto()):aB(d,"reset",200)}aq.viewport.unbind("touchend",F)},e=function(){var f=a(window).width(),d=a(window).height();(aC!=f||au!=d)&&(aC=f,au=d,an.redrawSlider(),aq.settings.onSliderResize.call(an,aq.active.index))};return an.goToSlide=function(o,k){if(!aq.working&&aq.active.index!=o){if(aq.working=!0,aq.oldIndex=aq.active.index,aq.active.index=0>o?aj()-1:o>=aj()?0:o,aq.settings.onSlideBefore(aq.children.eq(aq.active.index),aq.oldIndex,aq.active.index),"next"==k?aq.settings.onSlideNext(aq.children.eq(aq.active.index),aq.oldIndex,aq.active.index):"prev"==k&&aq.settings.onSlidePrev(aq.children.eq(aq.active.index),aq.oldIndex,aq.active.index),aq.active.last=aq.active.index>=aj()-1,aq.settings.pager&&ao(aq.active.index),aq.settings.controls&&B(),"fade"==aq.settings.mode){aq.settings.adaptiveHeight&&aq.viewport.height()!=al()&&aq.viewport.animate({height:al()},aq.settings.adaptiveHeightSpeed),aq.children.filter(":visible").fadeOut(aq.settings.speed).css({zIndex:0}),aq.children.eq(aq.active.index).css("zIndex",aq.settings.slideZIndex+1).fadeIn(aq.settings.speed,function(){a(this).css("zIndex",aq.settings.slideZIndex),ae()})}else{aq.settings.adaptiveHeight&&aq.viewport.height()!=al()&&aq.viewport.animate({height:al()},aq.settings.adaptiveHeightSpeed);var u=0,f={left:0,top:0};if(!aq.settings.infiniteLoop&&aq.carousel&&aq.active.last){if("horizontal"==aq.settings.mode){var r=aq.children.eq(aq.children.length-1);f=r.position(),u=aq.viewport.width()-r.outerWidth()}else{var h=aq.children.length-aq.settings.minSlides;f=aq.children.eq(h).position()}}else{if(aq.carousel&&aq.active.last&&"prev"==k){var p=1==aq.settings.moveSlides?aq.settings.maxSlides-at():(aj()-1)*at()-(aq.children.length-aq.settings.maxSlides),r=an.children(".bx-clone").eq(p);f=r.position()}else{if("next"==k&&0==aq.active.index){f=an.find("> .bx-clone").eq(aq.settings.maxSlides).position(),aq.active.last=!1}else{if(o>=0){var q=o*at();f=aq.children.eq(q).position()}}}}if("undefined"!=typeof f){var m="horizontal"==aq.settings.mode?-(f.left-u):-f.top;aB(m,"slide",aq.settings.speed)}}}},an.goToNextSlide=function(){if(aq.settings.infiniteLoop||!aq.active.last){var d=parseInt(aq.active.index)+1;an.goToSlide(d,"next")}},an.goToPrevSlide=function(){if(aq.settings.infiniteLoop||0!=aq.active.index){var d=parseInt(aq.active.index)-1;an.goToSlide(d,"prev")}},an.startAuto=function(d){aq.interval||(aq.interval=setInterval(function(){"next"==aq.settings.autoDirection?an.goToNextSlide():an.goToPrevSlide()},aq.settings.pause),aq.settings.autoControls&&1!=d&&ag("stop"))},an.stopAuto=function(d){aq.interval&&(clearInterval(aq.interval),aq.interval=null,aq.settings.autoControls&&1!=d&&ag("start"))},an.getCurrentSlide=function(){return aq.active.index},an.getCurrentSlideElement=function(){return aq.children.eq(aq.active.index)},an.getSlideCount=function(){return aq.children.length},an.redrawSlider=function(){aq.children.add(an.find(".bx-clone")).outerWidth(am()),aq.viewport.css("height",al()),aq.settings.ticker||J(),aq.active.last&&(aq.active.index=aj()-1),aq.active.index>=aj()&&(aq.active.last=!0),aq.settings.pager&&!aq.settings.pagerCustom&&(ak(),ao(aq.active.index))},an.destroySlider=function(){aq.initialized&&(aq.initialized=!1,a(".bx-clone",this).remove(),aq.children.each(function(){void 0!=a(this).data("origStyle")?a(this).attr("style",a(this).data("origStyle")):a(this).removeAttr("style")}),void 0!=a(this).data("origStyle")?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),aq.controls.el&&aq.controls.el.remove(),aq.controls.next&&aq.controls.next.remove(),aq.controls.prev&&aq.controls.prev.remove(),aq.pagerEl&&aq.settings.controls&&aq.pagerEl.remove(),a(".bx-caption",this).remove(),aq.controls.autoEl&&aq.controls.autoEl.remove(),clearInterval(aq.interval),aq.settings.responsive&&a(window).unbind("resize",e))},an.reloadSlider=function(d){void 0!=d&&(ar=d),an.destroySlider(),az()},az(),this}}(jQuery);!function(e,d,f){e.fn.jScrollPane=function(b){function a(aJ,aH){function aG(x){var w,v,u,s,p,o,k=!1,g=!1;if(aX=x,aV===f){p=aJ.scrollTop(),o=aJ.scrollLeft(),aJ.css({overflow:"hidden",padding:0}),aU=aJ.innerWidth()+bg,aT=aJ.innerHeight(),aJ.width(aU),aV=e('<div class="jspPane" />').css("padding",bn).append(aJ.children()),aS=e('<div class="jspContainer" />').css({width:aU+"px",height:aT+"px"}).append(aV).appendTo(aJ)}else{if(aJ.css("width",""),k=aX.stickToBottom&&bd(),g=aX.stickToRight&&bc(),s=aJ.innerWidth()+bg!=aU||aJ.outerHeight()!=aT,s&&(aU=aJ.innerWidth()+bg,aT=aJ.innerHeight(),aS.css({width:aU+"px",height:aT+"px"})),!s&&aK==aR&&aV.outerHeight()==aQ){return aJ.width(aU),void 0}aK=aR,aV.css("width",""),aJ.width(aU),aS.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}aV.css("overflow","auto"),aR=x.contentWidth?x.contentWidth:aV[0].scrollWidth,aQ=aV[0].scrollHeight,aV.css("overflow",""),aP=aR/aU,aO=aQ/aT,aN=aO>1,aM=aP>1,aM||aN?(aJ.addClass("jspScrollable"),w=aX.maintainPosition&&(bi||af),w&&(v=bf(),u=be()),aF(),aD(),aA(),w&&(ak(g?aR-aU:v,!1),al(k?aQ-aT:u,!1)),a6(),ba(),aZ(),aX.enableKeyboardNavigation&&a4(),aX.clickOnTrack&&av(),a1(),aX.hijackInternalLinks&&a0()):(aJ.removeClass("jspScrollable"),aV.css({top:0,left:0,width:aS.width()-bg}),a8(),a5(),a2(),au()),aX.autoReinitialise&&!bs?bs=setInterval(function(){aG(aX)},aX.autoReinitialiseDelay):!aX.autoReinitialise&&bs&&clearInterval(bs),p&&aJ.scrollTop(0)&&al(p,!1),o&&aJ.scrollLeft(0)&&ak(o,!1),aJ.trigger("jsp-initialised",[aM||aN])}function aF(){aN&&(aS.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),aa=aS.find(">.jspVerticalBar"),bp=aa.find(">.jspTrack"),bm=bp.find(">.jspDrag"),aX.showArrows&&(ag=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",ay(0,-1)).bind("click.jsp",a7),ac=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",ay(0,1)).bind("click.jsp",a7),aX.arrowScrollOnHover&&(ag.bind("mouseover.jsp",ay(0,-1,ag)),ac.bind("mouseover.jsp",ay(0,1,ac))),az(bp,aX.verticalArrowPositions,ag,ac)),a3=aT,aS.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){a3-=e(this).outerHeight()}),bm.hover(function(){bm.addClass("jspHover")},function(){bm.removeClass("jspHover")}).bind("mousedown.jsp",function(g){e("html").bind("dragstart.jsp selectstart.jsp",a7),bm.addClass("jspActive");var h=g.pageY-bm.position().top;return e("html").bind("mousemove.jsp",function(j){ar(j.pageY-h,!1)}).bind("mouseup.jsp mouseleave.jsp",at),!1}),aE())}function aE(){bp.height(a3+"px"),bi=0,bj=aX.verticalGutter+bp.outerWidth(),aV.width(aU-bj-bg);try{0===aa.position().left&&aV.css("margin-left",bj+"px")}catch(g){}}function aD(){aM&&(aS.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),br=aS.find(">.jspHorizontalBar"),bl=br.find(">.jspTrack"),aW=bl.find(">.jspDrag"),aX.showArrows&&(ah=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",ay(-1,0)).bind("click.jsp",a7),ad=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",ay(1,0)).bind("click.jsp",a7),aX.arrowScrollOnHover&&(ah.bind("mouseover.jsp",ay(-1,0,ah)),ad.bind("mouseover.jsp",ay(1,0,ad))),az(bl,aX.horizontalArrowPositions,ah,ad)),aW.hover(function(){aW.addClass("jspHover")},function(){aW.removeClass("jspHover")}).bind("mousedown.jsp",function(g){e("html").bind("dragstart.jsp selectstart.jsp",a7),aW.addClass("jspActive");var h=g.pageX-aW.position().left;return e("html").bind("mousemove.jsp",function(j){ap(j.pageX-h,!1)}).bind("mouseup.jsp mouseleave.jsp",at),!1}),a9=aS.innerWidth(),aB())}function aB(){aS.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){a9-=e(this).outerWidth()}),bl.width(a9+"px"),af=0}function aA(){if(aM&&aN){var g=bl.outerHeight(),h=bp.outerWidth();a3-=g,e(br).find(">.jspCap:visible,>.jspArrow").each(function(){a9+=e(this).outerWidth()}),a9-=h,aT-=h,aU-=g,bl.parent().append(e('<div class="jspCorner" />').css("width",g+"px")),aE(),aB()}aM&&aV.width(aS.outerWidth()-bg+"px"),aQ=aV.outerHeight(),aO=aQ/aT,aM&&(aI=Math.ceil(1/aP*a9),aI>aX.horizontalDragMaxWidth?aI=aX.horizontalDragMaxWidth:aI<aX.horizontalDragMinWidth&&(aI=aX.horizontalDragMinWidth),aW.width(aI+"px"),aw=a9-aI,ao(af)),aN&&(aC=Math.ceil(1/aO*a3),aC>aX.verticalDragMaxHeight?aC=aX.verticalDragMaxHeight:aC<aX.verticalDragMinHeight&&(aC=aX.verticalDragMinHeight),bm.height(aC+"px"),aL=a3-aC,aq(bi))}function az(j,h,o,n){var m,l="before",k="after";"os"==h&&(h=/Mac/.test(navigator.platform)?"after":"split"),h==l?k=h:h==k&&(l=h,m=o,o=n,n=m),j[l](o)[k](n)}function ay(h,g,j){return function(){return ax(h,g,this,j),this.blur(),!1}}function ax(j,q,p,o){p=e(p).addClass("jspActive");var n,m,l=!0,k=function(){0!==j&&ai.scrollByX(j*aX.arrowButtonSpeed),0!==q&&ai.scrollByY(q*aX.arrowButtonSpeed),m=setTimeout(k,l?aX.initialDelay:aX.arrowRepeatFreq),l=!1};k(),n=o?"mouseout.jsp":"mouseup.jsp",o=o||e("html"),o.bind(n,function(){p.removeClass("jspActive"),m&&clearTimeout(m),m=null,o.unbind(n)})}function av(){au(),aN&&bp.bind("mousedown.jsp",function(k){if(k.originalTarget===f||k.originalTarget==k.currentTarget){var r,q=e(this),p=q.offset(),o=k.pageY-p.top-bi,n=!0,m=function(){var g=q.offset(),s=k.pageY-g.top-aC/2,j=aT*aX.scrollPagePercent,h=aL*j/(aQ-aT);if(0>o){bi-h>s?ai.scrollByY(-j):ar(s)}else{if(!(o>0)){return l(),void 0}s>bi+h?ai.scrollByY(j):ar(s)}r=setTimeout(m,n?aX.initialDelay:aX.trackClickRepeatFreq),n=!1},l=function(){r&&clearTimeout(r),r=null,e(document).unbind("mouseup.jsp",l)};return m(),e(document).bind("mouseup.jsp",l),!1}}),aM&&bl.bind("mousedown.jsp",function(k){if(k.originalTarget===f||k.originalTarget==k.currentTarget){var r,q=e(this),p=q.offset(),o=k.pageX-p.left-af,n=!0,m=function(){var g=q.offset(),s=k.pageX-g.left-aI/2,j=aU*aX.scrollPagePercent,h=aw*j/(aR-aU);if(0>o){af-h>s?ai.scrollByX(-j):ap(s)}else{if(!(o>0)){return l(),void 0}s>af+h?ai.scrollByX(j):ap(s)}r=setTimeout(m,n?aX.initialDelay:aX.trackClickRepeatFreq),n=!1},l=function(){r&&clearTimeout(r),r=null,e(document).unbind("mouseup.jsp",l)};return m(),e(document).bind("mouseup.jsp",l),!1}})}function au(){bl&&bl.unbind("mousedown.jsp"),bp&&bp.unbind("mousedown.jsp")}function at(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),bm&&bm.removeClass("jspActive"),aW&&aW.removeClass("jspActive")}function ar(h,g){aN&&(0>h?h=0:h>aL&&(h=aL),g===f&&(g=aX.animateScroll),g?ai.animate(bm,"top",h,aq):(bm.css("top",h),aq(h)))}function aq(j){j===f&&(j=bm.position().top),aS.scrollTop(0),bi=j;var h=0===bi,m=bi==aL,l=j/aL,k=-l*(aQ-aT);(ae!=h||bo!=m)&&(ae=h,bo=m,aJ.trigger("jsp-arrow-change",[ae,bo,c,bh])),an(h,m),aV.css("top",k),aJ.trigger("jsp-scroll-y",[-k,h,m]).trigger("scroll")}function ap(h,g){aM&&(0>h?h=0:h>aw&&(h=aw),g===f&&(g=aX.animateScroll),g?ai.animate(aW,"left",h,ao):(aW.css("left",h),ao(h)))}function ao(j){j===f&&(j=aW.position().left),aS.scrollTop(0),af=j;var h=0===af,m=af==aw,l=j/aw,k=-l*(aR-aU);(c!=h||bh!=m)&&(c=h,bh=m,aJ.trigger("jsp-arrow-change",[ae,bo,c,bh])),am(h,m),aV.css("left",k),aJ.trigger("jsp-scroll-x",[-k,h,m]).trigger("scroll")}function an(h,g){aX.showArrows&&(ag[h?"addClass":"removeClass"]("jspDisabled"),ac[g?"addClass":"removeClass"]("jspDisabled"))}function am(h,g){aX.showArrows&&(ah[h?"addClass":"removeClass"]("jspDisabled"),ad[g?"addClass":"removeClass"]("jspDisabled"))}function al(h,g){var j=h/(aQ-aT);ar(j*aL,g)}function ak(h,g){var j=h/(aR-aU);ap(j*aw,g)}function aj(F,E,D){var C,B,A,z,y,x,w,v,u,s=0,r=0;try{C=e(F)}catch(q){return}for(B=C.outerHeight(),A=C.outerWidth(),aS.scrollTop(0),aS.scrollLeft(0);!C.is(".jspPane");){if(s+=C.position().top,r+=C.position().left,C=C.offsetParent(),/^body|html$/i.test(C[0].nodeName)){return}}z=be(),x=z+aT,z>s||E?v=s-aX.horizontalGutter:s+B>x&&(v=s-aT+B+aX.horizontalGutter),isNaN(v)||al(v,D),y=bf(),w=y+aU,y>r||E?u=r-aX.horizontalGutter:r+A>w&&(u=r-aU+A+aX.horizontalGutter),isNaN(u)||ak(u,D)}function bf(){return -aV.position().left}function be(){return -aV.position().top}function bd(){var g=aQ-aT;return g>20&&g-be()<10}function bc(){var g=aR-aU;return g>20&&g-bf()<10}function ba(){aS.unbind(bk).bind(bk,function(j,h,o,n){var m=af,l=bi,k=j.deltaFactor||aX.mouseWheelSpeed;return ai.scrollBy(o*k,-n*k,!1),m==af&&l==bi})}function a8(){aS.unbind(bk)}function a7(){return !1}function a6(){aV.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){aj(g.target,!1)})}function a5(){aV.find(":input,a").unbind("focus.jsp")}function a4(){function g(){var m=af,l=bi;switch(k){case 40:ai.scrollByY(aX.keyboardSpeed,!1);break;case 38:ai.scrollByY(-aX.keyboardSpeed,!1);break;case 34:case 32:ai.scrollByY(aT*aX.scrollPagePercent,!1);break;case 33:ai.scrollByY(-aT*aX.scrollPagePercent,!1);break;case 39:ai.scrollByX(aX.keyboardSpeed,!1);break;case 37:ai.scrollByX(-aX.keyboardSpeed,!1)}return j=m!=af||l!=bi}var k,j,h=[];aM&&h.push(br[0]),aN&&h.push(aa[0]),aV.focus(function(){aJ.focus()}),aJ.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(n){if(n.target===this||h.length&&e(n.target).closest(h).length){var m=af,l=bi;switch(n.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:k=n.keyCode,g();break;case 35:al(aQ-aT),k=null;break;case 36:al(0),k=null}return j=n.keyCode==k&&m!=af||l!=bi,!j}}).bind("keypress.jsp",function(l){return l.keyCode==k&&g(),!j}),aX.hideFocus?(aJ.css("outline","none"),"hideFocus" in aS[0]&&aJ.attr("hideFocus",!0)):(aJ.css("outline",""),"hideFocus" in aS[0]&&aJ.attr("hideFocus",!1))}function a2(){aJ.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function a1(){if(location.hash&&location.hash.length>1){var g,k,j=escape(location.hash.substr(1));try{g=e("#"+j+', a[name="'+j+'"]')}catch(h){return}g.length&&aV.find(j)&&(0===aS.scrollTop()?k=setInterval(function(){aS.scrollTop()>0&&(aj(g,!0),e(document).scrollTop(aS.position().top),clearInterval(k))},50):(aj(g,!0),e(document).scrollTop(aS.position().top)))}}function a0(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(w){var v,u,s,r,q,p,o=this.href.substr(0,this.href.indexOf("#")),n=location.href;if(-1!==location.href.indexOf("#")&&(n=location.href.substr(0,location.href.indexOf("#"))),o===n){v=escape(this.href.substr(this.href.indexOf("#")+1));try{u=e("#"+v+', a[name="'+v+'"]')}catch(m){return}u.length&&(s=u.closest(".jspScrollable"),r=s.data("jsp"),r.scrollToElement(u,!0),s[0].scrollIntoView&&(q=e(d).scrollTop(),p=u.offset().top,(q>p||p>q+e(d).height())&&s[0].scrollIntoView()),w.preventDefault())}}))}function aZ(){var h,g,m,l,k,j=!1;aS.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var n=o.originalEvent.touches[0];h=bf(),g=be(),m=n.pageX,l=n.pageY,k=!1,j=!0}).bind("touchmove.jsp",function(q){if(j){var p=q.originalEvent.touches[0],o=af,n=bi;return ai.scrollTo(h+m-p.pageX,g+l-p.pageY),k=k||Math.abs(m-p.pageX)>5||Math.abs(l-p.pageY)>5,o==af&&n==bi}}).bind("touchend.jsp",function(){j=!1}).bind("click.jsp-touchclick",function(){return k?(k=!1,!1):void 0})}function aY(){var h=be(),g=bf();aJ.removeClass("jspScrollable").unbind(".jsp"),aJ.replaceWith(bq.append(aV.children())),bq.scrollTop(h),bq.scrollLeft(g),bs&&clearInterval(bs)}var aX,aV,aU,aT,aS,aR,aQ,aP,aO,aN,aM,bm,aL,bi,aW,aw,af,aa,bp,bj,a3,aC,ag,ac,br,bl,a9,aI,ah,ad,bs,bn,bg,aK,ai=this,ae=!0,c=!0,bo=!1,bh=!1,bq=aJ.clone(!1,!1).empty(),bk=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===aJ.css("box-sizing")?(bn=0,bg=0):(bn=aJ.css("paddingTop")+" "+aJ.css("paddingRight")+" "+aJ.css("paddingBottom")+" "+aJ.css("paddingLeft"),bg=(parseInt(aJ.css("paddingLeft"),10)||0)+(parseInt(aJ.css("paddingRight"),10)||0)),e.extend(ai,{reinitialise:function(g){g=e.extend({},aX,g),aG(g)},scrollToElement:function(h,g,j){aj(h,g,j)},scrollTo:function(h,g,j){ak(h,j),al(g,j)},scrollToX:function(h,g){ak(h,g)},scrollToY:function(h,g){al(h,g)},scrollToPercentX:function(h,g){ak(h*(aR-aU),g)},scrollToPercentY:function(h,g){al(h*(aQ-aT),g)},scrollBy:function(h,g,j){ai.scrollByX(h,j),ai.scrollByY(g,j)},scrollByX:function(h,g){var k=bf()+Math[0>h?"floor":"ceil"](h),j=k/(aR-aU);ap(j*aw,g)},scrollByY:function(h,g){var k=be()+Math[0>h?"floor":"ceil"](h),j=k/(aQ-aT);ar(j*aL,g)},positionDragX:function(h,g){ap(h,g)},positionDragY:function(h,g){ar(h,g)},animate:function(h,g,l,k){var j={};j[g]=l,h.animate(j,{duration:aX.animateDuration,easing:aX.animateEase,queue:!1,step:k})},getContentPositionX:function(){return bf()},getContentPositionY:function(){return be()},getContentWidth:function(){return aR},getContentHeight:function(){return aQ},getPercentScrolledX:function(){return bf()/(aR-aU)},getPercentScrolledY:function(){return be()/(aQ-aT)},getIsScrollableH:function(){return aM},getIsScrollableV:function(){return aN},getContentPane:function(){return aV},scrollToBottom:function(g){ar(aL,g)},hijackInternalLinks:e.noop,destroy:function(){aY()}}),aG(aH)}return b=e.extend({},e.fn.jScrollPane.defaults,b),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed}),this.each(function(){var g=e(this),h=g.data("jsp");h?h.reinitialise(b):(e("script",g).filter('[type="text/javascript"],:not([type])').remove(),h=new a(g,b),g.data("jsp",h))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}}(jQuery,this);(function(a){a.fn.requireTemplate=function(b){if(!this.templateHolder){this.templateHolder={}}templateNameKey=b.replace(/\//g,"_").replace(/\./g,"");this.templateHolder[templateNameKey]=a("#template_"+templateNameKey);if(this.templateHolder[templateNameKey].length===0){var d="assets/templates/"+b+".html";var c="";t=a.ajax({url:d,method:"GET",async:false,contentType:"text",success:function(e){c=e}});this.templateHolder[templateNameKey]=a('<script id="template_'+templateNameKey+'" type="text/template">'+t.responseText+"<\/script>").appendTo(this)}return this.templateHolder[templateNameKey]}})(jQuery);
/*!
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright 2011, Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(j,f){var v=j.fn.domManip,h="_tmplitem",w=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,q={},e={},A,z={key:0,data:{}},y=0,r=0,g=[];function l(D,C,F,G){var E={data:G||(G===0||G===false)?G:(C?C.data:{}),_wrap:C?C._wrap:null,tmpl:null,parent:C||null,nodes:[],calls:c,nest:b,wrap:o,html:s,update:B};if(D){j.extend(E,D,{nodes:[],parent:C})}if(F){E.tmpl=F;E._ctnt=E._ctnt||E.tmpl(j,E);E.key=++y;(g.length?e:q)[y]=E}return E}j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(C,D){j.fn[C]=function(E){var H=[],K=j(E),G,I,F,L,J=this.length===1&&this[0].parentNode;A=q||{};if(J&&J.nodeType===11&&J.childNodes.length===1&&K.length===1){K[D](this[0]);H=this}else{for(I=0,F=K.length;I<F;I++){r=I;G=(I>0?this.clone(true):this).get();j(K[I])[D](G);H=H.concat(G)}r=0;H=this.pushStack(H,C,K.selector)}L=A;A=null;j.tmpl.complete(L);return H}});j.fn.extend({tmpl:function(E,D,C){return j.tmpl(this[0],E,D,C)},tmplItem:function(){return j.tmplItem(this[0])},template:function(C){return j.template(C,this[0])},domManip:function(G,J,I,K){if(G[0]&&j.isArray(G[0])){var D=j.makeArray(arguments),C=G[0],H=C.length,E=0,F;while(E<H&&!(F=j.data(C[E++],"tmplItem"))){}if(F&&r){D[2]=function(L){j.tmpl.afterManip(this,L,I)}}v.apply(this,D)}else{v.apply(this,arguments)}r=0;if(!A){j.tmpl.complete(q)}return this}});j.extend({tmpl:function(E,H,G,D){var F,C=!D;if(C){D=z;E=j.template[E]||j.template(null,E);e={}}else{if(!E){E=D.tmpl;q[D.key]=D;D.nodes=[];if(D.wrapped){u(D,D.wrapped)}return j(n(D,null,D.tmpl(j,D)))}}if(!E){return[]}if(typeof H==="function"){H=H.call(D||{})}if(G&&G.wrapped){u(G,G.wrapped)}F=j.isArray(H)?j.map(H,function(I){return I?l(G,D,E,I):null}):[l(G,D,E,H)];return C?j(n(D,null,F)):F},tmplItem:function(D){var C;if(D instanceof j){D=D[0]}while(D&&D.nodeType===1&&!(C=j.data(D,"tmplItem"))&&(D=D.parentNode)){}return C||z},template:function(D,C){if(C){if(typeof C==="string"){C=m(C)}else{if(C instanceof j){C=C[0]||{}}}if(C.nodeType){C=j.data(C,"tmpl")||j.data(C,"tmpl",m(C.innerHTML))}return typeof D==="string"?(j.template[D]=C):C}return D?(typeof D!=="string"?j.template(null,D):(j.template[D]||j.template(null,w.test(D)?D:j(D)))):null},encode:function(C){return(""+C).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});j.extend(j.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(C){q={}},afterManip:function x(E,C,F){var D=C.nodeType===11?j.makeArray(C.childNodes):C.nodeType===1?[C]:[];F.call(E,C);p(D);r++}});function n(C,G,E){var F,D=E?j.map(E,function(H){return(typeof H==="string")?(C.key?H.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+h+'="'+C.key+'" $2'):H):n(H,C,H._ctnt)}):C;if(G){return D}D=D.join("");D.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(I,J,H,K){F=j(H).get();p(F);if(J){F=a(J).concat(F)}if(K){F=F.concat(a(K))}});return F?F:a(D)}function a(D){var C=document.createElement("div");C.innerHTML=D;return j.makeArray(C.childNodes)}function m(C){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+j.trim(C).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(K,E,I,F,G,L,H){var N=j.tmpl.tag[I],D,J,M;if(!N){throw"Unknown template tag: "+I}D=N._default||[];if(L&&!/\w$/.test(G)){G+=L;L=""}if(G){G=k(G);H=H?(","+k(H)+")"):(L?")":"");J=L?(G.indexOf(".")>-1?G+k(L):("("+G+").call($item"+H)):G;M=L?J:"(typeof("+G+")==='function'?("+G+").call($item):("+G+"))"}else{M=J=D.$1||"null"}F=k(F);return"');"+N[E?"close":"open"].split("$notnull_1").join(G?"typeof("+G+")!=='undefined' && ("+G+")!=null":"true").split("$1a").join(M).split("$1").join(J).split("$2").join(F||D.$2||"")+"__.push('"})+"');}return __;")}function u(D,C){D._wrap=n(D,true,j.isArray(C)?C:[w.test(C)?C:j(C).html()]).join("")}function k(C){return C?C.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function d(C){var D=document.createElement("div");D.appendChild(C.cloneNode(true));return D.innerHTML}function p(I){var K="_"+r,D,C,G={},H,F,E;for(H=0,F=I.length;H<F;H++){if((D=I[H]).nodeType!==1){continue}C=D.getElementsByTagName("*");for(E=C.length-1;E>=0;E--){J(C[E])}J(D)}function J(Q){var N,P=Q,O,L,M;if((M=Q.getAttribute(h))){while(P.parentNode&&(P=P.parentNode).nodeType===1&&!(N=P.getAttribute(h))){}if(N!==M){P=P.parentNode?(P.nodeType===11?0:(P.getAttribute(h)||0)):0;if(!(L=q[M])){L=e[M];L=l(L,q[P]||e[P]);L.key=++y;q[y]=L}if(r){R(M)}}Q.removeAttribute(h)}else{if(r&&(L=j.data(Q,"tmplItem"))){R(L.key);q[L.key]=L;P=j.data(Q.parentNode,"tmplItem");P=P?P.key:0}}if(L){O=L;while(O&&O.key!=P){O.nodes.push(Q);O=O.parent}delete L._ctnt;delete L._wrap;j.data(Q,"tmplItem",L)}function R(S){S=S+K;L=G[S]=(G[S]||l(L,q[L.parent.key+K]||L.parent))}}}function c(E,C,F,D){if(!E){return g.pop()}g.push({_:E,tmpl:C,item:this,data:F,options:D})}function b(C,E,D){return j.tmpl(j.template(C),E,D,this)}function o(E,C){var D=E.options||{};D.wrapped=C;return j.tmpl(j.template(E.tmpl),E.data,D,E.item)}function s(D,E){var C=this._wrap;return j.map(j(j.isArray(C)?C.join(""):C).filter(D||"*"),function(F){return E?F.innerText||F.textContent:F.outerHTML||d(F)})}function B(){var C=this.nodes;j.tmpl(null,null,null,this).insertBefore(C[0]);j(C).remove()}})(jQuery);!function(A,v){var j,y="mThumbnailScroller",g="mTS",m=".mThumbnailScroller",k={setWidth:!1,setHeight:!1,setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{thumbnailsContainer:!1,thumbnailContainer:!1,thumbnailElement:!1,buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0,updateOnSelectorChange:!1},theme:"none",callbacks:{onInit:!1,onScrollStart:!1,onScroll:!1,onTotalScroll:!1,onTotalScrollBack:!1,whileScrolling:!1,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0},live:!1,liveSelector:null},b=0,B={},x=function(a){B[a]&&(clearTimeout(B[a]),q._delete.call(null,B[a]))},w=v.attachEvent&&!v.addEventListener?1:0,z=!1,p={init:function(f){var f=A.extend(!0,{},k,f),l=q._selector.call(this);if(f.live){var c=f.liveSelector||this.selector||m,h=A(c);if("off"===f.live){return void x(c)}B[c]=setTimeout(function(){h.mThumbnailScroller(f),"once"===f.live&&h.length&&x(c)},500)}else{x(c)}return f.speed=0===f.speed?100:f.speed,q._theme.call(null,f),A(l).each(function(){var u=A(this);if(!u.data(g)){u.data(g,{idx:++b,opt:f,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:u.css("direction"),cbOffsets:null,trigger:null});var e=u.data(g).opt,o=u.data("mts-axis"),d=u.data("mts-type"),r=u.data("mts-theme");o&&(e.axis=o),d&&(e.type=d),r&&(e.theme=r,q._theme.call(null,e)),q._pluginMarkup.call(this),p.update.call(null,u)}})},update:function(a){var c=a||q._selector.call(this);return A(c).each(function(){var o=A(this);if(o.data(g)){var r=o.data(g),f=r.opt,h=A("#mTS_"+r.idx+"_container");if(!h.length){return}r.tweenRunning&&q._stop.call(null,o),o.hasClass("mTS_disabled")&&o.removeClass("mTS_disabled"),o.hasClass("mTS_destroyed")&&o.removeClass("mTS_destroyed"),q._maxHeight.call(this),q._expandContentHorizontally.call(this),r.overflowed=q._overflowed.call(this),q._buttonsVisibility.call(this),q._bindEvents.call(this);var d=[h[0].offsetTop,h[0].offsetLeft];"x"!==f.axis&&(r.overflowed[0]?q._scrollTo.call(this,o,d[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(q._resetContentPosition.call(this),"y"===f.axis?q._unbindEvents.call(this):"yx"===f.axis&&r.overflowed[1]&&q._scrollTo.call(this,o,d[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==f.axis&&(r.overflowed[1]?q._scrollTo.call(this,o,d[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(q._resetContentPosition.call(this),"x"===f.axis?q._unbindEvents.call(this):"yx"===f.axis&&r.overflowed[0]&&q._scrollTo.call(this,o,d[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),r.overflowed[0]||r.overflowed[1]?o.removeClass("mTS_no_scroll"):o.addClass("mTS_no_scroll"),q._autoUpdate.call(this)}})},scrollTo:function(d,f){if("undefined"!=typeof d&&null!=d){var c=q._selector.call(this);return A(c).each(function(){var h=A(this);if(h.data(g)){var n=h.data(g),e=n.opt,u={trigger:"external",speed:e.speed,duration:1000,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=A.extend(!0,{},u,f),D=q._arr.call(this,d),C=o.duration?o.duration:7000/(o.speed||1);D[0]=q._to.call(this,D[0],"y"),D[1]=q._to.call(this,D[1],"x"),o.dur=C>0&&17>C?17:C,setTimeout(function(){null!==D[0]&&"undefined"!=typeof D[0]&&"x"!==e.axis&&n.overflowed[0]&&(o.dir="y",o.overwrite="all",q._scrollTo.call(this,h,-D[0].toString(),o)),null!==D[1]&&"undefined"!=typeof D[1]&&"y"!==e.axis&&n.overflowed[1]&&(o.dir="x",o.overwrite="none",q._scrollTo.call(this,h,-D[1].toString(),o))},o.timeout)}})}},stop:function(){var a=q._selector.call(this);return A(a).each(function(){var c=A(this);c.data(g)&&q._stop.call(null,c)})},disable:function(a){var c=q._selector.call(this);return A(c).each(function(){var e=A(this);if(e.data(g)){var d=e.data(g);d.opt;q._autoUpdate.call(this,"remove"),q._unbindEvents.call(this),a&&q._resetContentPosition.call(this),q._buttonsVisibility.call(this,!0),e.addClass("mTS_disabled")}})},destroy:function(){var a=q._selector.call(this);return A(a).each(function(){var h=A(this);if(h.data(g)){var d=h.data(g),c=d.opt,f=A("#mTS_"+d.idx),e=(A("#mTS_"+d.idx+"_container"),A("#mTS_"+d.idx+"_buttonUp,#mTS_"+d.idx+"_buttonDown,#mTS_"+d.idx+"_buttonLeft,#mTS_"+d.idx+"_buttonRight"));c.live&&x(a),q._autoUpdate.call(this,"remove"),q._unbindEvents.call(this),q._resetContentPosition.call(this),h.removeData(g),q._delete.call(null,this.mts),e.remove(),f.replaceWith(d.html),h.removeClass(y+" _"+g+"_"+d.idx+" "+g+"-"+c.theme+" mTS_no_scroll mTS_disabled").addClass("mTS_destroyed")}})}},q={_selector:function(){return"object"!=typeof A(this)||A(this).length<1?m:this},_theme:function(h){var s=["buttons-out"],d=["buttons-in"],r=["buttons-out"],f=["hover-classic"],c=["hover-full"];h.markup.buttonsPlaceholder=A.inArray(h.theme,s)>-1?"outside":h.markup.buttonsPlaceholder,h.markup.buttonsHTML=A.inArray(h.theme,d)>-1?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:A.inArray(h.theme,r)>-1?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:h.markup.buttonsHTML,h.type=A.inArray(h.theme,f)>-1?"hover-85":A.inArray(h.theme,c)>-1?"hover-precise":h.type,h.speed=A.inArray(h.theme,f)>-1?60:A.inArray(h.theme,c)>-1?10:h.speed},_pluginMarkup:function(){var u=A(this),E=u.data(g),f=E.opt,a="yx"===f.axis?"mTS_vertical_horizontal":"x"===f.axis?"mTS_horizontal":"mTS_vertical",o=f.markup.thumbnailsContainer||"ul",h=f.markup.thumbnailContainer||"li",D=f.markup.thumbnailElement||"img";if(E.html=u.children().clone(!0,!0),!u.find(o).length){var C=u.find("li").length?"<ul class='"+g+"AutoContainer' />":"<div class='"+g+"AutoContainer' />";u.wrapInner(C),o="."+g+"AutoContainer"}f.setWidth&&u.css("width",f.setWidth),f.setHeight&&u.css("height",f.setHeight),f.setLeft="y"!==f.axis&&"rtl"===E.langDir?"-989999px":f.setLeft,u.addClass(y+" _"+g+"_"+E.idx+" "+g+"-"+f.theme).find(o).wrap("<div id='mTS_"+E.idx+"' class='mTSWrapper "+a+"' />").addClass(g+"Container").attr("id","mTS_"+E.idx+"_container").css({position:"relative",top:f.setTop,left:f.setLeft}).find(h).addClass(g+"ThumbContainer").find(D).addClass(g+"Thumb"),q._scrollButtons.call(this)},_expandContentHorizontally:function(){var f=A(this),h=f.data(g),c=h.opt,d=A("#mTS_"+h.idx+"_container");c.advanced.autoExpandHorizontalScroll&&"y"!==c.axis&&d.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(d[0].getBoundingClientRect().right)-Math.floor(d[0].getBoundingClientRect().left),position:"relative"}).unwrap()},_scrollButtons:function(){var f=A(this),h=f.data(g),c=h.opt,a=c.markup.buttonsPlaceholder?"outside"===c.markup.buttonsPlaceholder?f:A(c.markup.buttonsPlaceholder):A("#mTS_"+h.idx),d=["<a href='#' id='mTS_"+h.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+q._scrollButtonsIcons.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+h.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+q._scrollButtonsIcons.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+h.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+q._scrollButtonsIcons.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+h.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+q._scrollButtonsIcons.call(this,"right")+"</span></a>"];["x"===c.axis?d[2]:d[0],"x"===c.axis?d[3]:d[1]];a.hasClass(y)&&"static"===a.css("position")&&a.css("position","relative"),-1!==c.type.indexOf("click")&&("x"!==c.axis&&a.append(d[0]+d[1]),"y"!==c.axis&&a.append(d[2]+d[3]))},_scrollButtonsIcons:function(o){var s=A(this),d=s.data(g),f=d.opt,c=f.markup.buttonsHTML,h="SVG set 1"===c[o]?0:"SVG set 2"===c[o]?1:"SVG set 3"===c[o]?2:"SVG set 4"===c[o]?3:"SVG set 5"===c[o]?4:null;switch(o){case"up":return null===h?c[o]:w?"&uarr;":q._icons(c[o])[h][0];case"down":return null===h?c[o]:w?"&darr;":q._icons(c[o])[h][1];case"left":return null===h?c[o]:w?"&larr;":q._icons(c[o])[h][2];case"right":return null===h?c[o]:w?"&rarr;":q._icons(c[o])[h][3]}},_icons:function(){var a="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",c="</svg>";return[[a+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+c,a+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+c,a+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+c,a+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+c],[a+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+c,a+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+c,a+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+c,a+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+c],[a+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+c,a+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+c,a+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+c,a+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+c],[a+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+c,a+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+c,a+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+c,a+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+c],[a+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+c,a+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+c,a+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+c,a+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+c]]},_maxHeight:function(){var u=A(this),C=u.data(g),d=(C.opt,A("#mTS_"+C.idx)),f=u.css("max-height"),c=-1!==f.indexOf("%"),o=u.css("box-sizing");if("none"!==f){var h=c?u.parent().height()*parseInt(f)/100:parseInt(f);"border-box"===o&&(h-=u.innerHeight()-u.height()+(u.outerHeight()-u.innerHeight())),d.css("max-height",Math.round(h))}},_overflowed:function(){var f=A(this),h=f.data(g),c=A("#mTS_"+h.idx),d=A("#mTS_"+h.idx+"_container");return[d.height()>c.height(),d.width()>c.width()]},_resetContentPosition:function(){var o=A(this),s=o.data(g),d=s.opt,f=A("#mTS_"+s.idx),c=A("#mTS_"+s.idx+"_container");if(q._stop(o),("x"!==d.axis&&!s.overflowed[0]||"y"===d.axis&&s.overflowed[0])&&c.css("top",0),"y"!==d.axis&&!s.overflowed[1]||"x"===d.axis&&s.overflowed[1]){var h="rtl"===s.langDir?f.width()-c.width():0;c.css("left",h)}},_bindEvents:function(){var d=A(this),f=d.data(g),c=f.opt;f.bindEvents||(c.contentTouchScroll&&q._contentDraggable.call(this),-1!==c.type.indexOf("hover")?"hover-precise"===c.type?q._hoverPrecise.call(this):q._hover.call(this):-1!==c.type.indexOf("click")&&q._click.call(this),f.bindEvents=!0)},_unbindEvents:function(){var h=A(this),o=h.data(g),d=g+"_"+o.idx,f=A("#mTS_"+o.idx+",#mTS_"+o.idx+"_container,#mTS_"+o.idx+"_buttonUp,#mTS_"+o.idx+"_buttonDown,#mTS_"+o.idx+"_buttonLeft,#mTS_"+o.idx+"_buttonRight"),c=A("#mTS_"+o.idx+"_container");o.bindEvents&&(f.each(function(){A(this).unbind("."+d)}),clearTimeout(c[0].onCompleteTimeout),q._delete.call(null,c[0].onCompleteTimeout),o.bindEvents=!1)},_buttonsVisibility:function(C,E,f){var h=A(this),d=h.data(g),u=d.opt;if(-1!==u.type.indexOf("click")){f||(f=u.axis);var o=[A("#mTS_"+d.idx+"_buttonUp"),A("#mTS_"+d.idx+"_buttonDown"),A("#mTS_"+d.idx+"_buttonLeft"),A("#mTS_"+d.idx+"_buttonRight")],D=g+"-hidden";"x"!==f&&(sel=!d.overflowed[0]||C||E?1===E?[o[0],o[1]]:2===E?[o[1],o[0]]:[o[0].add(o[1]),null]:[d.overflowed[1]?null:o[2].add(o[3]),o[0].add(o[1])]),"y"!==f&&(sel=!d.overflowed[1]||C||E?1===E?[o[2],o[3]]:2===E?[o[3],o[2]]:[o[2].add(o[3]),null]:[d.overflowed[0]?null:o[0].add(o[1]),o[2].add(o[3])]),sel[0]&&sel[0].addClass(D),sel[1]&&sel[1].removeClass(D)}},_coordinates:function(a){var c=a.type;switch(c){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[a.originalEvent.pageY,a.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var d=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return[d.pageY,d.pageX];default:return[a.pageY,a.pageX]}},_inputType:function(a){return j||-1!==a.type.indexOf("touch")||"undefined"!=typeof a.pointerType&&(2===a.pointerType||"touch"===a.pointerType)?"touch":"mouse"},_contentDraggable:function(){function V(a,c){var d=[1.5*c,2*c,c/1.5,c/2];return a>90?c>4?d[0]:d[3]:a>60?c>3?d[3]:d[2]:a>30?c>8?d[1]:c>6?d[0]:c>4?c:d[2]:c>8?c:d[3]}function Z(d,h,r,c,l){d&&q._scrollTo(f,-d.toString(),{dur:h,easing:r,dir:c,overwrite:l})}var Q,N,J,H,X,W,R,K,L,aa,G,f=A(this),U=f.data(g),E=U.opt,n=g+"_"+U.idx,F=A("#mTS_"+U.idx),Y=A("#mTS_"+U.idx+"_container"),D=[],u=[],I=0,P="yx"===E.axis?"none":"all",o=[];Y.bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(a){if(q._pointerTouch(a)&&!z){var c=Y.offset();Q=q._coordinates(a)[0]-c.top,N=q._coordinates(a)[1]-c.left,o=[q._coordinates(a)[0],q._coordinates(a)[1]]}}).bind("touchmove."+n+" pointermove."+n+" MSPointerMove."+n,function(T){if(q._pointerTouch(T)&&!z){T.stopImmediatePropagation(),W=q._getTime();var O=F.offset(),C=q._coordinates(T)[0]-O.top,l=q._coordinates(T)[1]-O.left,a="linearOut";if(D.push(C),u.push(l),o[2]=Math.abs(q._coordinates(T)[0]-o[0]),o[3]=Math.abs(q._coordinates(T)[1]-o[1]),U.overflowed[0]){var ab=F.height()-Y.height(),S=Q-C>0&&C-Q>ab&&2*o[3]<o[2]}if(U.overflowed[1]){var M=F.width()-Y.width(),d=N-l>0&&l-N>M&&2*o[2]<o[3]}(S||d)&&T.preventDefault(),aa="yx"===E.axis?[Q-C,N-l]:"x"===E.axis?[null,N-l]:[Q-C,null],Y[0].idleTimer=250,U.overflowed[0]&&Z(aa[0],I,a,"y","all"),U.overflowed[1]&&Z(aa[1],I,a,"x",P)}}),F.bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(a){if(q._pointerTouch(a)&&!z){a.stopImmediatePropagation(),j=!0,q._stop(f),X=q._getTime();var c=F.offset();J=q._coordinates(a)[0]-c.top,H=q._coordinates(a)[1]-c.left,D=[],u=[]}}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(ac){if(q._pointerTouch(ac)&&!z){ac.stopImmediatePropagation(),R=q._getTime();var d=F.offset(),c=q._coordinates(ac)[0]-d.top,s=q._coordinates(ac)[1]-d.left;if(!(R-W>30)){L=1000/(R-X);var e="easeOut",h=2.5>L,r=h?[D[D.length-2],u[u.length-2]]:[0,0];K=h?[c-r[0],s-r[1]]:[c-J,s-H];var a=[Math.abs(K[0]),Math.abs(K[1])];L=h?[Math.abs(K[0]/4),Math.abs(K[1]/4)]:[L,L];var M=[Math.abs(Y[0].offsetTop)-K[0]*V(a[0]/L[0],L[0]),Math.abs(Y[0].offsetLeft)-K[1]*V(a[1]/L[1],L[1])];aa="yx"===E.axis?[M[0],M[1]]:"x"===E.axis?[null,M[1]]:[M[0],null],G=[4*a[0]+60*E.speed,4*a[1]+60*E.speed];var ab=parseInt(E.contentTouchScroll)||0;aa[0]=a[0]>ab?aa[0]:0,aa[1]=a[1]>ab?aa[1]:0,U.overflowed[0]&&Z(aa[0],G[0],e,"y",P),U.overflowed[1]&&Z(aa[1],G[1],e,"x",P)}}})},_hoverPrecise:function(){var f,G,C,o=A(this),e=o.data(g),I=e.opt,F=g+"_"+e.idx,E=A("#mTS_"+e.idx),H=A("#mTS_"+e.idx+"_container"),D=v.navigator.pointerEnabled?"pointermove":v.navigator.msPointerEnabled?"MSPointerMove":"mousemove";E.bind(D+"."+F,function(a){if("touch"!==q._inputType(a.originalEvent||a)&&(e.overflowed[0]||e.overflowed[1])){a.preventDefault();var n=E.height(),r=H.height(),s=E.width(),d=H.width(),l=d/s*7000/(I.speed||1);f=[q._coordinates(a)[0]-E.offset().top,q._coordinates(a)[1]-E.offset().left],G=[f[0]/E.height(),f[1]/E.width()],C=[Math.round(-((r-n)*G[0])),Math.round(-((d-s)*G[1]))],"x"!==I.axis&&e.overflowed[0]&&q._scrollTo(o,C[0].toString(),{dir:"y",dur:l,easing:"easeOut"}),"y"!==I.axis&&e.overflowed[1]&&q._scrollTo(o,C[1].toString(),{dir:"x",dur:l,easing:"easeOut"})}})},_hover:function(){function Q(){D[0].rAF||(G=v.requestAnimationFrame?v.requestAnimationFrame:function(a){return setTimeout(a,17)},D[0].rAF=G(J))}function K(){null!=D[0].rAF&&(v.requestAnimationFrame?v.cancelAnimationFrame(D[0].rAF):clearTimeout(D[0].rAF),clearTimeout(E),D[0].rAF=null)}function J(){if(!j){N=[O[0]+e[0].offsetTop,O[1]+e[0].offsetLeft];var a=[D.height()-e.height(),D.width()-e.width()];"x"!==I.axis&&H.overflowed[0]&&(N[0]=N[0]>0?0:N[0]<a[0]?a[0]:N[0],O[0]&&!n[0]&&q._scrollTo(L,N[0],{dir:"y",dur:0,easing:"linear"}),(N[0]>=0||N[0]<=a[0])&&(n[0]=1)),"y"!==I.axis&&H.overflowed[1]&&(N[1]=N[1]>0?0:N[1]<a[1]?a[1]:N[1],O[1]&&!n[1]&&q._scrollTo(L,N[1],{dir:"x",dur:0,easing:"linear"}),(N[1]>=0||N[1]<=a[1])&&(n[1]=1)),E=setTimeout(function(){D[0].rAF=G(J)},o)}}var G,F,O,N,E,L=A(this),H=L.data(g),I=H.opt,R=g+"_"+H.idx,D=A("#mTS_"+H.idx),e=A("#mTS_"+H.idx+"_container"),M=v.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:v.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],o=v.requestAnimationFrame?0:17,f=I.speed,C=parseInt(I.type.split("hover-")[1])||1,P=f*C/100,n=[0,0];D.bind(M[0]+"."+R,function(a){"touch"!==q._inputType(a.originalEvent||a)&&(H.overflowed[0]||H.overflowed[1])&&Q()}).bind(M[1]+"."+R,function(a){"touch"!==q._inputType(a.originalEvent||a)&&(H.overflowed[0]||H.overflowed[1])&&(F=[q._coordinates(a)[0]-D.offset().top,q._coordinates(a)[1]-D.offset().left],O=[Math.round(Math.cos(F[0]/D.height()*Math.PI)*f),Math.round(Math.cos(F[1]/D.width()*Math.PI)*f)],O[0]=O[0]<=-P?O[0]+=P:O[0]>=P?O[0]-=P:O[0]=0,O[1]=O[1]<=-P?O[1]+=P:O[1]>=P?O[1]-=P:O[1]=0,n=[0,0])}).bind(M[2]+"."+R,function(a){"touch"!==q._inputType(a.originalEvent||a)&&(H.overflowed[0]||H.overflowed[1])&&K()})},_click:function(){var C=A(this),E=C.data(g),f=E.opt,h=g+"_"+E.idx,d=A("#mTS_"+E.idx),u=A("#mTS_"+E.idx+"_container"),o=[A("#mTS_"+E.idx+"_buttonUp"),A("#mTS_"+E.idx+"_buttonDown"),A("#mTS_"+E.idx+"_buttonLeft"),A("#mTS_"+E.idx+"_buttonRight")],D=o[0].add(o[1]).add(o[2]).add(o[3]);D.bind("click."+h,function(G){if(q._mouseBtnLeft(G)&&(E.overflowed[0]||E.overflowed[1])&&(G.preventDefault(),!E.tweenRunning)){if("x"!==f.axis&&E.overflowed[0]){var l=d.height(),n="click-thumb"===f.type?0:A(this).hasClass("mTSButtonUp")?"+=":A(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==f.type){var H=parseInt(f.type.split("click-")[1])||1,F=n?[n+l*H/100,null]:0}else{var e=q._firstLast.call(C[0])[0],r=q._firstLast.call(C[0])[1];if(A(this).hasClass("mTSButtonDown")){var F=r?r[0].offsetTop-parseInt(r.css("margin-bottom"))-l:989999}else{if(A(this).hasClass("mTSButtonUp")){var F=e?e[0].offsetTop-parseInt(e.css("margin-top")):0;if(0===u[0].offsetTop){return}}}}}if("y"!==f.axis&&E.overflowed[1]){var a=d.width(),n="click-thumb"===f.type?0:A(this).hasClass("mTSButtonLeft")?"+=":A(this).hasClass("mTSButtonRight")?"-=":0;if("click-thumb"!==f.type){var H=parseInt(f.type.split("click-")[1])||1,F=n?[null,n+a*H/100]:F}else{var e=q._firstLast.call(C[0])[2],r=q._firstLast.call(C[0])[3];if(A(this).hasClass("mTSButtonRight")){var F=r?r[0].offsetLeft-parseInt(r.css("margin-right"))-a:989999}else{if(A(this).hasClass("mTSButtonLeft")){var F=e?e[0].offsetLeft-parseInt(e.css("margin-left")):0;if(0===u[0].offsetLeft){return}}}}}null!==F&&p.scrollTo.call(C[0],F,{duration:0})}})},_firstLast:function(){var C,h,F,u,o=A(this),f=o.data(g),G=(f.opt,A("#mTS_"+f.idx+"_container")),E=A("#mTS_"+f.idx),D=G.find(".mTSThumbContainer");return D.each(function(){var e=A(this),a=[Math.round(e.offset().top-G.offset().top+G[0].offsetTop),Math.round(e.offset().left-G.offset().left+G[0].offsetLeft)];if(a[0]<=0-parseInt(e.css("margin-top"))){C=D.eq(0===a[0]?e.index()-1:e.index())}else{if(a[0]<=E.height()+parseInt(e.css("margin-bottom"))){var d=D.eq(e.index()+1);h=d.length?d:null}}if(a[1]<=0-parseInt(e.css("margin-left"))){F=D.eq(0===a[1]?e.index()-1:e.index())}else{if(a[1]<=E.width()+parseInt(e.css("margin-right"))){var c=D.eq(e.index()+1);u=c.length?c:null}}}),[C,h,F,u]},_arr:function(d){var f=A(this).data(g).opt,c=[];return"function"==typeof d&&(d=d()),d instanceof Array?c=d.length>1?[d[0],d[1]]:"x"===f.axis?[null,d[0]]:[d[0],null]:(c[0]=d.y?d.y:d.x||"x"===f.axis?null:d,c[1]=d.x?d.x:d.y||"y"===f.axis?null:d),"function"==typeof c[0]&&(c[0]=c[0]()),"function"==typeof c[1]&&(c[1]=c[1]()),c},_to:function(G,o){if(null!=G&&"undefined"!=typeof G){var J=A(this),F=J.data(g),D=F.opt,f=A("#mTS_"+F.idx),N=A("#mTS_"+F.idx+"_container"),I=typeof G;o||(o="x"===D.axis?"x":"y");var H="x"===o?N.width():N.height(),M="x"===o?N.offset().left:N.offset().top,h="x"===o?N[0].offsetLeft:N[0].offsetTop,C="x"===o?"left":"top";switch(I){case"function":return G();case"object":if(G.nodeType){var L="x"===o?A(G).offset().left:A(G).offset().top}else{if(G.jquery){if(!G.length){return}var L="x"===o?G.offset().left:G.offset().top}}return L-M;case"string":case"number":if(q._isNumeric.call(null,G)){return Math.abs(G)}if(-1!==G.indexOf("%")){return Math.abs(H*parseInt(G)/100)}if(-1!==G.indexOf("-=")){return Math.abs(h-parseInt(G.split("-=")[1]))}if(-1!==G.indexOf("+=")){var K=h+parseInt(G.split("+=")[1]);return K>=0?0:Math.abs(K)}if(-1!==G.indexOf("px")&&q._isNumeric.call(null,G.split("px")[0])){return Math.abs(G.split("px")[0])}if("top"===G||"left"===G){return 0}if("bottom"===G){return Math.abs(f.height()-N.height())}if("right"===G){return Math.abs(f.width()-N.width())}if("first"===G||"last"===G){var E=N.find(":"+G),L="x"===o?A(E).offset().left:A(E).offset().top;return L-M}if(A(G).length){var L="x"===o?A(G).offset().left:A(G).offset().top;return L-M}return N.css(C,G),void p.update.call(null,J[0])}}},_autoUpdate:function(H){function o(){clearTimeout(h[0].autoUpdate),h[0].autoUpdate=setTimeout(function(){return I.advanced.updateOnSelectorChange&&(C=D(),C!==E)?(f(),void (E=C)):(I.advanced.updateOnContentResize&&(N=[h.height(),h.width(),O.height(),O.width(),P.height(),P.width()],(N[0]!==G[0]||N[1]!==G[1]||N[2]!==G[2]||N[3]!==G[3]||N[4]!==G[4]||N[5]!==G[5])&&(f(),G=N)),I.advanced.updateOnImageLoad&&(M=L(),M!==K&&(h.find("img").each(function(){F(this.src)}),K=M)),void ((I.advanced.updateOnSelectorChange||I.advanced.updateOnContentResize||I.advanced.updateOnImageLoad)&&o()))},60)}function L(){var a=0;return I.advanced.updateOnImageLoad&&(a=h.find("img").length),a}function F(d){function l(a,n){return function(){return n.apply(a,arguments)}}function r(){this.onload=null,f()}var c=new Image;c.onload=l(c,r),c.src=d}function D(){I.advanced.updateOnSelectorChange===!0&&(I.advanced.updateOnSelectorChange="*");var a=0,c=h.find(I.advanced.updateOnSelectorChange);return I.advanced.updateOnSelectorChange&&c.length>0&&c.each(function(){a+=A(this).height()+A(this).width()}),a}function f(){clearTimeout(h[0].autoUpdate),p.update.call(null,P[0])}var P=A(this),J=P.data(g),I=J.opt,O=A("#mTS_"+J.idx),h=A("#mTS_"+J.idx+"_container");if(H){return clearTimeout(h[0].autoUpdate),void q._delete.call(null,h[0].autoUpdate)}var C,N,M,E=D(),G=[h.height(),h.width(),O.height(),O.width(),P.height(),P.width()],K=L();o()},_stop:function(d){var f=d.data(g),c=A("#mTS_"+f.idx+"_container");c.each(function(){q._stopTween.call(this)})},_scrollTo:function(P,J,V){function M(a){return G&&R.callbacks[a]&&"function"==typeof R.callbacks[a]}function L(){return[R.callbacks.alwaysTriggerOffsets||E>=f+C,R.callbacks.alwaysTriggerOffsets||-o>=E]}function H(){var a=[N[0].offsetTop,N[0].offsetLeft],d=[N.height(),N.width()],c=[F.height(),F.width()];P[0].mts={content:N,top:a[0],left:a[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(d[0])-c[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(d[1])-c[1])),direction:V.dir}}var G=P.data(g),R=G.opt,Q={trigger:"internal",dir:"y",easing:"easeOut",dur:60*R.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},V=A.extend(Q,V),F=A("#mTS_"+G.idx),N=A("#mTS_"+G.idx+"_container"),I=R.callbacks.onTotalScrollOffset?q._arr.call(P,R.callbacks.onTotalScrollOffset):[0,0],K=R.callbacks.onTotalScrollBackOffset?q._arr.call(P,R.callbacks.onTotalScrollBackOffset):[0,0];switch(G.trigger=V.trigger,(0!==F.scrollTop()||0!==F.scrollLeft())&&F.scrollTop(0).scrollLeft(0),V.dir){case"x":var W="left",E=N[0].offsetLeft,f=F.width()-N.width(),O=J,C=I[1],o=K[1],D=C>0?C:0,U=o>0?o:0;break;case"y":var W="top",E=N[0].offsetTop,f=F.height()-N.height(),O=J,C=I[0],o=K[0],D=C>0?C:0,U=o>0?o:0}O>=0?(O=0,q._buttonsVisibility.call(P,!1,1,V.dir)):f>=O?(O=f,q._buttonsVisibility.call(P,!1,2,V.dir)):(O=O,q._buttonsVisibility.call(P,!1,0,V.dir)),P[0].mts||(H(),M("onInit")&&R.callbacks.onInit.call(P[0])),clearTimeout(N[0].onCompleteTimeout),(G.tweenRunning||!(0===E&&O>=0||E===f&&f>=O))&&q._tweenTo.call(null,N[0],W,Math.round(O),V.dur,V.easing,V.overwrite,{onStart:function(){V.callbacks&&V.onStart&&!G.tweenRunning&&(M("onScrollStart")&&(H(),R.callbacks.onScrollStart.call(P[0])),G.tweenRunning=!0,G.cbOffsets=L())},onUpdate:function(){V.callbacks&&V.onUpdate&&M("whileScrolling")&&(H(),R.callbacks.whileScrolling.call(P[0]))},onComplete:function(){if(V.callbacks&&V.onComplete){"yx"===R.axis&&clearTimeout(N[0].onCompleteTimeout);var a=N[0].idleTimer||0;N[0].onCompleteTimeout=setTimeout(function(){M("onScroll")&&(H(),R.callbacks.onScroll.call(P[0])),M("onTotalScroll")&&f+D>=O&&G.cbOffsets[0]&&(H(),R.callbacks.onTotalScroll.call(P[0])),M("onTotalScrollBack")&&O>=-U&&G.cbOffsets[1]&&(H(),R.callbacks.onTotalScrollBack.call(P[0])),G.tweenRunning=!1,N[0].idleTimer=0},a)}}})},_tweenTo:function(H,M,X,L,P,O,J){function I(){W.stop||(D||Y.call(),D=q._getTime()-R,V(),D>=W.time&&(W.time=D>W.time?D+K-(D-W.time):D+K-1,W.time<D+1&&(W.time=D+1)),W.time<L?W.id=N(I):e.call())}function V(){L>0?(W.currVal=Q(W.time,f,C,L,P),E[M]=Math.round(W.currVal)+"px"):E[M]=X+"px",F.call()}function U(){K=1000/60,W.time=D+K,N=v.requestAnimationFrame?v.requestAnimationFrame:function(a){return V(),setTimeout(a,0.01)},W.id=N(I)}function G(){null!=W.id&&(v.requestAnimationFrame?v.cancelAnimationFrame(W.id):clearTimeout(W.id),W.id=null)}function Q(r,s,S,d,u){switch(u){case"linear":return S*r/d+s;case"linearOut":return r/=d,r--,S*Math.sqrt(1-r*r)+s;case"easeInOutSmooth":return r/=d/2,1>r?S/2*r*r+s:(r--,-S/2*(r*(r-2)-1)+s);case"easeInOutStrong":return r/=d/2,1>r?S/2*Math.pow(2,10*(r-1))+s:(r--,S/2*(-Math.pow(2,-10*r)+2)+s);case"easeInOut":return r/=d/2,1>r?S/2*r*r*r+s:(r-=2,S/2*(r*r*r+2)+s);case"easeOutSmooth":return r/=d,r--,-S*(r*r*r*r-1)+s;case"easeOutStrong":return S*(-Math.pow(2,-10*r/d)+1)+s;case"easeOut":default:var h=(r/=d)*r,c=h*r;return s+S*(0.499999999999997*c*h+-2.5*h*h+5.5*c+-6.5*h+4*r)}}H._malihuTween||(H._malihuTween={top:{},left:{}});var K,N,J=J||{},Y=J.onStart||function(){},F=J.onUpdate||function(){},e=J.onComplete||function(){},R=q._getTime(),D=0,f=H.offsetTop,E=H.style,W=H._malihuTween[M];"left"===M&&(f=H.offsetLeft);var C=X-f;W.stop=0,"none"!==O&&G(),U()},_getTime:function(){return v.performance&&v.performance.now?v.performance.now():v.performance&&v.performance.webkitNow?v.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_stopTween:function(){var a=this;a._malihuTween||(a._malihuTween={top:{},left:{}}),a._malihuTween.top.id&&(v.requestAnimationFrame?v.cancelAnimationFrame(a._malihuTween.top.id):clearTimeout(a._malihuTween.top.id),a._malihuTween.top.id=null,a._malihuTween.top.stop=1),a._malihuTween.left.id&&(v.requestAnimationFrame?v.cancelAnimationFrame(a._malihuTween.left.id):clearTimeout(a._malihuTween.left.id),a._malihuTween.left.id=null,a._malihuTween.left.stop=1)},_delete:function(a){try{delete a}catch(c){a=null}},_mouseBtnLeft:function(a){return !(a.which&&1!==a.which)},_pointerTouch:function(a){var c=a.originalEvent.pointerType;return !(c&&"touch"!==c&&2!==c)},_isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)}};A.fn[y]=function(a){return p[a]?p[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void A.error("Method "+a+" does not exist"):p.init.apply(this,arguments)},A[y]=function(a){return p[a]?p[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void A.error("Method "+a+" does not exist"):p.init.apply(this,arguments)},A[y].defaults=k,v[y]=!0,A(v).load(function(){var c=A(m),d=[];if(c.length){c.each(function(){var o=A(this),f=o.data("mts-axis")||k.axis,h=o.data("mts-type")||k.type,n=o.data("mts-theme")||k.theme,l="auto-"+g+"-"+f+"-"+h+"-"+n,u=[l,f,h];o.addClass(l),-1===A.inArray(l,d)&&d.push(u)});for(var a=0;a<d.length;a++){A("."+d[a][0])[y]({axis:d[a][1],type:d[a][2]})}}})}(jQuery,window,document);
/*!
 CLEditor WYSIWYG HTML Editor v1.4.4
 http://premiumsoftware.net/CLEditor
 requires jQuery v1.4.2 or later

 Copyright 2010, Chris Landowski, Premium Software, LLC
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(b){var a=this.SelectBox=function(c,d){if(c instanceof jQuery){if(c.length>0){c=c[0]}else{return}}this.typeTimer=null;this.typeSearch="";this.isMac=navigator.platform.match(/mac/i);d="object"===typeof d?d:{};this.selectElement=c;if(!d.mobile&&navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i)){return false}if("select"!==c.tagName.toLowerCase()){return false}this.init(d)};SelectBox.prototype.version="1.2.0";SelectBox.prototype.init=function(p){var k=b(this.selectElement);if(k.data("selectBox-control")){return false}var f=b('<a class="selectBox" />'),h=k.attr("multiple")||parseInt(k.attr("size"))>1,d=p||{},c=parseInt(k.prop("tabindex"))||0,n=this;f.width(k.outerWidth()).addClass(k.attr("class")).attr("title",k.attr("title")||"").attr("tabindex",c).css("display","inline-block").bind("focus.selectBox",function(){if(this!==document.activeElement&&document.body!==document.activeElement){b(document.activeElement).blur()}if(f.hasClass("selectBox-active")){return}f.addClass("selectBox-active");k.trigger("focus")}).bind("blur.selectBox",function(){if(!f.hasClass("selectBox-active")){return}f.removeClass("selectBox-active");k.trigger("blur")});if(!b(window).data("selectBox-bindings")){b(window).data("selectBox-bindings",true).bind("scroll.selectBox",this.hideMenus).bind("resize.selectBox",this.hideMenus)}if(k.attr("disabled")){f.addClass("selectBox-disabled")}k.bind("click.selectBox",function(q){f.focus();q.preventDefault()});if(h){p=this.getOptions("inline");f.append(p).data("selectBox-options",p).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",function(q){n.handleKeyDown(q)}).bind("keypress.selectBox",function(q){n.handleKeyPress(q)}).bind("mousedown.selectBox",function(q){if(1!==q.which){return}if(b(q.target).is("A.selectBox-inline")){q.preventDefault()}if(!f.hasClass("selectBox-focus")){f.focus()}}).insertAfter(k);if(!k[0].style.height){var o=k.attr("size")?parseInt(k.attr("size")):5;var e=f.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");e.find(".selectBox-options").html("<li><a>\u00A0</a></li>");var m=parseInt(e.find(".selectBox-options A:first").html("&nbsp;").outerHeight());e.remove();f.height(m*o)}this.disableSelection(f)}else{var j=b('<span class="selectBox-label" />'),l=b('<span class="selectBox-arrow" />');j.attr("class",this.getLabelClass()).text(this.getLabelText());p=this.getOptions("dropdown");p.appendTo("BODY");f.data("selectBox-options",p).addClass("selectBox-dropdown").append(j).append(l).bind("mousedown.selectBox",function(q){if(1===q.which){if(f.hasClass("selectBox-menuShowing")){n.hideMenus()}else{q.stopPropagation();p.data("selectBox-down-at-x",q.screenX).data("selectBox-down-at-y",q.screenY);n.showMenu()}}}).bind("keydown.selectBox",function(q){n.handleKeyDown(q)}).bind("keypress.selectBox",function(q){n.handleKeyPress(q)}).bind("open.selectBox",function(r,q){if(q&&q._selectBox===true){return}n.showMenu()}).bind("close.selectBox",function(r,q){if(q&&q._selectBox===true){return}n.hideMenus()}).insertAfter(k);var g=f.width()-l.outerWidth()-parseInt(j.css("paddingLeft"))||0-parseInt(j.css("paddingRight"))||0;j.width(g);this.disableSelection(f)}k.addClass("selectBox").data("selectBox-control",f).data("selectBox-settings",d).hide()};SelectBox.prototype.getOptions=function(j){var f;var c=b(this.selectElement);var e=this;var d=function(k,l){k.children("OPTION, OPTGROUP").each(function(){if(b(this).is("OPTION")){if(b(this).length>0){e.generateOptions(b(this),l)}else{l.append("<li>\u00A0</li>")}}else{var m=b('<li class="selectBox-optgroup" />');m.text(b(this).attr("label"));l.append(m);l=d(b(this),l)}});return l};switch(j){case"inline":f=b('<ul class="selectBox-options" />');f=d(c,f);f.find("A").bind("mouseover.selectBox",function(k){e.addHover(b(this).parent())}).bind("mouseout.selectBox",function(k){e.removeHover(b(this).parent())}).bind("mousedown.selectBox",function(k){if(1!==k.which){return}k.preventDefault();if(!c.selectBox("control").hasClass("selectBox-active")){c.selectBox("control").focus()}}).bind("mouseup.selectBox",function(k){if(1!==k.which){return}e.hideMenus();e.selectOption(b(this).parent(),k)});this.disableSelection(f);return f;case"dropdown":f=b('<ul class="selectBox-dropdown-menu selectBox-options" />');f=d(c,f);f.data("selectBox-select",c).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",function(k){if(k.which===1){k.preventDefault();if(k.screenX===f.data("selectBox-down-at-x")&&k.screenY===f.data("selectBox-down-at-y")){f.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y");e.hideMenus()}}}).bind("mouseup.selectBox",function(k){if(1!==k.which){return}if(k.screenX===f.data("selectBox-down-at-x")&&k.screenY===f.data("selectBox-down-at-y")){return}else{f.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y")}e.selectOption(b(this).parent());e.hideMenus()}).bind("mouseover.selectBox",function(k){e.addHover(b(this).parent())}).bind("mouseout.selectBox",function(k){e.removeHover(b(this).parent())});var h=c.attr("class")||"";if(""!==h){h=h.split(" ");for(var g in h){f.addClass(h[g]+"-selectBox-dropdown-menu")}}this.disableSelection(f);return f}};SelectBox.prototype.getLabelClass=function(){var c=b(this.selectElement).find("OPTION:selected");return("selectBox-label "+(c.attr("class")||"")).replace(/\s+$/,"")};SelectBox.prototype.getLabelText=function(){var c=b(this.selectElement).find("OPTION:selected");return c.text()||"\u00A0"};SelectBox.prototype.setLabel=function(){var c=b(this.selectElement);var d=c.data("selectBox-control");if(!d){return}d.find(".selectBox-label").attr("class",this.getLabelClass()).text(this.getLabelText())};SelectBox.prototype.destroy=function(){var c=b(this.selectElement);var e=c.data("selectBox-control");if(!e){return}var d=e.data("selectBox-options");d.remove();e.remove();c.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show()};SelectBox.prototype.refresh=function(){var c=b(this.selectElement),e=c.data("selectBox-control"),f=e.hasClass("selectBox-dropdown"),d=e.hasClass("selectBox-menuShowing");c.selectBox("options",c.html());if(f&&d){this.showMenu()}};SelectBox.prototype.showMenu=function(){var e=this,d=b(this.selectElement),k=d.data("selectBox-control"),h=d.data("selectBox-settings"),f=k.data("selectBox-options");if(k.hasClass("selectBox-disabled")){return false}this.hideMenus();var g=parseInt(k.css("borderBottomWidth"))||0;f.width(k.innerWidth()).css({top:k.offset().top+k.outerHeight()-g,left:k.offset().left});if(d.triggerHandler("beforeopen")){return false}var j=function(){d.triggerHandler("open",{_selectBox:true})};switch(h.menuTransition){case"fade":f.fadeIn(h.menuSpeed,j);break;case"slide":f.slideDown(h.menuSpeed,j);break;default:f.show(h.menuSpeed,j);break}if(!h.menuSpeed){j()}var c=f.find(".selectBox-selected:first");this.keepOptionInView(c,true);this.addHover(c);k.addClass("selectBox-menuShowing");b(document).bind("mousedown.selectBox",function(l){if(1===l.which){if(b(l.target).parents().andSelf().hasClass("selectBox-options")){return}e.hideMenus()}})};SelectBox.prototype.hideMenus=function(){if(b(".selectBox-dropdown-menu:visible").length===0){return}b(document).unbind("mousedown.selectBox");b(".selectBox-dropdown-menu").each(function(){var d=b(this),c=d.data("selectBox-select"),g=c.data("selectBox-control"),e=c.data("selectBox-settings");if(c.triggerHandler("beforeclose")){return false}var f=function(){c.triggerHandler("close",{_selectBox:true})};if(e){switch(e.menuTransition){case"fade":d.fadeOut(e.menuSpeed,f);break;case"slide":d.slideUp(e.menuSpeed,f);break;default:d.hide(e.menuSpeed,f);break}if(!e.menuSpeed){f()}g.removeClass("selectBox-menuShowing")}else{b(this).hide();b(this).triggerHandler("close",{_selectBox:true});b(this).removeClass("selectBox-menuShowing")}})};SelectBox.prototype.selectOption=function(d,j){var c=b(this.selectElement);d=b(d);var k=c.data("selectBox-control"),h=c.data("selectBox-settings");if(k.hasClass("selectBox-disabled")){return false}if(0===d.length||d.hasClass("selectBox-disabled")){return false}if(c.attr("multiple")){if(j.shiftKey&&k.data("selectBox-last-selected")){d.toggleClass("selectBox-selected");var e;if(d.index()>k.data("selectBox-last-selected").index()){e=d.siblings().slice(k.data("selectBox-last-selected").index(),d.index())}else{e=d.siblings().slice(d.index(),k.data("selectBox-last-selected").index())}e=e.not(".selectBox-optgroup, .selectBox-disabled");if(d.hasClass("selectBox-selected")){e.addClass("selectBox-selected")}else{e.removeClass("selectBox-selected")}}else{if((this.isMac&&j.metaKey)||(!this.isMac&&j.ctrlKey)){d.toggleClass("selectBox-selected")}else{d.siblings().removeClass("selectBox-selected");d.addClass("selectBox-selected")}}}else{d.siblings().removeClass("selectBox-selected");d.addClass("selectBox-selected")}if(k.hasClass("selectBox-dropdown")){k.find(".selectBox-label").text(d.text())}var f=0,g=[];if(c.attr("multiple")){k.find(".selectBox-selected A").each(function(){g[f++]=b(this).attr("rel")})}else{g=d.find("A").attr("rel")}k.data("selectBox-last-selected",d);if(c.val()!==g){c.val(g);this.setLabel();c.trigger("change")}return true};SelectBox.prototype.addHover=function(d){d=b(d);var c=b(this.selectElement),f=c.data("selectBox-control"),e=f.data("selectBox-options");e.find(".selectBox-hover").find("a.hovered").removeClass("hovered");e.find(".selectBox-hover").removeClass("selectBox-hover");d.addClass("selectBox-hover");d.find("a").addClass("hovered")};SelectBox.prototype.getSelectElement=function(){return this.selectElement};SelectBox.prototype.removeHover=function(d){d=b(d);var c=b(this.selectElement),f=c.data("selectBox-control"),e=f.data("selectBox-options");e.find(".selectBox-hover").find("a.hovered").removeClass("hovered");e.find(".selectBox-hover").removeClass("selectBox-hover")};SelectBox.prototype.keepOptionInView=function(e,d){if(!e||e.length===0){return}var c=b(this.selectElement),k=c.data("selectBox-control"),g=k.data("selectBox-options"),h=k.hasClass("selectBox-dropdown")?g:g.parent(),j=parseInt(e.offset().top-h.position().top),f=parseInt(j+e.outerHeight());if(d){h.scrollTop(e.offset().top-h.offset().top+h.scrollTop()-(h.height()/2))}else{if(j<0){h.scrollTop(e.offset().top-h.offset().top+h.scrollTop())}if(f>h.height()){h.scrollTop((e.offset().top+e.outerHeight())-h.offset().top+h.scrollTop()-h.height())}}};SelectBox.prototype.handleKeyDown=function(c){var k=b(this.selectElement),g=k.data("selectBox-control"),l=g.data("selectBox-options"),e=k.data("selectBox-settings"),f=0,h=0;if(g.hasClass("selectBox-disabled")){return}switch(c.keyCode){case 8:c.preventDefault();this.typeSearch="";break;case 9:case 27:this.hideMenus();this.removeHover();break;case 13:if(g.hasClass("selectBox-menuShowing")){this.selectOption(l.find("LI.selectBox-hover:first"),c);if(g.hasClass("selectBox-dropdown")){this.hideMenus()}}else{this.showMenu()}break;case 38:case 37:c.preventDefault();if(g.hasClass("selectBox-menuShowing")){var d=l.find(".selectBox-hover").prev("LI");f=l.find("LI:not(.selectBox-optgroup)").length;h=0;while(d.length===0||d.hasClass("selectBox-disabled")||d.hasClass("selectBox-optgroup")){d=d.prev("LI");if(d.length===0){if(e.loopOptions){d=l.find("LI:last")}else{d=l.find("LI:first")}}if(++h>=f){break}}this.addHover(d);this.selectOption(d,c);this.keepOptionInView(d)}else{this.showMenu()}break;case 40:case 39:c.preventDefault();if(g.hasClass("selectBox-menuShowing")){var j=l.find(".selectBox-hover").next("LI");f=l.find("LI:not(.selectBox-optgroup)").length;h=0;while(0===j.length||j.hasClass("selectBox-disabled")||j.hasClass("selectBox-optgroup")){j=j.next("LI");if(j.length===0){if(e.loopOptions){j=l.find("LI:first")}else{j=l.find("LI:last")}}if(++h>=f){break}}this.addHover(j);this.selectOption(j,c);this.keepOptionInView(j)}else{this.showMenu()}break}};SelectBox.prototype.handleKeyPress=function(e){var c=b(this.selectElement),f=c.data("selectBox-control"),d=f.data("selectBox-options");if(f.hasClass("selectBox-disabled")){return}switch(e.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:if(!f.hasClass("selectBox-menuShowing")){this.showMenu()}e.preventDefault();clearTimeout(this.typeTimer);this.typeSearch+=String.fromCharCode(e.charCode||e.keyCode);d.find("A").each(function(){if(b(this).text().substr(0,this.typeSearch.length).toLowerCase()===this.typeSearch.toLowerCase()){this.addHover(b(this).parent());this.selectOption(b(this).parent(),e);this.keepOptionInView(b(this).parent());return false}});this.typeTimer=setTimeout(function(){this.typeSearch=""},1000);break}};SelectBox.prototype.enable=function(){var c=b(this.selectElement);c.prop("disabled",false);var d=c.data("selectBox-control");if(!d){return}d.removeClass("selectBox-disabled")};SelectBox.prototype.disable=function(){var c=b(this.selectElement);c.prop("disabled",true);var d=c.data("selectBox-control");if(!d){return}d.addClass("selectBox-disabled")};SelectBox.prototype.setValue=function(f){var c=b(this.selectElement);c.val(f);f=c.val();if(null===f){f=c.children().first().val();c.val(f)}var g=c.data("selectBox-control");if(!g){return}var e=c.data("selectBox-settings"),d=g.data("selectBox-options");this.setLabel();d.find(".selectBox-selected").removeClass("selectBox-selected");d.find("A").each(function(){if(typeof(f)==="object"){for(var h=0;h<f.length;h++){if(b(this).attr("rel")==f[h]){b(this).parent().addClass("selectBox-selected")}}}else{if(b(this).attr("rel")==f){b(this).parent().addClass("selectBox-selected")}}});if(e.change){e.change.call(c)}};SelectBox.prototype.setOptions=function(m){var l=b(this.selectElement),f=l.data("selectBox-control"),d=l.data("selectBox-settings"),k;switch(typeof(m)){case"string":l.html(m);break;case"object":l.html("");for(var g in m){if(m[g]===null){continue}if(typeof(m[g])==="object"){var c=b('<optgroup label="'+g+'" />');for(var e in m[g]){c.append('<option value="'+e+'">'+m[g][e]+"</option>")}l.append(c)}else{var h=b('<option value="'+g+'">'+m[g]+"</option>");l.append(h)}}break}if(!f){return}f.data("selectBox-options").remove();k=f.hasClass("selectBox-dropdown")?"dropdown":"inline";m=this.getOptions(k);f.data("selectBox-options",m);switch(k){case"inline":f.append(m);break;case"dropdown":this.setLabel();b("BODY").append(m);break}};SelectBox.prototype.disableSelection=function(c){b(c).css("MozUserSelect","none").bind("selectstart",function(d){d.preventDefault()})};SelectBox.prototype.generateOptions=function(e,f){var c=b("<li />"),d=b("<a />");c.addClass(e.attr("class"));c.data(e.data());d.attr("rel",e.val()).text(e.text());c.append(d);if(e.attr("disabled")){c.addClass("selectBox-disabled")}if(e.attr("selected")){c.addClass("selectBox-selected")}f.append(c)};b.extend(b.fn,{selectbox2:function(e,c){var d;switch(e){case"control":return b(this).data("selectBox-control");case"settings":if(!c){return b(this).data("selectBox-settings")}b(this).each(function(){b(this).data("selectBox-settings",b.extend(true,b(this).data("selectBox-settings"),c))});break;case"options":if(undefined===c){return b(this).data("selectBox-control").data("selectBox-options")}b(this).each(function(){if(d=b(this).data("selectBox")){d.setOptions(c)}});break;case"value":if(undefined===c){return b(this).val()}b(this).each(function(){if(d=b(this).data("selectBox")){d.setValue(c)}});break;case"refresh":b(this).each(function(){if(d=b(this).data("selectBox")){d.refresh()}});break;case"enable":b(this).each(function(){if(d=b(this).data("selectBox")){d.enable(this)}});break;case"disable":b(this).each(function(){if(d=b(this).data("selectBox")){d.disable()}});break;case"destroy":b(this).each(function(){if(d=b(this).data("selectBox")){d.destroy();b(this).data("selectBox",null)}});break;case"instance":return b(this).data("selectBox");default:b(this).each(function(g,f){if(!b(f).data("selectBox")){b(f).data("selectBox",new SelectBox(f,e))}});break}return b(this)}})})(jQuery);(function(H){H.cleditor={defaultOptions:{width:"auto",height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:true,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return y()}};H.fn.cleditor=function(ao){var an=H([]);this.each(function(ap,aq){if(aq.tagName.toUpperCase()==="TEXTAREA"){var ar=H.data(aq,d);if(!ar){ar=new cleditor(aq,ao)}an=an.add(ar)}});return an};var r="backgroundColor",g="blurred",ah="button",ag="buttonName",F="change",d="cleditor",X="click",E="disabled",I="<div>",O="focused",B="transparent",T="unselectable",b="cleditorMain",z="cleditorToolbar",ai="cleditorGroup",S="cleditorButton",aj="cleditorDisabled",Q="cleditorDivider",M="cleditorPopup",al="cleditorList",ac="cleditorColor",c="cleditorPrompt",ae="cleditorMsg",Z=navigator.userAgent.toLowerCase(),N=/msie/.test(Z),w=/msie\s6/.test(Z),J=/(trident)(?:.*rv:([\w.]+))?/.test(Z),m=/webkit/.test(Z),p=/iphone|ipad|ipod/i.test(Z),j={},G,A=H.cleditor.buttons;H.each(A.init.split("|"),function(an,aq){var ao=aq.split(","),ap=ao[0];A[ap]={stripIndex:an,name:ap,title:ao[1]===""?ap.charAt(0).toUpperCase()+ap.substr(1):ao[1],command:ao[2]===""?ap:ao[2],popupName:ao[3]===""?ap:ao[3]}});delete A.init;cleditor=function(at,ap){var ar=this;ar.options=ap=H.extend({},H.cleditor.defaultOptions,ap);var an=ar.$area=H(at).hide().data(d,ar).blur(function(){U(ar,true)});var au=ar.$main=H(I).addClass(b).width(ap.width).height(ap.height);var ao=ar.$toolbar=H(I).addClass(z).appendTo(au);var aq=H(I).addClass(ai).appendTo(ao);var av=0;H.each(ap.controls.split(" "),function(ax,aw){if(aw===""){return true}if(aw==="|"){var az=H(I).addClass(Q).appendTo(aq);aq.width(av+1);av=0;aq=H(I).addClass(ai).appendTo(ao)}else{var aA=A[aw];var ay=H(I).data(ag,aA.name).addClass(S).attr("title",aA.title).bind(X,H.proxy(f,ar)).appendTo(aq).hover(af,h);av+=24;aq.width(av+1);var aB={};if(aA.css){aB=aA.css}else{if(aA.image){aB.backgroundImage=K(aA.image)}}if(aA.stripIndex){aB.backgroundPosition=aA.stripIndex*-24}ay.css(aB);if(N){ay.attr(T,"on")}if(aA.popupName){u(ar,aA.popupName,ap,aA.popupClass,aA.popupContent,aA.popupHover)}}});au.insertBefore(an).append(an);if(!G){H(document).click(function(ax){var aw=H(ax.target);if(!aw.add(aw.parents()).is("."+c)){am()}});G=true}if(/auto|%/.test(""+ap.width+ap.height)){H(window).bind("resize.cleditor",function(){ak(ar)})}ak(ar)};var C=cleditor.prototype,L=[["clear",P],["disable",l],["execCommand",a],["focus",Y],["hidePopups",am],["sourceMode",k,true],["refresh",ak],["select",aa],["selectedHTML",q,true],["selectedText",V,true],["showMessage",D],["updateFrame",U],["updateTextArea",R]];H.each(L,function(an,ao){C[ao[0]]=function(){var at=this,ar=[at];for(var aq=0;aq<arguments.length;aq++){ar.push(arguments[aq])}var ap=ao[1].apply(at,ar);if(ao[2]){return ap}return at}});C.blurred=function(an){var ao=H(this);return an?ao.bind(g,an):ao.trigger(g)};C.change=function e(an){console.log("change test");var ao=H(this);return an?ao.bind(F,an):ao.trigger(F)};C.focused=function(an){var ao=H(this);return an?ao.bind(O,an):ao.trigger(O)};function f(at){var ar=this,av=at.target,aw=H.data(av,ag),aq=A[aw],au=aq.popupName,ao=j[au];if(ar.disabled||H(av).attr(E)===E){return}var ap={editor:ar,button:av,buttonName:aw,popup:ao,popupName:au,command:aq.command,useCSS:ar.options.useCSS};if(aq.buttonClick&&aq.buttonClick(at,ap)===false){return false}if(aw==="source"){if(k(ar)){delete ar.range;ar.$area.hide();ar.$frame.show();av.title=aq.title}else{ar.$frame.hide();ar.$area.show();av.title="Show Rich Text"}setTimeout(function(){s(ar)},100)}else{if(!k(ar)){if(au){var an=H(ao);if(au==="url"){if(aw==="link"&&V(ar)===""){D(ar,"A selection is required when inserting a link.",av);return false}an.children(":button").unbind(X).bind(X,function(){var ay=an.find(":text"),ax=H.trim(ay.val());if(ax!==""){a(ar,ap.command,ax,null,ap.button)}ay.val("http://");am();Y(ar)})}else{if(au==="pastetext"){an.children(":button").unbind(X).bind(X,function(){var ay=an.find("textarea"),ax=ay.val().replace(/\n/g,"<br />");if(ax!==""){a(ar,ap.command,ax,null,ap.button)}ay.val("");am();Y(ar)})}}if(av!==H.data(ao,ah)){o(ar,ao,av);return false}return}else{if(aw==="print"){ar.$frame[0].contentWindow.print()}else{if(!a(ar,ap.command,ap.value,ap.useCSS,av)){return false}}}}}Y(ar)}function af(ao){var an=H(ao.target).closest("div");an.css(r,an.data(ag)?"#FFF":"#FFC")}function h(an){H(an.target).closest("div").css(r,"transparent")}function ab(au){var ar=this,an=au.data.popup,av=au.target;if(an===j.msg||H(an).hasClass(c)){return}var ax=H.data(an,ah),ay=H.data(ax,ag),aq=A[ay],ao=aq.command,aw,at=ar.options.useCSS;if(ay==="font"){aw=av.style.fontFamily.replace(/"/g,"")}else{if(ay==="size"){if(av.tagName.toUpperCase()==="DIV"){av=av.children[0]}aw=av.innerHTML}else{if(ay==="style"){aw="<"+av.tagName+">"}else{if(ay==="color"){aw=W(av.style.backgroundColor)}else{if(ay==="highlight"){aw=W(av.style.backgroundColor);if(N){ao="backcolor"}else{at=true}}}}}}var ap={editor:ar,button:ax,buttonName:ay,popup:an,popupName:aq.popupName,command:ao,value:aw,useCSS:at};if(aq.popupClick&&aq.popupClick(au,ap)===false){return}if(ap.command&&!a(ar,ap.command,ap.value,ap.useCSS,ax)){return false}am();Y(ar)}function v(aq){var ao=1,an=0;for(var ap=0;ap<aq.length;++ap){ao=(ao+aq.charCodeAt(ap))%65521;an=(an+ao)%65521}return(an<<16)|ao}function P(an){an.$area.val("");U(an)}function u(ar,at,ap,aq,ao,au){if(j[at]){return j[at]}var av=H(I).hide().addClass(M).appendTo(ar.$main);if(ao){av.html(ao)}else{if(at==="color"){var an=ap.colors.split(" ");if(an.length<10){av.width("auto")}H.each(an,function(aw,ax){H(I).appendTo(av).css(r,"#"+ax)});aq=ac}else{if(at==="font"){H.each(ap.fonts.split(","),function(aw,ax){H(I).appendTo(av).css("fontFamily",ax).html(ax)})}else{if(at==="size"){H.each(ap.sizes.split(","),function(aw,ax){H(I).appendTo(av).html('<font size="'+ax+'">'+ax+"</font>")})}else{if(at==="style"){H.each(ap.styles,function(aw,ax){H(I).appendTo(av).html(ax[1]+ax[0]+ax[1].replace("<","</"))})}else{if(at==="url"){av.html('Enter URL:<br /><input type="text" value="http://" size="35" /><br /><input type="button" value="Submit" />');aq=c}else{if(at==="pastetext"){av.html('Paste your content here and click submit.<br /><textarea cols="40" rows="3"></textarea><br /><input type="button" value="Submit" />');aq=c}}}}}}}if(!aq&&!ao){aq=al}av.addClass(aq);if(N){av.attr(T,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(T,"on")}if(av.hasClass(al)||au===true){av.children().hover(af,h)}j[at]=av[0];return av[0]}function l(ao,an){if(an){ao.$area.attr(E,E);ao.disabled=true}else{ao.$area.removeAttr(E);delete ao.disabled}try{if(N){ao.doc.body.contentEditable=!an}else{ao.doc.designMode=!an?"on":"off"}}catch(ap){}s(ao)}function a(ao,av,ar,au,an){ad(ao);if(!N){if(au===undefined||au===null){au=ao.options.useCSS}ao.doc.execCommand("styleWithCSS",0,au.toString())}var at=true,aq;if(N&&av.toLowerCase()==="inserthtml"){n(ao).pasteHTML(ar)}else{try{at=ao.doc.execCommand(av,0,ar||null)}catch(ap){aq=ap.message;at=false}if(!at){if("cutcopypaste".indexOf(av)>-1){D(ao,"For security reasons, your browser does not support the "+av+" command. Try using the keyboard shortcut or context menu instead.",an)}else{D(ao,(aq?aq:"Error executing the "+av+" command."),an)}}}s(ao);R(ao,true);return at}function Y(an){setTimeout(function(){if(k(an)){an.$area.focus()}else{an.$frame[0].contentWindow.focus()}s(an)},0)}function n(an){if(N){return x(an).createRange()}return x(an).getRangeAt(0)}function x(an){if(N){return an.doc.selection}return an.$frame[0].contentWindow.getSelection()}function W(ao){var an=/rgba?\((\d+), (\d+), (\d+)/.exec(ao);if(an){ao=(an[1]<<16|an[2]<<8|an[3]).toString(16);while(ao.length<6){ao="0"+ao}return"#"+ao}var ap=ao.split("");if(ao.length===4){return"#"+ap[1]+ap[1]+ap[2]+ap[2]+ap[3]+ap[3]}return ao}function am(){H.each(j,function(an,ao){H(ao).hide().unbind(X).removeData(ah)})}function y(){var an=H("link[href*=cleditor]").attr("href");return an.replace(/^(.*\/)[^\/]+$/,"$1")+"images/"}function K(an){return"url("+y()+an+")"}function ak(ap){var ar=ap.$main,ao=ap.options;if(ap.$frame){ap.$frame.remove()}var aq=ap.$frame=H('<iframe frameborder="0" src="javascript:true;" />').hide().appendTo(ar);var an=aq[0].contentWindow,at=ap.doc=an.document,au=H(at);at.open();at.write(ao.docType+"<html>"+((ao.docCSSFile==="")?"":'<head><link rel="stylesheet" type="text/css" href="'+ao.docCSSFile+'" /></head>')+'<body style="'+ao.bodyStyle+'"></body></html>');at.close();if(N||J){au.click(function(){Y(ap)})}U(ap);if(N||J){au.bind("beforedeactivate beforeactivate selectionchange keypress",function(av){if(av.type==="beforedeactivate"){ap.inactive=true}else{if(av.type==="beforeactivate"){if(!ap.inactive&&ap.range&&ap.range.length>1){ap.range.shift()}delete ap.inactive}else{if(!ap.inactive){if(!ap.range){ap.range=[]}ap.range.unshift(n(ap));while(ap.range.length>2){ap.range.pop()}}}}});aq.focus(function(){ad(ap);H(ap).triggerHandler(O)});aq.blur(function(){H(ap).triggerHandler(g)})}else{H(ap.$frame[0].contentWindow).focus(function(){H(ap).triggerHandler(O)}).blur(function(){H(ap).triggerHandler(g)})}au.click(am).bind("keyup mouseup",function(){s(ap);R(ap,true)});if(p){ap.$area.show()}else{aq.show()}H(function(){var aw=ap.$toolbar,ax=aw.children("div:last"),ay=ar.width();var av=ax.offset().top+ax.outerHeight()-aw.offset().top+1;aw.height(av);av=(/%/.test(""+ao.height)?ar.height():parseInt(ao.height,10))-av;aq.width(ay).height(av);ap.$area.width(ay).height(w?av-2:av);l(ap,ap.disabled);s(ap)})}function s(an){if(!p&&m&&!an.focused){an.$frame[0].contentWindow.focus();window.focus();an.focused=true}var ao=an.doc;if(N){ao=n(an)}var ap=k(an);H.each(an.$toolbar.find("."+S),function(aq,aw){var ar=H(aw),au=H.cleditor.buttons[H.data(aw,ag)],ay=au.command,at=true;if(an.disabled){at=false}else{if(au.getEnabled){var ax={editor:an,button:aw,buttonName:au.name,popup:j[au.popupName],popupName:au.popupName,command:au.command,useCSS:an.options.useCSS};at=au.getEnabled(ax);if(at===undefined){at=true}}else{if(((ap||p)&&au.name!=="source")||(N&&(ay==="undo"||ay==="redo"))){at=false}else{if(ay&&ay!=="print"){if(N&&ay==="hilitecolor"){ay="backcolor"}if(!N||ay!=="inserthtml"){try{at=ao.queryCommandEnabled(ay)}catch(av){at=false}}}}}}if(at){ar.removeClass(aj);ar.removeAttr(E)}else{ar.addClass(aj);ar.attr(E,E)}})}function ad(an){if(an.range){if(N){an.range[0].select()}else{if(J){x(an).addRange(an.range[0])}}}}function aa(an){setTimeout(function(){if(k(an)){an.$area.select()}else{a(an,"selectall")}},0)}function q(aq){ad(aq);var an=n(aq);if(N){return an.htmlText}var ap=H("<layer>")[0];ap.appendChild(an.cloneContents());var ao=ap.innerHTML;ap=null;return ao}function V(an){ad(an);if(N){return n(an).text}return x(an).toString()}function D(ap,aq,ao){var an=u(ap,"msg",ap.options,ae);an.innerHTML=aq;o(ap,an,ao)}function o(ax,ap,aw){var au,ar,ay,ao=H(ap);var at=H(ax.$main),av=at.css("position");if(av!="absolute"&&av!="relative"){at.css("position","relative")}if(aw){var an=H(aw);au=an.position();ar=au.left;ay=au.top+an.height()}else{var aq=ax.$toolbar;au=aq.offset();ar=Math.floor((aq.width()-ao.width())/2)+au.left;ay=au.top+aq.height()-2}am();ao.css({left:ar,top:ay}).show();if(aw){H.data(ap,ah,aw);ao.bind(X,{popup:ap},H.proxy(ab,ax))}setTimeout(function(){ao.find(":text,textarea").eq(0).focus().select()},100)}function k(an){return an.$area.is(":visible")}function U(ar,an){var at=ar.$area.val(),ao=ar.options,av=ao.updateFrame,au=H(ar.doc.body);if(av){var aq=v(at);if(an&&ar.areaChecksum===aq){return}ar.areaChecksum=aq}var ap=av?av(at):at;ap=ap.replace(/<(?=\/?script)/ig,"&lt;");if(ao.updateTextArea){ar.frameChecksum=v(ap)}if(ap!==au.html()){au.html(ap);H(ar).triggerHandler(F)}}function R(at,an){var aq=H(at.doc.body).html(),ap=at.options,av=ap.updateTextArea,ao=at.$area;if(av){var ar=v(aq);if(an&&at.frameChecksum===ar){return}at.frameChecksum=ar}var au=av?av(aq):aq;if(ap.updateFrame){at.areaChecksum=v(au)}if(au!==ao.val()){ao.val(au);H(at).triggerHandler(F)}}})(jQuery);
/*!
* FitText.js 1.2
*
* Copyright 2011, Dave Rupert http://daverupert.com
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*
* Date: Thu May 05 14:23:00 2011 -0600
*/
(function(a){a.fn.fitText=function(d,b){var e=d||1,c=a.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},b);return this.each(function(){var f=a(this);var g=function(){f.css("font-size",Math.max(Math.min(f.width()/(e*10),parseFloat(c.maxFontSize)),parseFloat(c.minFontSize)))};g();a(window).on("resize.fittext orientationchange.fittext",g)})}})(jQuery);var Turbo={head:function(c){var g=0;var d,f,a;var b=c.js||{};var j=c.css||{};var h=document.getElementsByTagName("head")[0];for(var e in j){a=Turbo._makeId(j[e]);if(!document.getElementById(a)){f=document.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=j[e];f.id=a;h.appendChild(f)}}for(var e in b){a=Turbo._makeId(b[e]);d=document.getElementById(a);if(!d){d=document.createElement("script");d.type="text/javascript";d.src=b[e];d.id=a;h.appendChild(d);if(typeof c.callback=="function"){if(d.readyState){d.onreadystatechange=function(){if(d.readyState=="loaded"||d.readyState=="complete"){g++;if(g==b.length){c.callback.call()}}}}else{d.onload=function(){g++;if(g==b.length){c.callback.call()}}}}}else{if(typeof c.callback=="function"){g++;if(g==b.length){c.callback.call()}}}}},_makeId:function(a){var b=a.split("?");if(b.length==2&&/^([\d]{10})$/.exec(b[1])){a=b[0]}return a.replace(/[^a-z0-9-_]/gi,"-").replace(/([-]{2,})/gi,"-")}};var WMApp=(new function(){this.extend=function(a){$.extend(true,this,a)};this.def={};this.define=function(a,b){if(typeof b=="undefined"){return typeof this.def[a]=="undefined"?null:this.def[a]}this.def[a]=b}});var doctitle,link,baselink;$(document).ready(function(){link=window.location.href;baselink=link;doctitle=doctitle||document.title});WMApp.extend({mainPopup:function(b){$(".event-jo-popup-close").click();var c=$(".jo-bg-overlay").size(),a=c?$(".jo-bg-overlay"):$('<div class="jo-bg-overlay">');wrap=$(".jo-bg-wrap").size()?$(".jo-bg-wrap"):$('<div class="jo-popup-wrap">');container=$('<div class="jo-popup-container">');content=$('<div class="jo-popup-content">'),button=$('<button class="mfp-close" type="button" title="Close (Esc)">�</button>');wrap.html(container.html(content.html(b)));if(!c){$("body").prepend(a).prepend(wrap)}$("body").addClass("webkit-fix jo-overflow")},itemPopup:function(b){var b=$(b),a=$("head").requireTemplate("pin"),c=$(b).attr("[data-pindat]")?$(b).data("pindat"):$(b).closest("[data-pindat]").data("pindat");if(!c){window.location=b.attr("href");return}var d=a.tmpl(c);d.find("img, .event-load-lazy-load").LazyLoad();$(".event-preview-holder",d).append('<img src="assets/images/loaders/spinning-loader.svg" class="event-loader-popup">');WMApp.mainPopup(d);$.xhrPool.abortAll();window.popup_opener=b;History.pushState({link:b.attr("href")},c.title,b.attr("href"));$(".event-js-prev,.event-js-next",d).removeClass("button-color-2").addClass("button-color-1");App._ajax({url:b.attr("href"),data:{apis:true},cache:true,onSuccess:function(f){for(var e in f.elements){$(".event-"+e,d).empty();if(f.elements[e].length){$(".event-"+e,d).html(f.elements[e].join(""))}else{$(".event-"+e,d).remove()}}$("select",d).selectbox({speed:1,effect:"fade"});$("textarea.event-elastic",d).elastic();$(".event-tooltip",d).aToolTip();$(".event-focus",d).trigger("focus");d.find("img, .event-load-lazy-load").LazyLoad();initCLEditor();$(".event-preview-holder .event-loader-popup",d).remove();$(".event-js-prev,.event-js-next",d).each(function(g,h){WMApp.pinNavigation(b.attr("href"),$(h))})}});$(document).on("click.event-popup-jo",".event-jo-popup-close",function(){$(".jo-bg-overlay, .jo-popup-wrap").remove();$("body").removeClass("webkit-fix jo-overflow");$.xhrPool.abortAll();History.pushState({link:baselink},doctitle,baselink);doctitle=null;return false}).on("keyup.event-popup-jo",function(g){var f=g.charCode||g.keyCode||g.witch||0;if(f==27){$(".event-jo-popup-close").click();return false}}).unbind(".popupNav").bind("keydown.popupNav","keydown",function(f){if(!$(f.target||f.srcElement).is("textarea")){if(f.keyCode==39){$(".event-js-next").click()}else{if(f.keyCode==37){$(".event-js-prev").click()}}}})}});WMApp.extend({pinPopupPreload:function(c,a){var d=$(c).closest(".event-item").data("pindat");if(!d){return}var b=$("head").requireTemplate("pin");var e=b.tmpl(d);e.find("img, .event-load-lazy-load").LazyLoad();$(a).html(e)},popup:function(a){$('<a class="event-dialog-popup">').attr("href",a).appendTo("body").click();return this},like:function(a){$('a[href="'+a+'"]').removeClass("event-dialog-popup").addClass("event-like-click").eq(0).click();return this},"follow-user":function(a){$('a[href="'+a+'"]').removeClass("event-dialog-popup").addClass("event-follow-user").eq(0).click();return this},"follow-wishlist":function(a){$('a[href="'+a+'"]').removeClass("event-dialog-popup").addClass("event-follow-wishlist").eq(0).click();return this},"follow-single":function(a){$('a[href="'+a+'"]').removeClass("event-dialog-popup").addClass("event-follow-single").eq(0).click();return this}});WMApp.extend({isLogged:function(a){$.ajax({url:"?widget=user.widget.login&waction=check-loged",dataType:"jsonp",success:function(b){if($.isFunction(a)){a.call(this,b)}}})},getUserData:function(a){$.ajax({url:"?widget=user.widget.login&waction=get-data",dataType:"jsonp",success:function(b){if($.isFunction(a)){a.call(b,this)}}})}});WMApp.extend({pinNavigation:function(c,b){var a=null;for(i in this.pinNavigationDefinitions){if(this.pinNavigationDefinitions[i]&&this.pinNavigationDefinitions[i].check&&$.isFunction(this.pinNavigationDefinitions[i].check)&&this.pinNavigationDefinitions[i].nav&&$.isFunction(this.pinNavigationDefinitions[i].nav)&&this.pinNavigationDefinitions[i].check(c),element=this.pinNavigationDefinitions[i].check(c)){this.pinNavigationDefinitions[i].nav(c,b,element);return}}return this},pinNavigationDefinitions:{popup_opener:{check:function(a){if(window.popup_opener&&$('.event-box .event-popup[href^="'+a+'"]:first',$(window.popup_opener).closest("div[class*=event-masonry]")).size()){return $('.event-box .event-popup[href^="'+a+'"]:first',$(window.popup_opener).closest("div[class*=event-masonry]"))}return false},nav:function(f,c,b){if(c.hasClass("event-js-prev")){var d="prevAll"}else{var d="nextAll"}var e=b.closest(".event-box")[d](".event-item").eq(0),a=e.find(".event-popup.event-history");if(a.size()){c.removeClass("button-color-1").addClass("button-color-2").click(function(){App.addLoader(c);WMApp.itemPopup(a);var g=$(window).scrollTop();var h=parseInt(e.css("top"));if(h&&h>g){$("body,html").animate({scrollTop:h},200)}return false})}else{c.removeClass("button-color-2").addClass("button-color-1")}}},"default":{check:function(a){if($('.event-masonry .event-box .event-popup[href^="'+a+'"]:first').size()){return $('.event-masonry .event-box .event-popup[href^="'+a+'"]:first')}return false},nav:function(c,b,a){WMApp.pinNavigationDefinitions.popup_opener.nav.call(this,c,b,a)}},disabled:{check:function(a){return window.disable_navigation_popup},nav:function(c,b,a){b.removeClass("button-color-2").addClass("button-color-1")}},virtual:{check:function(a){if($('.event-pin-popup-navigation .event-pin-navigation[data-href^="'+a+'"]').size()){return $('.event-pin-popup-navigation .event-pin-navigation[data-href^="'+a+'"]:first')}return false},nav:function(f,c,b){if(c.hasClass("event-js-prev")){var d="prevAll"}else{var d="nextAll"}var e=b[d](".event-pin-navigation").eq(0),a=e;if(e.size()){c.removeClass("button-color-1").addClass("button-color-2").click(function(){App.addLoader(c);WMApp.itemPopup(a);var g=$(window).scrollTop();var h=parseInt(e.css("top"));if(h&&h>g){$("body,html").animate({scrollTop:h},800)}return false})}else{c.removeClass("button-color-2").addClass("button-color-1")}}}}});WMApp.extend({userPaneTabs:function(){$(".event-tabs .event-tab").hide();$(".event-tabs .event-tab:first").show();$(".event-tabs .event-btns li:first").addClass("active");$(".event-tabs .event-btns li a").click(function(){$(".event-tabs .event-btns li").removeClass("active");$(this).parent().addClass("active");var a=$(this).attr("href");$(".event-tabs .event-tab").hide();$(a).show(0,function(){var b=$(this).find(".event-scroll").data("jsp");if(b){b.reinitialise()}});return false})},jsPane:function(){$(".event-scroll").each(function(){$(this).jScrollPane({showArrows:$(this).is(".arrow"),verticalGutter:5,mouseWheelSpeed:25,autoReinitialise:true}).bind("mousewheel",function(c){c.preventDefault()});var a=$(this).data("jsp");var b;$(window).bind("resize",function(){if(!b){b=setTimeout(function(){a.reinitialise();b=null},50)}})})},HTML5FormValidate:function(a){$(a).each(function(){var b=this;H5F.setup(b,{validClass:"valid",invalidClass:"field-color-2",requiredClass:"field-color-2"})})}});function App(){this.optionsAjax={url:"",data:{},type:"GET",onComplete:function(){},onSuccess:function(){},async:false,dataType:"jsonp"};var a=new Image();a.src="assets/images/loaders/spinning-loader.svg"}App.prototype={History:window.History,State:this.History.getState(),HistoryIsLoad:false,Location:window.location.href,Title:document.title,_ajax:function(a){a=$.extend({},this.optionsAjax,a);a.url+=a.url.indexOf("?")>-1?"&RSP=ajax":"?RSP=ajax";return jQuery.ajax({url:a.url,type:a.type,dataType:a.dataType,cache:a.cache?a.cache:false,jsonpCallback:"jsoncallback",data:a.data,complete:a.onComplete,success:a.onSuccess})},likeLink:function(a){if(jQuery){var b=this;$(a||".event-like-click").live("click",function(){var c=$(this);b.addLoaderFull(c);b._ajax({url:c.attr("href"),onSuccess:function(d){b.removeLoader(c);if(d.location){window.location=d.location}else{if(d.error){alert(d.error)}else{if(d.trues){c.addClass("active");if(c.data("textactive")){c.text(c.data("textactive"))}}else{if(d.falses){c.removeClass("active");if(c.data("textinactive")){c.text(c.data("textinactive"))}}}}}if(d.info){for(i in d.info.stats){$(".event-stats-"+d.info.id+" .event-"+i).html(d.info.stats[i])}}if(d.infouser){for(i in d.infouser.stats){$(".event-stats-user-"+d.infouser.id+" .event-"+i).html(d.infouser.stats[i])}}}});return false})}},followUserLink:function(a){if(jQuery){var b=this;a=a||".event-follow-user";$(a).live("click",function(){var c=$(this);b.addLoader(c);b._ajax({url:c.attr("href"),onSuccess:function(d){b.removeLoader(c);if(d.location){window.location=d.location}else{if(d.error){alert(d.error)}else{if(d.isFollow===true){c.removeClass("button-color-3").addClass("button-color-2");if(c.data("textactive")){c.text(c.data("textactive"))}if(c.data("userid")){$('a[data-userid="'+c.data("userid")+'"]').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textactive")){$(this).text(c.data("textactive"))}})}}else{if(d.isFollow===false){c.removeClass("button-color-2").addClass("button-color-3");if(c.data("textinactive")){c.text(c.data("textinactive"))}if(c.data("userid")){$('a[data-userid="'+c.data("userid")+'"]').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textinactive")){$(this).text(c.data("textinactive"))}})}}}}}if(d.info){for(i in d.info.stats){$(".event-stats-user-"+d.info.id+" .event-"+i).html(d.info.stats[i])}}}});return false})}},followWishlistLink:function(a){if(jQuery){var b=this;a=a||".event-follow-wishlist1";$(a).live("click",function(){var c=$(this);b.addLoader(c);b._ajax({url:c.attr("href"),onSuccess:function(d){b.removeLoader(c);if(d.location){window.location=d.location}else{if(d.error){alert(d.error)}else{if(d.isFollow===true){c.removeClass("button-color-2").addClass("button-color-3");if(c.data("textactive")){c.text(c.data("textactive"))}if(c.data("userid")){$('.event-follow-user[data-userid="'+c.data("userid")+'"]').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textactive")){$(this).text(c.data("textactive"))}})}if(c.data("wishlistid")){$('.event-follow-wishlist[data-wishlistid="'+c.data("wishlistid")+'"]').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textactive")){$(this).text(c.data("textactive"))}})}}else{if(d.isFollow===false){c.removeClass("button-color-2").addClass("button-color-3");if(c.data("textinactive")){c.text(c.data("textinactive"))}if(c.data("userid")){if(d.isFollowUser===true){$('.event-follow-user[data-userid="'+c.data("userid")+'"]').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textactive")){$(this).text(c.data("textactive"))}})}else{$('.event-follow-user[data-userid="'+c.data("userid")+'"]').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textinactive")){$(this).text(c.data("textinactive"))}})}}if(c.data("wishlistid")){$('.event-follow-wishlist[data-wishlistid="'+c.data("wishlistid")+'"]').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textinactive")){$(this).text(c.data("textinactive"))}})}}}}}if(d.infouser){for(i in d.infouser.stats){$(".event-stats-user-"+d.infouser.id+" .event-"+i).html(d.infouser.stats[i])}}if(d.infowishlist){for(i in d.infowishlist.stats){$(".event-stats-wishlist-"+d.infowishlist.id+" .event-"+i).html(d.infowishlist.stats[i])}}}});return false})}},placeholder:function(a){if(jQuery&&jQuery.fn.joPlaceholder){jQuery(a||"input,textarea").joPlaceholder()}},fancybox:function(b){var a=this;$.fancybox({content:b,type:"inline",live:true,beforeLoad:function(){$("body").css({"overflow-y":"hidden"})},fitToView:false,autoCenter:true,afterClose:function(){$("body").css({"overflow-y":"visible"});$(".mfp-wrap").css({visibility:"visible"});$(".auto-complete-list").remove()},beforeShow:function(){a.Title=a.Title||document.title},afterShow:function(){a.selectBox();$(".mfp-wrap").css({visibility:"hidden"})},padding:0,margin:0,arrows:false,mouseWheel:false,helpers:{title:null,overlay:{closeClick:true}},openEffect:"none",closeEffect:"none",nextEffect:"none",prevEffect:"none"})},fancyboxAjax:function(a){if(jQuery&&jQuery.fn.fancybox){var b=this;$(a||".event-fancybox-ajax").fancybox({type:"ajax",live:true,beforeLoad:function(){$("body").css({"overflow-y":"hidden"});this.original_href=this.href;this.href+=(this.href.indexOf("?")>-1?"&RSP=ajax":"?RSP=ajax")},fitToView:false,autoCenter:true,afterClose:function(){$("body").css({"overflow-y":"visible"});$(".mfp-wrap").css({visibility:"visible"});$(".auto-complete-list").remove()},beforeShow:function(){b.Title=b.Title||document.title},afterShow:function(){b.selectBox();elm=$(this.element[0]);if($(".fancybox-nav").size()<1){$(".event-next-pin, .event-prev-pin").remove()}$(".mfp-wrap").css({visibility:"hidden"})},padding:0,margin:0,scrolling:"no",helpers:{title:null,overlay:{closeClick:true}},openEffect:"none",closeEffect:"none",nextEffect:"none",prevEffect:"none"})}},fancyboxClose:function(a){if(jQuery&&jQuery.fn.fancybox){var b=this;$(a||".event-fancybox-close").live("click",function(){jQuery.fancybox.close();b.HistoryIsLoad=false;return false})}},selectBox:function(a){if(jQuery&&jQuery.fn.selectBox){$(a||"select:not(.event-wishlist-init,.event-no-selectbox)").selectBox({onOpen:function(b){$(this).next().addClass("sbHolder-open")},onClose:function(b){$(this).next().removeClass("sbHolder-open")},effect:"fade"})}},selectBoxWithWishlist:function(a){if(jQuery&&jQuery.fn.selectbox){options=$.extend({},{url:"",create:"Create",close:"Close",placeholder:"Create New Wishlist",chose_category:"Choose a Category",classname:".event-wishlist-init",categories:{},},a);$(options.classname).selectbox({onOpen:function(b){$(this).next().addClass("sbHolder-open")},onClose:function(b){$(this).next().removeClass("sbHolder-open")},effect:"fade"}).callbackAfter(function(){var b=$(this).selectbox("instance");if(b){var c='<li class="createwishlist clearfix"><form action="'+options.url+'" method="post" id="event-new-wishlist-'+b.uid+'">';c+='<select name="category_id" class="event-no-selectbox selectbox-in-selectbox">';c+='<option value="">'+options.chose_category+"</option>";for(i in options.categories){c+='<option value="'+options.categories[i].id+'">'+options.categories[i].title+"</option>"}c+="</select>";c+='<input type="text" id="f-1" name="title" value="" placeholder="'+options.placeholder+'">';c+='<button class="event-loader-dynamic button button-color-1">'+options.create+"</button>";c+="</form></li>";$("#sbOptions_"+b.uid).prepend(c).callbackAfter(function(){$select=this;$("form input[name=title]",$select).keydown(function(f){var d=f.charCode?f.charCode:f.keyCode?f.keyCode:0;if(d==13){$("form button",$select).click();return false}});$("form",$select).submit(function(){return false});$("form button",$select).click(function(){$("#sbOptions_"+b.uid).parents("form").find(".notification.error").remove();var d=this;App.addLoader(this);App._ajax({url:options.url,type:"POST",data:$("#event-new-wishlist-"+b.uid).serialize(),onSuccess:function(f){App.removeLoader(d);if(f.location){window.location=f.location}else{if(f.errors){var e="";for(i in f.errors){e+=f.errors[i]+"<br />"}$("#sbOptions_"+b.uid).parents("form").append('<div class="notification error">'+e+'<a class="button-close" href="javascript:void(0);">'+options.close+"</a></div>")}else{if(f.ok){$(b.input).append('<option selected="selected" value="'+f.ok.id+'">'+f.ok.text+"</option>").selectbox("change",f.ok.id,f.ok.text).selectbox("close")}else{console.log(f)}}}}});return false})})}})}},post:function(a,c){if(jQuery){var b=this;$(a||"form").bind("submit",function(){options={url:$(this).attr("action"),type:"POST",onSuccess:$.isFunction(c)?c:function(){},data:$(this).serialize()};b._ajax(options);return false})}},turboPin:function(){$(".event-turbo-click").live("click",function(){var b=this;var a=b.href;if(!$(this).hasClass("event-no-loader")){App.addLoaderNoBg(b);$("img:not(.svg-loader)",b).css({visibility:"hidden"})}App._ajax({url:a,onSuccess:function(c){App.removeLoader(b);$("#event-content").replaceWith(c.content);$(".mfp-wrap").scroll();$(window).scroll();History.pushState({link:b.href},c.title,b.href)}});return false});$(document).unbind(".popupNav").bind("keydown.popupNav","keydown",function(a){if(!$(a.target||a.srcElement).is("textarea")){if(a.keyCode==39){$(".event-turbo-click.event-next").click()}else{if(a.keyCode==37){$(".event-turbo-click.event-prev").click()}}}})},scrolltotop:function(a){$(a||".event-scrolltotop").bind("click.smoothscroll",function(b){b.preventDefault();$("html, body").stop().animate({scrollTop:0},700,"swing");return false});if(!$(a||".event-scrolltotop").is(":visible")){$(window).scroll(function(){if($(this).scrollTop()>$(window).height()){$(a||".event-scrolltotop").show()}else{$(a||".event-scrolltotop").hide()}})}},addLoader:function(c){c=$(c);var e=c.css("position")=="absolute";var b=Math.min((c.outerWidth()-10),(c.outerHeight()-10));if(c.data("loadersize")){b=Math.min(parseInt(c.data("loadersize")),b)}var a=$('<img height="'+b+'" src="assets/images/loaders/spinning-loader.svg" class="svg-loader" />').css({position:"absolute",top:"50%",left:"50%","margin-top":"-"+(b/2)+"px","margin-left":"-"+(b/2)+"px"});var d=c.attr("style");if(c.is(".button")){a.css({width:b,height:b})}else{c.css({height:b})}c.data("style",d).css({position:e?"absolute":"relative"}).addClass("text-transparent").append(a).attr("disabled",true)},addLoaderNoBg:function(c){c=$(c);var e=c.css("position")=="absolute";var b=Math.min((c.outerWidth()-10),(c.outerHeight()-10));var a=$('<img height="'+b+'" src="assets/images/loaders/spinning-loader.svg" class="svg-loader" />').css({position:"absolute",top:"50%",left:"50%","margin-top":"-"+(b/2)+"px","margin-left":"-"+(b/2)+"px"});var d=c.attr("style");if(c.is(".button")){a.css({width:b,height:b})}else{c.css({height:b})}c.data("style",d).css({position:e?"absolute":"relative","background-image":"none"}).addClass("text-transparent no-bg-image").append(a).attr("disabled",true)},addLoaderFull:function(c){c=$(c);var e=c.css("position")=="absolute";var b=Math.min((c.outerWidth()-4),(c.outerHeight()-4));var a=$('<img height="'+b+'" src="assets/images/loaders/spinning-loader.svg" class="svg-loader" />').css({position:"absolute",top:"50%",left:"50%","margin-top":"-"+(b/2)+"px","margin-left":"-"+(b/2)+"px"});var d=c.attr("style");if(c.is(".button")){a.css({width:b,height:b})}else{c.css({height:b})}c.data("style",d).css({position:e?"absolute":"relative","background-image":"none"}).addClass("text-transparent").append(a).attr("disabled",true)},removeLoader:function(a){a=$(a);a.removeAttr("style").removeClass("text-transparent no-bg-image").attr("style",a.data("style")).attr("disabled",false);a.find(".svg-loader").remove()},historyLink:function(){if($.browser.msie&&this.State.hash.split("?")[0]&&this.State.hash.split("?")[0]!="./"&&this.State.hash.split("?")[0]&&this.State.hash.split("?")[0].replace("#","")==window.location.hash.split("?")[0].replace("#","")){window.location=this.State.url.replace("#","")}},popupPin:function(a){var b=this;$(a||".event-popup-ajax").live("click",function(){link=this;href=link.href;href+=link.href.indexOf("?")>-1?"&RSP=ajax&popup=true":"?RSP=ajax&popup=true";$('<a href="'+href+'">').magnificPopup({type:"ajax",ajax:{settings:{dataType:"jsonp"}},alignTop:true,overflowY:"scroll",closeOnBgClick:false,showCloseBtn:false,callbacks:{beforeOpen:function(){b.Title=b.Title||document.title;b.Location=decodeURIComponent(document.URL)},beforeClose:function(){b.History.pushState({link:b.Location},b.Title,b.Location);b.HistoryIsLoad=false;$(document).unbind(".popupNav");$(".tipr_container_bottom").hide()},parseAjax:function(c){b.History.pushState({link:link.href},c.data.title,link.href);b.HistoryIsLoad=true;c.data=c.data.content},open:function(){$(document).unbind(".popupNav").bind("keydown.popupNav","keydown",function(c){if(!$(c.target||c.srcElement).is("textarea")){if(c.keyCode==39){$(".event-next").click()}else{if(c.keyCode==37){$(".event-prev").click()}}}})},ajaxContentAdded:function(){if(window.addthis){window.addthis=null;window._adr=null;window._atc=null;window._atd=null;window._ate=null;window._atr=null;window._atw=null}var c="http://s7.addthis.com/js/250/addthis_widget.js";$.getScript(c).done(function(f){addthis.init()});var e=parseInt($("#headbar").css("margin-top").replace("px",""));var d=parseInt($("#headbar").css("height").replace("px",""));$(".mfp-wrap").scroll(function(f){if($(this).scrollTop()>=e){$("#headbar",this).addClass("fixed");$("#event-content",this).css({"padding-top":(e+d)+"px"})}else{$("#headbar",this).removeClass("fixed");$("#event-content",this).removeAttr("style")}});$("#content").live("click",function(f){if(f.target==this){$.magnificPopup.close()}})}}}).click().remove();return false})},popupClose:function(a){if(jQuery&&jQuery.fn.magnificPopup){var b=this;$(a||".event-popup-close").live("click",function(){$.magnificPopup.close();b.History.pushState({link:b.Location},b.Title,b.Location);b.HistoryIsLoad=false;return false})}},returnContainment:function(f){f=$(f);if(f.size()!=1){return[0,0,0,0]}var g=f.parent().width();var c=f.parent().height();var e=f.offset();var b=f.width();var a=f.height();var d=e.top-parseInt(f.css("top"));return[(e.left+g)-b,(d+c)-a,e.left,d]}};var App=new App();var abortAjaxRequests=function(){};(function(){$.xhrPool=[];$.xhrPool.abortAll=function(a){$(this).each(function(b,c){console&&console.log&&console.log("xhrPool.abortAll "+c.requestURL);if(!a||a===c.requestURL){c.abort();$.xhrPool.splice(b,1)}})};$.ajaxSetup({beforeSend:function(a){$.xhrPool.push(a)},complete:function(b){var a=$.xhrPool.indexOf(b);if(a>-1){$.xhrPool.splice(a,1)}}});$.ajaxPrefilter(function(a,c,b){console&&console.log&&console.log("ajaxPrefilter "+a.url);b.requestURL=a.url})})(jQuery);
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(f){var a=/\+/g;function d(j){return b.raw?j:encodeURIComponent(j)}function g(j){return b.raw?j:decodeURIComponent(j)}function h(j){return d(b.json?JSON.stringify(j):String(j))}function c(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(a," "));return b.json?JSON.parse(j):j}catch(k){}}function e(k,j){var l=b.raw?k:c(k);return f.isFunction(j)?j(l):l}var b=f.cookie=function(q,p,v){if(arguments.length>1&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setTime(+u+r*86400000)}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))}var w=q?undefined:{};var s=document.cookie?document.cookie.split("; "):[];for(var o=0,m=s.length;o<m;o++){var n=s[o].split("=");var j=g(n.shift());var k=n.join("=");if(q&&q===j){w=e(k,p);break}if(!q&&(k=e(k))!==undefined){w[j]=k}}return w};b.defaults={};f.removeCookie=function(k,j){if(f.cookie(k)===undefined){return false}f.cookie(k,"",f.extend({},j,{expires:-1}));return !f.cookie(k)}}));$(document).ready(function(){$('[class*="-cancel"]').on("click",function(){$.magnificPopup.close();$(this).closest(".event-dialog-popup-holder").dialog("close");return false});$(".event-toggle-profilebox").on("click",function(){$(this).toggleClass("active");$(".profiletogglebox").slideToggle(function(){$(document).trigger("store-open")});return false});if(!browserDetect.isDesktop){$("li, .dropdown-show").on("click",function(e){$(this).find(".dropdown").show()});$(".list-23 > li > a.member").on("click",function(e){e.preventDefault();$(this).parent().find(".dropdown").show()})}$(document).on("click touchstart",function(e){var tag=$(e.target||e.toElement);var tagName=tag.get(0).tagName;if(!browserDetect.isDesktop){if(tagName!="SPAN"&&tagName!="A"&&tagName!="IMG"&&!tag.hasClass("event-scroll-cats")&&!tag.parents(".dropdown").size()){$(".dropdown").hide()}}if(tagName!="A"&&!tag.parents(".event-custom-options").size()){$(".event-custom-options").hide()}if(!tag.parents(".autocomplete").size()){$(".autocomplete").addClass("hide")}});$(window).scroll(function(){if($(this).scrollTop()>200){$(".event-scrolltotop").fadeIn()}else{$(".event-scrolltotop").fadeOut()}});$(".event-scrolltotop").click(function(){$("body,html").animate({scrollTop:0},500);return false});$(".event-fittext").fitText(1.5);$("select").selectbox({speed:0,effect:"fade"});if($(window).width()>1250){$(".event-tooltip").aToolTip({xOffset:10,yOffset:5})}$(".menu-tooltip").aToolTip();$("textarea.event-elastic").elastic();$(".event-focus").trigger("focus");$("footer .toggle").on("click",function(event){event.preventDefault();$(this).parent("footer").toggleClass("active");$(".footer-widgets").toggle();$(this).toggleClass("active").parent().find(".footer-hidden-part").toggle()});var isIOS8=function(){var deviceAgent=navigator.userAgent.toLowerCase();return/(iphone|ipod|ipad).* os 8_/.test(deviceAgent)};var isIOS7=function(){var deviceAgent=navigator.userAgent.toLowerCase();return/(iphone|ipod|ipad).* os 7_/.test(deviceAgent)};if(isIOS8()||isIOS7()){$(".event-back-ios-8").show()}var link=window.location.href,baselink=link,title=document.title;window.popup_opener=null,window.disable_navigation_popup=false;$(document).off(".event-popup").on("contextmenu.event-popup",function(e){var $target=$(e.srcElement||e.target||e.toElement);if($target.hasClass(".event-popup .event-popup-image")){e.preventDefault();$(this).click()}else{if($target.closest(".event-popup, .event-popup-image").size()){e.preventDefault();$target.closest(".event-popup, .event-popup-image").click()}}}).on("click.event-popup",".event-popup:not(.event-history)",function(){if(isIOS8()&&$(this).find(".icon-16").size()||isIOS8()&&$(this).find(".icon-13").size()||isIOS8()&&$(this).find(".icon-15").size()||isIOS8()&&$(".list-28 .event-popup").size()||isIOS8()&&$(".event-ios8").size()||isIOS7()&&$(this).find(".icon-16").size()||isIOS7()&&$(this).find(".icon-13").size()||isIOS7()&&$(this).find(".icon-15").size()||isIOS7()&&$(".list-28 .event-popup").size()||isIOS7()&&$(".event-ios8").size()){return true}$(this).magnificPopup({fixedContentPos:true,type:"ajax",closeOnBgClick:false,enableEscapeKey:false,callbacks:{ajaxContentAdded:function(){$("select").selectbox({speed:1,effect:"fade"});$("textarea.event-elastic").elastic();$(".event-tooltip").aToolTip();$(".event-focus").trigger("focus");$("body").css({overflow:"hidden"}).addClass("webkit-fix");initCLEditor();WMApp.jsPane()},close:function(){$("body").css({overflow:"inherit"}).removeClass("webkit-fix")}}}).magnificPopup("open");return false}).on("click.event-popup",".event-popup.event-history",function(){window.popup_opener=$(this).closest(".columns").size()?null:$(this);window.disable_navigation_popup=$(this).closest(".columns").size();WMApp.itemPopup(this);return false}).on("click.event-popup",".event-popup-image",function(){$(this).magnificPopup({type:"image",closeOnBgClick:false}).magnificPopup("open")}).on("click.event-popup",".event-popup-close",function(){if($(this).closest(".event-dialog-popup").size()){$(this).closest(".event-dialog-popup").find(".event-dialog-close").click()}else{if($(".mfp-container").size()){$.magnificPopup.close()}}return false}).on("click.event-popup",".event-dialog-popup",function(){var url=$(this).attr("href")?$(this).attr("href"):"";url+=url.indexOf("?")>-1?"&":"?";url+="RSP=ajax";$('<div class="event-dialog-popup-holder">').dialog({resizable:false,draggable:false,autoResize:false,minHeight:"0",maxHeight:"0",width:"100%",center:false,modal:true,dialogClass:"dialog",closeOnEscape:false,open:function(event,ui){$("body").css({overflow:"hidden"}).addClass("webkit-fix");var $this=$(this);$(this).parent().wrapInner('<div class="dialog-content-wrapper"><div class="dialog-content"></div></div>');$("html").addClass("dialog-popup-open-ajax");$.ajax({url:url,success:function(res){var $res=$(res);$("select",$res).selectbox();$($res).prepend('<button class="event-dialog-close" />');$this.append($res);$(".mfp-wrap").hide()}})},close:function(event,ui){$("body").css({overflow:"inherit"}).removeClass("webkit-fix");$(this).remove();$("html").removeClass("dialog-popup-open-ajax");$(".mfp-wrap").show()}});return false}).on("click",".event-dialog-close, .event-dialog-close-button",function(){$(this).closest(".event-dialog-popup-holder").dialog("close");return false}).on("keyup",function(e){if((e.keyCode||e.which)==27&&$(".event-dialog-popup").size()){$(".event-dialog-popup:last-child").find(".event-dialog-close").click();e.stopPropagation();return false}else{if((e.keyCode||e.which)==27&&$(".mfp-container").size()){$.magnificPopup.close();e.stopPropagation();return false}}}).on("click",".event-dialog-close-all",function(){$(".event-dialog-popup-holder").each(function(){$(this).find(".event-dialog-close").click()})});$(window).resize(function(){$(".event-dialog-popup").size()?$(".event-dialog-popup").dialog("option","position",{my:"center",at:"center",of:window}):null});$(document).on("submit.loader",".event-pin-filter-form",function(){App.addLoader($(".event-button-loader",this))});$(document).off("click.event-like-click").on("click.event-like-click",".event-like-click",function(){var link=$(this);WMApp.isLogged(function(logged){if(!logged){return link.removeClass("event-like-click").addClass("event-dialog-popup").click()}App.addLoaderNoBg($('a[href="'+link.attr("href")+'"]'));App._ajax({url:link.attr("href"),onSuccess:function(result){App.removeLoader($('a[href="'+link.attr("href")+'"]'));if(result.location){window.location=result.location}else{if(result.error){alert(result.error)}else{if(result.trues){link.addClass("active");if(link.data("textactive")){$('a[href="'+link.attr("href")+'"]').each(function(){$(this).attr("title",$(this).data("textactive"));if($(this).hasClass("event-text-like-change")){$(this).text($(this).data("textactive"))}})}}else{if(result.falses){link.removeClass("active");if(link.data("textinactive")){$('a[href="'+link.attr("href")+'"]').each(function(){$(this).attr("title",$(this).data("textinactive"));if($(this).hasClass("event-text-like-change")){$(this).text($(this).data("textinactive"))}})}}}}}$("#aToolTip").remove();link.aToolTip({xOffset:10,yOffset:5});if(result.info){for(i in result.info.stats){$(".event-stats-"+result.info.id+" .event-"+i).html(result.info.stats[i]);if(i=="likes"){$(".event-stats-"+result.info.id+" .event-"+i)[result.info.stats[i]?"removeClass":"addClass"]("hide")}if(i=="repins"){$(".event-stats-"+result.info.id+" .event-"+i)[result.info.stats[i]?"removeClass":"addClass"]("hide")}}}if(result.infouser){for(i in result.infouser.stats){$(".event-stats-user-"+result.infouser.id+" .event-"+i).html(result.infouser.stats[i])}}}})});return false});WMApp.jsPane();WMApp.userPaneTabs();$(".event-thumbs-scroller").mThumbnailScroller({axis:"x",easing:"easeInOutSmooth",speed:60});$("img[data-original], .event-load-lazy-load").LazyLoad();$(document).on("click",".event-follow-single",function(event){var link=$(this);event.preventDefault();WMApp.isLogged(function(logged){if(!logged){return link.removeClass("event-follow-single").addClass("event-dialog-popup").click()}App.addLoader(link);App._ajax({url:link.attr("href"),onSuccess:function(result){App.removeLoader(link);if(result.location){if(result.popup){return $('<a href="'+result.location+'" class="hide event-dialog-popup"></a>').appendTo("body").trigger("click").remove()}window.location=result.location;return}if(result.error){alert(result.error);return}if(result.isFollow===true&&link.data("textactive")){link.text(link.data("textactive")).removeClass("button-color-2").addClass("button-color-3")}if(result.isFollow===false&&link.data("textinactive")){link.text(link.data("textinactive")).removeClass("button-color-3").addClass("button-color-2")}if(result.info&&result.info.group){for(i in result.info.stats){$(".event-"+i+"-"+result.info.group+"-"+result.info.id).html(result.info.stats[i])}}}})});return false});$(document).on("click",".event-follow-user",function(event){event.preventDefault();var link=$(this);WMApp.isLogged(function(logged){if(!logged){return link.removeClass("event-follow-user").addClass("event-dialog-popup").click()}App.addLoader(link);App._ajax({url:link.attr("href"),onSuccess:function(result){App.removeLoader(link);if(result.location){if(result.popup){return $('<a href="'+result.location+'" class="hide event-popup"></a>').appendTo("body").trigger("click").remove()}window.location=result.location;return}if(result.error){alert(result.error);return}if(result.isFollow===true){$('a[data-userid="'+link.data("userid")+'"]').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textactive")){$(this).text($(this).data("textactive"))}})}if(result.isFollow===false){$('a[data-userid="'+link.data("userid")+'"]').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textinactive")){$(this).text($(this).data("textinactive"))}})}if(result.info){$(".event-followers-"+result.info.id).html(result.info.stats.followers)}}})});return false});$(document).on("click",".event-follow-wishlist",function(event){event.preventDefault();var link=$(this);WMApp.isLogged(function(logged){if(!logged){return link.removeClass("event-like-click").addClass("event-dialog-popup").click()}App.addLoader(link);App._ajax({url:link.attr("href"),onSuccess:function(result){App.removeLoader(link);if(result.location){if(result.popup){return $('<a href="'+result.location+'" class="hide event-popup"></a>').appendTo("body").trigger("click").remove()}window.location=result.location;return}if(result.error){alert(result.error);return}if(result.isFollow===true){$('.event-follow-user[data-userid="'+link.data("userid")+'"]').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textactive")){$(this).text($(this).data("textactive"))}});$('.event-follow-wishlist[data-wishlistid="'+link.data("wishlistid")+'"]:not(.event-follow-user)').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textactive")){$(this).text($(this).data("textactive"))}})}if(result.isFollow===false){if(result.isFollowUser===true){$('.event-follow-user[data-userid="'+link.data("userid")+'"]').each(function(){$(this).removeClass("button-color-2").addClass("button-color-3");if($(this).data("textactive")){$(this).text($(this).data("textactive"))}})}else{$('.event-follow-user[data-userid="'+link.data("userid")+'"]').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textinactive")){$(this).text($(this).data("textinactive"))}})}$('.event-follow-wishlist[data-wishlistid="'+link.data("wishlistid")+'"]:not(.event-follow-user)').each(function(){$(this).removeClass("button-color-3").addClass("button-color-2");if($(this).data("textinactive")){$(this).text($(this).data("textinactive"))}})}if(result.infouser){for(i in result.infouser.stats){$(".event-stats-user-"+result.infouser.id+" .event-"+i).html(result.infouser.stats[i])}}if(result.infowishlist){for(i in result.infowishlist.stats){$(".event-stats-wishlist-"+result.infowishlist.id+" .event-"+i).html(result.infowishlist.stats[i])}}}})});return false});initCLEditor();var oldbeforeunload=window.onbeforeunload;window.onbeforeunload=function(){var r=oldbeforeunload?oldbeforeunload():undefined;if(r==undefined){$.xhrPool.abortAll()}return r};$(document).on("click",".event-turbo-click",function(){$.xhrPool.abortAll();var $this=$(this),link=$this.attr("href");link+=link.indexOf("?")>-1?"&":"?";link+="RSP=html&nolayout=true";if(!$this.hasClass("no-loader")){if($this.hasClass("event-full-loader")){App.addLoaderFull($this)}else{if($this.hasClass("event-nobg-loader")){App.addLoaderNoBg($this)}else{App.addLoader($this)}}}$(".event-item-contaner").load(link+" .event-item-contaner>.container",function(data){$("<div>").append(data).find("script").each(function(i){try{eval($(this).text())}catch(e){}}).remove();History.pushState({link:$this.attr("href")},$(data).find(".event-item-title").text(),$this.attr("href"));$("body,.mfp-wrap").scrollTop(0);$(".event-item-contaner").append('<button class="mfp-close" type="button" title="Close (Esc)">�</button>');return data});return false})});function initCLEditor(){var a=navigator.userAgent.toLowerCase();var b=a.indexOf("android")>-1;if(!b){if($("textarea.event-wysiwyg-editor").length&&$("textarea.event-wysiwyg-editor").cleditor){$("textarea.event-wysiwyg-editor").cleditor({controls:"bold italic underline strikethrough | subscript superscript style | bullets numbering | link unlink | removeformat",styles:[[pin18n.get("Paragraph"),"<p>"],[pin18n.get("Header 1"),"<h4>"],[pin18n.get("Header 2"),"<h5>"],[pin18n.get("Header 3"),"<h6>"]],docType:"<!DOCTYPE html>"})}}}function menuWidthFix(){var c=$("header");headerWidth=c.width();var a=0;var b=$("<div>").css({position:"absolute",top:-50000,left:-50000}).html(c.find(">*").clone()).find(".list-22 li a span.hide").removeClass("hide").end().appendTo("body");b.find(">*").each(function(){a+=$(this).outerWidth(true)}).end().remove();$("header .list-22 li a").each(function(){$("span:eq(1)",this)[a>headerWidth?"addClass":"removeClass"]("hide")})}$(document).ready(function(){menuWidthFix()});